Changes between 9.0 and 9.1
================================================================================

COMMITS
--------------------------------------------------------------------------------

Commit: 81a79c35941e86f36b604ec1daf7bbaf8464b495
Author: Tim Abbott
Date: 2024-07-25 20:43:02+00:00
Message: version: Update version after 9.0 release.
----------------------------------------

Commit: 86f8c553e32a8f3481d60698ee782793a014dbbd
Author: Alex Vandiver
Date: 2024-07-26 17:44:58+00:00
Message: upgrade-zulip-stage-2: Be more specific about OS upgrade steps.

(cherry picked from commit 1f2f28bbf5f5d5fba123a5f2b6ad1ec5c18794ff)
----------------------------------------

Commit: 1deab9d4f43a24ecf468409b961eeb6d6bef39b4
Author: Alex Vandiver
Date: 2024-07-31 17:47:39+00:00
Message: docs: Document supported PostgreSQL versions in 9.x series.

(cherry picked from commit e77a425a2b340d60be17cdb8c4d71a4216878372)
----------------------------------------

Commit: ac58088dfa0a70120bf5515a5db3d84ac09b1956
Author: Alex Vandiver
Date: 2024-07-31 17:48:46+00:00
Message: docs: Swap upgrade-postgresql steps with rebuilding the venv.

As of 1f68726cb834, the upgrade-postgresql tool uses Python to connect
to the database used by Django, and thus requires a working venv.
There is no reason we cannot reinstall the venv with the old version
of PostgreSQL; swap the steps.

(cherry picked from commit 5e5478307a801ce546ccce525be29493ba98ff55)
----------------------------------------

Commit: cc495d0aed5e104cf7ce93a1a65cfe548a43cf85
Author: Alex Vandiver
Date: 2024-07-31 18:04:01+00:00
Message: docs: Document when to restart the server.

(cherry picked from commit 49a9405aad717a6ef943a407d57952b0e132b50b)
----------------------------------------

Commit: 82bfcbd3e12fd9807881d19436590afbf0635982
Author: Alex Vandiver
Date: 2024-07-31 18:05:48+00:00
Message: docs: Document the dialogs shown by needrestart in 22.04.

(cherry picked from commit 7594d2eecfd312675f6115bf6cd9d98df5779c07)
----------------------------------------

Commit: ae14d05aa8befc46e65018d7452cac3527b81edf
Author: Alex Vandiver
Date: 2024-07-31 18:12:13+00:00
Message: docs: Remove an "e.g." when we have explicit steps.

(cherry picked from commit 5df48dd4d0fae545a0cee23e367eb49cc2b18f70)
----------------------------------------

Commit: 63cfde3a34caf25b84f4a3b6a3a9a052eca4b913
Author: Alex Vandiver
Date: 2024-07-31 18:09:53+00:00
Message: docs: Add OS upgrade instructions for 22.04 to 24.04.

(cherry picked from commit 604e328038d13434932a67ff9f50864af0214262)
----------------------------------------

Commit: 6b697b7563c90735281db956e6cb1c8deada55e9
Author: Tim Abbott
Date: 2024-07-31 19:11:20+00:00
Message: i18n: Update translations from Transifex.
----------------------------------------

Commit: e80274c089e6adb5575c3101f35b8ed832620a3d
Author: Tim Abbott
Date: 2024-08-01 01:13:27+00:00
Message: version: Add changelog entry for Zulip Server 8.5.
----------------------------------------

Commit: e910a3d1f82fb924bc95c6b5a8bcccde78cfc85d
Author: adnan-td
Date: 2024-07-22 18:44:01+00:00
Message: integration-docs: Update Sentry to the new doc format.

Part of #29592.

(cherry picked from commit bdbe3adf1b5c82726805ddbe8165a4f78bb7788d)
----------------------------------------

Commit: 3aefc1a8cafa3797f46af9941c55fc0a789fac92
Author: adnan-td
Date: 2024-07-22 18:50:40+00:00
Message: integration-docs: Update Semaphore to the new doc format.

Part of #29592.

Co-authored-by: Lauryn Menard <lauryn@zulip.com>
(cherry picked from commit 76df435dab10d93c5cf50f81e2e21d77cee0c7b8)
----------------------------------------

Commit: 3709faf36c0c0f3355ee4399143ab2d35d8091d3
Author: Aman Agrawal
Date: 2024-07-27 10:09:22+00:00
Message: typeahead: Fix typeahead overflowing out of window.

When the caret in textarea is around the right end of the screen,
typeahead can overflow the window. To fix it, we use tippy's
mechanism to keep the tooltip inside the visible boundary.

(cherry picked from commit 6c500e9a6e86ba1139fea835f5b52423eda96d51)
----------------------------------------

Commit: fba7e02c24c9c0c00c47e68369d5c680bfe9f066
Author: lumpleme
Date: 2024-05-27 00:38:01+00:00
Message: integrations: Prevent duplicate GitHub pull request review messages.

GitHub sends two almost identical payloads when a pull
request is reviewed, which results in two duplicative
notification messages.

The payloads have different "action" value, with one
having the "submitted" action, whereas the other is
"edited" and has an empty "changes" dict.

We now ignore the payload with the "edited" action type
and an empty "changes" dict.

Fixes #26145.

Co-authored-by: Pieter CK <pieterceka123@gmail.com>
(cherry picked from commit b5c63cfb8553f70d168ae29c692e63da6418bb80)
----------------------------------------

Commit: be658cdee547d813d35c2aed00f70b873c64b741
Author: Kenneth Rodrigues
Date: 2024-07-27 17:04:09+00:00
Message: ListWidget: Fix sliding of actions column in tables.

Added right padding to the actions heading in the table.

Fixes #29633.

(cherry picked from commit 4b04e2c09c452bb39e198ad754ce91752a51b619)
----------------------------------------

Commit: a3a919e01fb576e1fdadef785eff8b4f098e35d5
Author: Alex Vandiver
Date: 2024-07-30 15:08:03+00:00
Message: analytics: Better indexed join to analytics_usercount, using realm_id.

analytics_usercount_property_realm_id_end_time_591dbec1_idx, added
back in b7df84d5a8d9, makes this lookup actually indexed.
195defb0310a rewrote this query in a way which stopped using the
index.

(cherry picked from commit 94795500b5be8da1a46c8b8f32a69295e7f514cf)
----------------------------------------

Commit: e5b485db64cc605256ac9a3bacb0c9b19549809b
Author: Karl Stolley
Date: 2024-07-30 21:45:49+00:00
Message: user_profile: Properly center icon for copying URLs.

(cherry picked from commit 083163605045661085a12ff87d9bd865728fb44b)
----------------------------------------

Commit: 44026444dce20375a1ea3bf26759b0ec8d765b23
Author: Alya Abbott
Date: 2024-07-31 20:02:03+00:00
Message: docs: Tweak server roadmap documentation.

(cherry picked from commit 01d61266810668ba170ee59c11b31819c4775a79)
----------------------------------------

Commit: efed0877416940a73dec7a60ba6b55afa284c191
Author: Alex Vandiver
Date: 2024-08-01 15:21:55+00:00
Message: lightbox: Disable controls on video previews in lightbox.

Setting any value for a boolean attribute (like "controls") enables
it.

(cherry picked from commit 2d0468bde56e22a4e06d5a36c3fafb03b1bde320)
----------------------------------------

Commit: 3c7dcce08dfb20034ccde9e050d36fb7a8d941ca
Author: Anders Kaseorg
Date: 2024-07-31 18:33:01+00:00
Message: users: Reduce date_joined precision to minutes.

Fixes #31188, removing a lot of useless high-entropy data from the
/register response.

Signed-off-by: Anders Kaseorg <anders@zulip.com>
(cherry picked from commit 8f1a97f1684210467efd1b6d9a4517734703411f)
----------------------------------------

Commit: d34183154f0306d24c5a6b81e04eba1fe6f4217d
Author: Karl Stolley
Date: 2024-07-26 15:33:59+00:00
Message: modal_button: Use negative outline-offset to compensate for scaling.

(cherry picked from commit e11cfd7ba895c400453a5576e31b0526cf8a160a)
----------------------------------------

Commit: 656ca17e1489d2ed50093e80425b67b39c843ab5
Author: Alex Vandiver
Date: 2024-07-31 16:07:10+00:00
Message: thumbnail: Resolve a race condition when rendering messages.

Messages are rendered outside of a transaction, for performance
reasons, and then sent inside of one.  This opens thumbnailing up to a
race where the thumbnails have not yet been written when the message
is rendered, but the message has not been sent when thumbnailing
completes, causing `rewrite_thumbnailed_images` to be a no-op and the
message being left with a spinner which never resolves.

Explicitly lock and use he ImageAttachment data inside the
message-sending transaction, to rewrite the message content with the
latest information about the existing thumbnails.

Despite the thumbnailing worker taking a lock on Message rows to
update them, this does not lead to deadlocks -- the INSERT of the
Message rows happens in a transaction, ensuring that either the
message rending blocks the thumbnailing until the Message row is
created, or that the `rewrite_thumbnailed_images` and Message INSERT
waits until thumbnailing is complete (and updated no Message rows).

(cherry picked from commit 6f20c15ae9e56c04e1977aa989c358b1f516daeb)
----------------------------------------

Commit: 85517d257ac1e9ee898984ff3814443425bd33f8
Author: Alex Vandiver
Date: 2024-08-01 14:55:58+00:00
Message: docs: Note required OS upgrade in upgrade notes.

(cherry picked from commit cf5accfa7f4f9ca2f4fd42c7feaf9cf0db6cb78c)
----------------------------------------

Commit: ef4be5f24a1d68d529b7fd29c24c6e34faebf664
Author: Alex Vandiver
Date: 2024-08-01 04:00:43+00:00
Message: migrations: Add missing dependency.

This migration references the "confirmation" app for the first time,
which means we must have migrated at least part of it by this point.

Set the migration to depend on the latest "confirmation" migration at
the time of this migration.

(cherry picked from commit 2bc118892a21ee3e92437e43606fb92980cabc36)
----------------------------------------

Commit: aabab08eba949e7bbc60716be852fffde43c8ca4
Author: Alex Vandiver
Date: 2024-07-10 17:09:10+00:00
Message: invites: Use the realm on the PreregistrationUser, to save a join.

(cherry picked from commit ab1e858eb955a745b40681ab124350884e6a0695)
----------------------------------------

Commit: e3d1ff1cc215a72dada8037a80fbcfe14de1eefd
Author: Alex Vandiver
Date: 2024-07-10 17:21:36+00:00
Message: confirmation: Add an index on content_type, object_id.

This makes lookups of `.confirmation`, or joins through
`confirmation__` as we do in the `/json/invites`, actually fast.  See
https://code.djangoproject.com/ticket/23435

(cherry picked from commit fcb04598f0ea070b00127e8a1839141b865bda2f)
----------------------------------------

Commit: 85cc589bdb93bfe97bfa34b7635b5d6823aa9c17
Author: Alex Vandiver
Date: 2024-07-31 21:18:01+00:00
Message: confirmation: Use BigInteger to match other models' "id" field.

Without this, Django builds queries with which compare tables' "id"
fields to `("confirmation_confirmation"."object_id")::bigint`; the
explicit cast prevents the index added in the previous commit from
being used.

(cherry picked from commit 9e02e562bb96e890287b9d35e2519b071ed8f8f3)
----------------------------------------

Commit: 57d4118583d2ffdfed108636f042d91f61c04de4
Author: Alex Vandiver
Date: 2024-08-01 15:48:24+00:00
Message: nginx: Adjust default gzip level.

The default compression level is 1; increasing this to 3 takes a small
amount more CPU time (single-digit ms on multi-MB transfers), but
results in a small but noticeable (4-7%) percentage better
compression in JSON content.

Assuming a 25 megabit connection (the current average data rate for
cell phones in the U.S.), a 2MB file which is shrunk an additional 4%
saves approximately 25 milliseconds of transfer time; thus the
additional few milliseconds of CPU-time is well worth the cost.  For
faster connections (e.g. 100 megabit), the tradeoff is more or less a
wash.

(cherry picked from commit 163863c0d175702433fde48233b9cf68cd4c53f5)
----------------------------------------

Commit: 6c74726b12d28997e344614d5b4be15dad28e996
Author: Aman Agrawal
Date: 2024-07-26 16:53:07+00:00
Message: scroll-to-bottom: Fix misclicks to scroll to bottom button.

Scroll to bottom button is visible for a few ms when switching
narrow to Inbox / Recent view while scrolling in message feed.
While we can end the transition faster to completely avoid the issue
for now but this seems like a more permanent and simpler fix
than to fiddle with CSS.

(cherry picked from commit a43c0693b7ee065390f00612f9f685e899ef3959)
----------------------------------------

Commit: 264740289b5112204888946174ac91d2f7feb659
Author: Lauryn Menard
Date: 2024-07-31 11:05:31+00:00
Message: help: Use screenshots for global times examples.

Fixes #31131.

(cherry picked from commit 53e7fc38d68565f5a4aeef79676e36733d87724e)
----------------------------------------

Commit: 60ef07621d350562689a60b0fe800c09ca1de9aa
Author: Tim Abbott
Date: 2024-08-02 20:50:12+00:00
Message: i18n: Update translations from Transifex.
----------------------------------------

Commit: 13796b0d1032832286aad88b38ba44ee34156af0
Author: Aman Agrawal
Date: 2024-08-02 05:41:45+00:00
Message: inbox_ui: Fix row_focus not synced with inbox rows.

Have one inbox row and focus on it. Mark the message as read in
another tab. Press `r` in the first tab will return an error as
the row_focus didn't change but there is no present. So, we
fix it by updating the row_focus if it can get out of bounds
when updating inbox view.

(cherry picked from commit 2011e0df760cea52c31914e7b77d9b4e38e9ee74)
----------------------------------------

Commit: 1a7996ed45db2ea89719f79c9dd121b55fa34d0d
Author: Tim Abbott
Date: 2024-08-02 21:13:45+00:00
Message: Release Zulip Server 9.1.
----------------------------------------


PULL REQUESTS
--------------------------------------------------------------------------------

PR #31115: zulip_update_announcements: Fix December 2024 typo
Author: andersk
Merged at: 2024-07-26 17:20:27+00:00
URL: https://github.com/zulip/zulip/pull/31115
Description:
[Discussion](https://chat.zulip.org/#narrow/stream/438-release-management/topic/zulip_updates.20items.20of.20note/near/1903394).
----------------------------------------

PR #31197: Invitation performance fixes
Author: alexmv
Merged at: 2024-08-01 23:44:18+00:00
URL: https://github.com/zulip/zulip/pull/31197
Description:
None
----------------------------------------

PR #31210: lightbox: Disable controls on video previews in lightbox.
Author: alexmv
Merged at: 2024-08-01 16:23:46+00:00
URL: https://github.com/zulip/zulip/pull/31210
Description:
Setting any value for a boolean attribute (like "controls") enables it.

----------------------------------------

PR #31211: clients: Drop "desktop app" substring check.
Author: alexmv
Merged at: 2024-08-01 16:23:16+00:00
URL: https://github.com/zulip/zulip/pull/31211
Description:
The last desktop client to use that was 0.5.8, released 2017-04-12. There are no clients with such old versions still observed in the wild.

<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31212: nginx: Adjust default gzip level.
Author: alexmv
Merged at: 2024-08-01 16:54:41+00:00
URL: https://github.com/zulip/zulip/pull/31212
Description:
The default compression level is 1; increasing this to 3 takes a small amount more CPU time (single-digit ms on multi-MB transfers), but results in a small but noticeable (4-7%) percentage better compression in JSON content.

Assuming a 25 megabit connection (the current average data rate for cell phones in the U.S.), a 2MB file which is shrunk an additional 4% saves approximately 25 milliseconds of transfer time; thus the additional few milliseconds of CPU-time is well worth the cost.  For faster connections (e.g. 100 megabit), the tradeoff is more or less a wash.

----------------------------------------

PR #31180: Upgrade Python requirements
Author: andersk
Merged at: 2024-08-01 23:46:58+00:00
URL: https://github.com/zulip/zulip/pull/31180
Description:
## `pip.txt` upgrades
* setuptools: 70.1.1 → 71.0.0

## `prod.txt` upgrades
* aioapns: 3.2 → 3.3.1
* aiohappyeyeballs: (new) → 2.3.4
* aiohttp: 3.9.5 → 3.10.0
* boto3: 1.34.134 → 1.34.152
* botocore: 1.34.134 → 1.34.152
* cachetools: 5.3.3 → 5.4.0
* certifi: 2024.6.2 → 2024.7.4
* cryptography: 42.0.8 → 43.0.0
* disposable-email-domains: 0.0.103 → 0.0.104
* django-otp: 1.5.0 → 1.5.1
* django-stubs-ext: 5.0.2 → 5.0.4
* django[argon2]: 5.0.6 → 5.0.7
* exceptiongroup: 1.2.1 → 1.2.2
* google-api-python-client: 2.134.0 → 2.139.0
* google-auth: 2.30.0 → 2.32.0
* google-cloud-firestore: 2.16.1 → 2.17.0
* google-cloud-storage: 2.17.0 → 2.18.0
* google-re2: 1.1.20240601 → 1.1.20240702
* grpcio: 1.64.1 → 1.65.2
* ipython: 8.25.0 → 8.26.0
* jsonschema: 4.22.0 → 4.23.0
* mypy-boto3-s3: 1.34.120 → 1.34.138
* mypy-boto3-ses: 1.34.0 → 1.34.141
* orjson: 3.10.5 → 3.10.6
* phonenumberslite: 8.13.39 → 8.13.42
* protobuf: 4.25.3 → 4.25.4
* pure-eval: 0.2.2 → 0.2.3
* pydantic: 2.7.4 → 2.8.2
* pydantic-core: 2.18.4 → 2.20.1
* pyjwt[crypto]: 2.8.0 → 2.9.0
* pyopenssl: 24.1.0 → 24.2.1
* redis: 5.0.7 → 5.0.8
* regex: 2024.5.15 → 2024.7.24
* rpds-py: 0.18.1 → 0.19.1
* scim2-filter-parser: 0.5.1 → 0.7.0
* sentry-sdk: 2.7.1 → 2.12.0
* social-auth-app-django: 5.4.1 → 5.4.2
* sqlalchemy: 1.4.52 → 1.4.53
* sqlparse: 0.5.0 → 0.5.1
* stripe: 10.0.0 → 10.6.0
* tlds: 2024061300 → 2024071000
* twilio: 9.2.1 → 9.2.3

## Other upgrades
* boto3-stubs[s3,ses,sns,sqs]: 1.34.134 → 1.34.152
* botocore-stubs: 1.34.134 → 1.34.152
* coverage: 7.5.4 → 7.6.0
* ~~django-stubs: 5.0.2 → 5.0.4~~
  - https://github.com/typeddjango/django-stubs/issues/2299
  - https://github.com/typeddjango/django-stubs/issues/2302
  - https://github.com/typeddjango/django-stubs/issues/2304
* incremental: 22.10.0 → 24.7.2
* moto[s3]: 5.0.9 → 5.0.11
* mypy: 1.10.1 → 1.11.1
  - two contributions from me: python/mypy#17287, python/mypy#17588
* peewee: 3.17.5 → 3.17.6
* ruff: 0.5.0 → 0.5.5
* semgrep: 1.77.0 → 1.79.0
  - held back from further upgrades for semgrep/semgrep#10408
* sphinx: 7.3.7 → 7.4.7
* sphinxcontrib-applehelp: 1.0.8 → 2.0.0
* sphinxcontrib-devhelp: 1.0.6 → 2.0.0
* sphinxcontrib-htmlhelp: 2.0.5 → 2.1.0
* sphinxcontrib-qthelp: 1.0.7 → 2.0.0
* sphinxcontrib-serializinghtml: 1.1.10 → 2.0.0
* sqlalchemy[mypy]: 1.4.52 → 1.4.53
* time-machine: 2.14.1 → 2.14.2
* types-awscrt: 0.20.12 → 0.21.2
* types-docutils: 0.21.0.20240423 → 0.21.0.20240724
* types-jsonschema: 4.22.0.20240610 → 4.23.0.20240712
* types-pyopenssl: 24.1.0.20240425 → 24.1.0.20240722
* types-pyyaml: 6.0.12.20240311 → 6.0.12.20240724
* types-redis: 4.6.0.20240425 → 4.6.0.20240726
* types-regex: 2024.5.15.20240519 → 2024.7.24.20240726
* types-requests: 2.32.0.20240622 → 2.32.0.20240712
* types-setuptools: 70.1.0.20240627 → 71.1.0.20240726
----------------------------------------

PR #30766: refactor: Complete rename of `huddle` to `direct_message_group` in non api files.
Author: roanster007
Merged at: 2024-08-01 06:25:56+00:00
URL: https://github.com/zulip/zulip/pull/30766
Description:
This commit completes rename of "huddle" to "direct_message_group" in all the non API files.

Part of #28640

Also includes:
- `huddle_recipient_id_to_user_ids` to `user_ids_in_direct_message_groups`
- `include_deactivated_users_for_huddles` to `include_deactivated_users_for_dm_groups`
(since using `direct_message_groups would be long for them)

remaining as per the [CZO thread](https://chat.zulip.org/#narrow/stream/2-general/topic/Renaming.20Huddle.20to.20DirectMessageGroup/near/1848720)

<!-- Describe your pull request here.-->


<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->


<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31157: message_controls: Consolidate CSS; clean up overly broad selectors.
Author: karlstolley
Merged at: 2024-07-29 21:13:32+00:00
URL: https://github.com/zulip/zulip/pull/31157
Description:
This moves a large chunk of `.message_controls` out of `zulip.css` and better locates it in the `message_row.css` file. Overly general selectors are rewritten using more specific selectors.

<!-- Describe your pull request here.-->

[CZO discussion](https://chat.zulip.org/#narrow/stream/6-frontend/topic/CSS.20selector.20performance/near/1904117)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

----------------------------------------

PR #31174: message_controls: Add missing class to edit buttons.
Author: karlstolley
Merged at: 2024-07-31 16:15:41+00:00
URL: https://github.com/zulip/zulip/pull/31174
Description:
This adds a missing `message-controls-icon` class to the edit buttons, which caused the misalignment of edit and related icons. This was overlooked in #31157.

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![Screen Shot 2024-07-30 at 14 57 39](https://github.com/user-attachments/assets/e6a19b73-5ee1-4803-b08f-fdea8d16e888) | ![Screen Shot 2024-07-30 at 14 57 15](https://github.com/user-attachments/assets/858d3f97-7ce8-4144-b198-c63c230255dc) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31217: compose: Specify non-alpha message-area colors.
Author: karlstolley
Merged at: 2024-08-01 23:30:56+00:00
URL: https://github.com/zulip/zulip/pull/31217
Description:
This keeps colors uniform between edit and preview modes, and also ensures no bleedthrough of the editor when in preview mode. In using `color-mix`, it maintains the colors as-is, but removes an alpha channel in preview mode that is at the heart of a serious dark-mode regression introduced in #31177.

ID selectors have been used for those colors to both keep the text color declaration in the same place, and to avoid a dark-theme specificity problem where the generic textarea took precedence over the colors specified on the compose box's own textarea.

<!-- Describe your pull request here.-->

[CZO discussion](https://chat.zulip.org/#narrow/stream/9-issues/topic/message.20preview.20overlapping.20with.20original.20message/near/1908596)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Preview mode, before | Preview mode, after (no change in light mode) |
| --- | --- |
| ![dark-mode-preview-before](https://github.com/user-attachments/assets/a39a3fe7-565a-4606-95b1-db336256b9f1) | ![dark-mode-preview-after](https://github.com/user-attachments/assets/60b14ad3-8b27-47a2-b726-fc0265fac0fc) |
| ![light-mode-preview-before](https://github.com/user-attachments/assets/43475f86-4511-4b74-8e2e-b9b639636e4b) | ![light-mode-preview-after](https://github.com/user-attachments/assets/e611e422-6f75-4c07-a798-8b7448ad22e0) |

| Edit mode, before | Edit mode, after (no change) |
| --- | --- |
| ![dark-mode-edit-before](https://github.com/user-attachments/assets/f2ea00ab-acdb-406f-800b-bd052df73675) | ![dark-mode-edit-after](https://github.com/user-attachments/assets/87deb9f6-88a1-4fb2-82e2-6eb52e730f24) |
| ![light-mode-edit-before](https://github.com/user-attachments/assets/8329a9f4-ea5a-468d-9181-8f0588bc516c) | ![light-mode-edit-after](https://github.com/user-attachments/assets/44d9e6f1-46b4-4a04-baa4-661f3feebe08) |



<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31177: message_previews: Simplify presentation of message previews.
Author: karlstolley
Merged at: 2024-07-31 19:37:19+00:00
URL: https://github.com/zulip/zulip/pull/31177
Description:
This PR does three things:

1) It eliminates expensive, anonymous `:first-child` and `:last-child` selectors from the rendered Markdown CSS.

2) It reads the `height` value of both the compose and message-edit textareas to set a `height` value on the preview area, eliminating a small but annoying jog in the size of the compose box and preview areas. The jog became larger and more annoying with the fixes from 1) in place, which is why these two aspects appear inside the same PR.

3) It removes show/hide logic from the compose textarea, which is needless because the textarea will automatically be obscured by the preview area in preview mode. That keeps the textarea an active part of the DOM, ensuring that the compose box's resize buttons and logic work as expected even in preview mode.

[CZO discussion](https://chat.zulip.org/#narrow/stream/101-design/topic/behavior.20of.20spoilers.20in.20message.20previews/near/1906862)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![message-edit-preview-before](https://github.com/user-attachments/assets/9adde6df-75f4-4854-8fb3-9a7bd99d17ed) | ![message-edit-preview-after](https://github.com/user-attachments/assets/725d7f69-ad03-4f3a-b6ac-3e0dfa290386) |
| ![compose-preview-before](https://github.com/user-attachments/assets/140083ad-0a7c-45dd-890d-23e4b637ad0f) | ![compose-preview-after](https://github.com/user-attachments/assets/4dd83927-89e7-4c6a-87a4-f2c3b0a2fb9d) |


There is an edge case not yet properly addressed here, which is the behavior of long spoiler blocks in message previews.

The current behavior is that the preview area effectively cinches up to the size of the collapsed spoiler block, and the entire preview area expands, up to `max-height`, along with the spoiler.

With the changes here, the preview area remains the size of the textarea, with the spoiler expanding to fill the area, again up to `max-height`. The difference is that the formatting controls and preview area remain undisturbed.

Of course, behavior aside, the preview behavior in `main` is arguably a better message preview than this new version; collapsed spoilers are not of course shown with a massive expanse of white space below them.

However, this is also arguably a better experience for editors of spoilers, who may well want to open the spoiler and inspect the preview of its contents. That spoiler state is not accurately previewed in either case, being always clipped to the `max-height` allotted the preview area.

| Spoilers, before | Spoilers, after |
| --- | --- |
| ![spoiler-preview-before](https://github.com/user-attachments/assets/6b04c2da-19d9-4fa0-9933-4ae25e3a6002) | ![spoiler-preview-after](https://github.com/user-attachments/assets/15f6499c-fa26-475c-9f30-2dfd9a54d20d) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31185: rendered_markdown: Lay out time spans with inline-flex.
Author: karlstolley
Merged at: 2024-07-31 20:14:36+00:00
URL: https://github.com/zulip/zulip/pull/31185
Description:
This PR improves the layout, and by extension the clock-icon alignment, on time spans. Originally noted as part of #31183

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![clock-compact-before](https://github.com/user-attachments/assets/25e8c85c-8fae-42e0-8b54-e917f0e88d1d) | ![clock-compact-after](https://github.com/user-attachments/assets/2866173f-e001-4d3d-8441-ca242371b8b7) |
| ![clock-16-before](https://github.com/user-attachments/assets/fb270fe2-3855-4634-b1fd-8bb3c9f50e2c) | ![clock-16-after](https://github.com/user-attachments/assets/8a34c9e6-9741-436a-8fbe-89e15166ff22) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31196: presence: Remove the queue worker.
Author: mateuszmandera
Merged at: 2024-07-31 23:46:42+00:00
URL: https://github.com/zulip/zulip/pull/31196
Description:
https://chat.zulip.org/#narrow/stream/3-backend/topic/user_presence.20queue.20worker

Tested manually. None of these changes affects automated tests, aside of needing to update a couple of outdated comment that were talking about the queue worker.

**Note**: In production, this will challenge the robustness of the presence updating logic against races - since so far the queue worker made it so that presence updates were processed serially. Now that it gets moved into the request process, we will see actual concurrency. It was written with concurrency in mind though, so in principle should be fine of course. Just noting that it hasn't been given a true test so far.
----------------------------------------

PR #31154: streams_settings: Removed unused FontAwesome references.
Author: karlstolley
Merged at: 2024-07-29 20:19:35+00:00
URL: https://github.com/zulip/zulip/pull/31154
Description:
These selectors drill all the way down to `inline_decorated_stream_name.hbs`, which no longer contains any Font Awesome references.

[CZO discussion](https://chat.zulip.org/#narrow/stream/6-frontend/topic/CSS.20selector.20performance/near/1904125)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

----------------------------------------

PR #31112: Improve CSS selector performance by removing some spans
Author: evykassirer
Merged at: 2024-07-26 21:43:12+00:00
URL: https://github.com/zulip/zulip/pull/31112
Description:
See https://chat.zulip.org/#narrow/stream/6-frontend/topic/CSS.20selector.20performance/near/1845719 for more context
----------------------------------------

PR #31158: rendered_markdown: Remove universal selector for embedded content.
Author: sayamsamal
Merged at: 2024-07-29 22:08:54+00:00
URL: https://github.com/zulip/zulip/pull/31158
Description:
This removes the `.rendered_markdown .message_embed > *` selector which was expensive, and instead moves the styles to the specific elements that need them.

See https://chat.zulip.org/#narrow/stream/6-frontend/topic/CSS.20selector.20performance/near/1901261 for context.

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
|--------|--------|
| ![Screenshot 2024-07-30 at 2 36 20 AM](https://github.com/user-attachments/assets/ad0c44d7-eaff-480e-b63a-5ea0a2f4f567) | ![Screenshot 2024-07-30 at 2 35 43 AM](https://github.com/user-attachments/assets/f61cfbd8-22ae-418c-81ca-a06e1c42436d) | 

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31155: rendered_markdown: Remove incorrect selector with unused color.
Author: karlstolley
Merged at: 2024-07-29 20:18:26+00:00
URL: https://github.com/zulip/zulip/pull/31155
Description:
This removes a malformed selector that referenced an incorrect color, even when correctly formed:

![not-silent-greenish-color](https://github.com/user-attachments/assets/0f67bc15-5795-4986-b5ed-c19006993932)

The color in question is already better declared as `--color-text-self-direct-mention` further down in the rendered markdown CSS file.

[CZO discussion](https://chat.zulip.org/#narrow/stream/6-frontend/topic/CSS.20selector.20performance/near/1904125)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->
----------------------------------------

PR #31220: rendered_markdown: Update markdown timestamps to use Zulip icon.
Author: karlstolley
Merged at: 2024-08-01 23:28:31+00:00
URL: https://github.com/zulip/zulip/pull/31220
Description:
This updates the icon in use on Zulip timestamps as well as in the message formatting tab of the information overlay.

Fixes: #28830

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![clock-icon-before](https://github.com/user-attachments/assets/cb943b56-afc9-4c3e-8ce6-5ee54c047bb3) | ![clock-icon-after](https://github.com/user-attachments/assets/296cf9fe-37ef-401a-9fd3-4264e826ed20) |
| ![overlay-clock-icon-before](https://github.com/user-attachments/assets/6446c7cf-3452-4538-b0f9-ee0d2356508a) | ![overlay-clock-icon-after](https://github.com/user-attachments/assets/5e60c6b8-82d3-4d5a-9bd0-a08e41613cde) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31173: input pill: Refactor to move custom attributes into relevant modules
Author: evykassirer
Merged at: 2024-08-02 00:31:59+00:00
URL: https://github.com/zulip/zulip/pull/31173
Description:
This PR should have no visual changes to users, it's purely a refactor.

This change had two main motivators:

(1) We were putting a bunch of custom logic in `input_pill`, especially for display. This PR moves that to the relevant modules.

(2) `display_value` was being used for both the pill identifying "value" and for parsing the value a pill represented. This led to some hacks in the search pill code where we adjusted `display_value` just before displaying it. This PR removes `display_value` altogether and replaces it with relevant identifying information for each pill. Display values are calculated when we need them based on that identifying information. Maybe we want to tweak this to only generate `display_value` once, but I think the current state of the PR is fine since we don't display that pills in large quantities or in quick succession.

(3) (from a comment on the [search pills PR](https://github.com/zulip/zulip/pull/26803#issuecomment-2219032782)): The + format for strings with spaces in them should only be present in the code for generating a URL and parsing one; we should be storing the actual name in the pill object, not the URL-encoded name.

**Unit testing**

I removed some tests from `input_pill` that I haven't put elsewhere yet. If it seems like a good idea to add tests (especially `user_pill`) I can work on that.

**Manual testing**

search: DM (I also tested that the message view updates correctly)

<img width="227" alt="image" src="https://github.com/user-attachments/assets/8d4edf6f-8fce-450b-8411-08a244db21c9">

search: group DM (I also tested that the message view updates correctly)

<img width="461" alt="image" src="https://github.com/user-attachments/assets/b4c5eeb3-750d-4bb1-b67c-99703a9bebef">

search: DM with deactivated user (I also tested that the message view updates correctly)

<img width="323" alt="image" src="https://github.com/user-attachments/assets/bc1ee375-ce6c-42f4-8094-dfc697f26ddc">

search: DM with user with status_emoji_info (I also tested that the message view updates correctly)

<img width="276" alt="image" src="https://github.com/user-attachments/assets/959a5831-6807-499a-9a79-7c8f3bbc0634">

compose: deactivated user

<img width="360" alt="image" src="https://github.com/user-attachments/assets/5b5358ec-f12d-4af8-9377-7ed08c4765d4">

compose: user with guest indicator

<img width="381" alt="image" src="https://github.com/user-attachments/assets/067109a6-9573-4f14-9aa3-d048f2d13a84">

compose: user with status_emoji_info (I also tested that the message sends)

<img width="372" alt="image" src="https://github.com/user-attachments/assets/c6d74f74-d97b-4f46-8b28-638e34e22fb4">

stream add subscribers: user, usergroup, and channel (I also tested that adding works)

<img width="359" alt="image" src="https://github.com/user-attachments/assets/99d9b2e7-9ebc-4e50-b9cf-b91f480ce8a9">

stream add subscribers: user with status_emoji_info (it's expected that the emoji doesn't show)

<img width="209" alt="image" src="https://github.com/user-attachments/assets/247b0c87-9eaf-49aa-a3fc-e1bbc0539290">

invite: emails (I didn't test that the email was sent, only the visual state)

<img width="503" alt="image" src="https://github.com/user-attachments/assets/5ee1260f-82b8-4af2-ac68-6e286be4c7b1">

invite: stream picker  (I didn't test that the user was subscribed, only the visual state)

<img width="499" alt="image" src="https://github.com/user-attachments/assets/be27eff1-8bc0-4f03-9d47-f0ddfa6be546">
----------------------------------------

PR #30899: landing_page: Convert module to TypeScript.
Author: afeefuddin
Merged at: 2024-07-31 17:11:43+00:00
URL: https://github.com/zulip/zulip/pull/30899
Description:
<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31142: integrations_dev_panel: Convert module to TypeScript.
Author: afeefuddin
Merged at: 2024-07-29 22:19:43+00:00
URL: https://github.com/zulip/zulip/pull/31142
Description:

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31145: message_events_util: Convert module to TypeScript.
Author: LaPulgaaa
Merged at: 2024-07-31 21:33:12+00:00
URL: https://github.com/zulip/zulip/pull/31145
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31122: settings: Add group-based setting for who can create web-public streams.
Author: sahil839
Merged at: 2024-08-02 05:49:33+00:00
URL: https://github.com/zulip/zulip/pull/31122
Description:
<!-- Describe your pull request here.-->
- First commit adds the new setting.
- Second commit is to use the new setting while checking permissions.
- Third commit is to refactor some node tests.
- Fourth commit is to use new setting in webapp.
- Fifth commit is to remove the old setting.

 <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31209: docs: Note required OS upgrade in upgrade notes.
Author: alexmv
Merged at: 2024-08-01 23:27:31+00:00
URL: https://github.com/zulip/zulip/pull/31209
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31186: thumbnail: Resolve a race condition when rendering messages.
Author: alexmv
Merged at: 2024-08-01 23:48:32+00:00
URL: https://github.com/zulip/zulip/pull/31186
Description:
Messages are rendered outside of a transaction, for performance reasons, and then sent inside of one.  This opens thumbnailing up to a race where the thumbnails have not yet been written when the message is rendered, but the message has not been sent when thumbnailing completes, causing `rewrite_thumbnailed_images` to be a no-op and the message being left with a spinner which never resolves.

Explicitly lock and use he ImageAttachment data inside the message-sending transaction, to rewrite the message content with the latest information about the existing thumbnails.

Despite the thumbnailing worker taking a lock on Message rows to update them, this does not lead to deadlocks -- the INSERT of the Message rows happens in a transaction, ensuring that either the message rending blocks the thumbnailing until the Message row is created, or that the `rewrite_thumbnailed_images` and Message INSERT waits until thumbnailing is complete (and updated no Message rows).

-----

This leads to two `rewrite_thumbnailed_images` calls per message send -- one in markdown, one inside the transaction.  We could possibly eliminate the former, if we can convince ourselves that the latter will always run when the former would have.

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31226: inbox_ui: Fix row_focus not synced with inbox rows.
Author: amanagr
Merged at: 2024-08-02 16:36:37+00:00
URL: https://github.com/zulip/zulip/pull/31226
Description:
Have one inbox row and focus on it. Mark the message as read in another tab. Press `r` in the first tab will return an error as the row_focus didn't change but there is no present. So, we fix it by updating the row_focus if it can get out of bounds when updating inbox view.

discussion: https://chat.zulip.org/#narrow/stream/9-issues/topic/error.20in.20dev

----------------------------------------

PR #31183: help: Use message screenshots for global times examples.
Author: laurynmm
Merged at: 2024-08-01 16:31:00+00:00
URL: https://github.com/zulip/zulip/pull/31183
Description:
Adds screenshots for the examples of global times in messages.

**Notes**:
- The SF example has the tooltip shown.
- The example message text is updated to match the screenshot text.

Fixes #31131.

**Screenshots and screen captures:**

<details>
<summary>Updated global times article</summary>

[Current documentation](https://zulip.com/help/global-times)
![Screenshot from 2024-07-31 13-30-38](https://github.com/user-attachments/assets/155c7413-9cf2-4115-ba6d-6b176c2e7f03)
</details>

---

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31126: scroll-to-bottom: Fix misclicks to scroll to bottom button.
Author: amanagr
Merged at: 2024-07-27 16:35:12+00:00
URL: https://github.com/zulip/zulip/pull/31126
Description:
Scroll to bottom button is visible for a few ms when switching narrow to Inbox / Recent view while scrolling in message feed. While we can end the transition faster to completely avoid the issue for now but this seems like a more permanent and simpler fix than to fiddle with CSS.

----------------------------------------

PR #31194: web: Condense unnecessarily verbose function signatures
Author: andersk
Merged at: 2024-07-31 20:18:35+00:00
URL: https://github.com/zulip/zulip/pull/31194
Description:
There is no need to add a separate function signature to a function variable; just add types directly to the function itself.

Cc @afeefuddin, who introduced all of these.
----------------------------------------

PR #31200: Delete incorrectly committed dump.rdb file.
Author: andersk
Merged at: 2024-08-01 00:08:49+00:00
URL: https://github.com/zulip/zulip/pull/31200
Description:
- From f9ba4da012f9595cd07470b1a249908cdc3f4b1f (#28370).
----------------------------------------

PR #31223: mypy: Reenable explicit-override for models
Author: andersk
Merged at: 2024-08-02 00:39:04+00:00
URL: https://github.com/zulip/zulip/pull/31223
Description:
None
----------------------------------------

PR #31216: Backport a dozen low-risk fixes to 9.x
Author: timabbott
Merged at: 2024-08-01 18:24:58+00:00
URL: https://github.com/zulip/zulip/pull/31216
Description:
Backports the following PRs:
- #31140 
- #31038 
- #30848
- #30700 
- #31171 
- #31178 
- #31195 
- #31210 
- #31190
- #31124

We'll likely backport more stuff to 9.1, but these are all ones where the risk of introducing some other problem is quite minimal.

----------------------------------------

PR #31124: modal_button: Use negative outline-offset to compensate for scaling.
Author: karlstolley
Merged at: 2024-07-30 18:27:19+00:00
URL: https://github.com/zulip/zulip/pull/31124
Description:
This PR corrects for sub-pixel sizing differences on focused modal buttons, ensuring the outline covers the gap caused by those differences. While this does make the final button slightly smaller, the scaling effect remains.

[CZO discussion](https://chat.zulip.org/#narrow/stream/9-issues/topic/inbox.20modal.20button.20outline/near/1903040)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![modal-button-before](https://github.com/user-attachments/assets/4d91165c-6749-4b1f-b883-1d5bc842f4dc) | ![modal-button-after](https://github.com/user-attachments/assets/17d85b73-35dd-4d31-baa5-b3d0658d80f0) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31190: users: Reduce date_joined precision to minutes
Author: andersk
Merged at: 2024-07-31 19:53:09+00:00
URL: https://github.com/zulip/zulip/pull/31190
Description:
Fixes #31188, removing a lot of useless high-entropy data from the /register response.
----------------------------------------

PR #31195: docs: Tweak server roadmap documentation.
Author: alya
Merged at: 2024-07-31 20:49:57+00:00
URL: https://github.com/zulip/zulip/pull/31195
Description:
I made a new view for us to link to from this documentation, designed for users, rather than for contributors: https://github.com/orgs/zulip/projects/9/views/13

Current doc: https://zulip.readthedocs.io/en/latest/overview/release-lifecycle.html#server-roadmap

Updated:
![Screenshot 2024-07-31 at 13 22 23@2x](https://github.com/user-attachments/assets/bc1d77ad-dede-436c-aec7-0a4f9963bb6f)


----------------------------------------

PR #31178: user_profile: Properly center icon for copying URLs.
Author: karlstolley
Merged at: 2024-07-30 23:29:09+00:00
URL: https://github.com/zulip/zulip/pull/31178
Description:
This fixes the alignment of the copy-URL icon on custom URL profile fields.

[CZO discussion](https://chat.zulip.org/#narrow/stream/9-issues/topic/misaligned.20.22copy.22.20icon.20in.20user.20profile/near/1882684)

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

| Before | After |
| --- | --- |
| ![Screen Shot 2024-07-30 at 16 46 03](https://github.com/user-attachments/assets/9c375b3d-1c21-490d-a998-211f8b9b9169) | ![Screen Shot 2024-07-30 at 16 45 08](https://github.com/user-attachments/assets/ffd15c6f-388b-48f9-bf4c-b86ad69b3bdd) |

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [x] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [x] Strings and tooltips.
- [x] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>
----------------------------------------

PR #31171: analytics: Better indexed join to analytics_usercount, using realm_id.
Author: alexmv
Merged at: 2024-07-30 16:40:56+00:00
URL: https://github.com/zulip/zulip/pull/31171
Description:
analytics_usercount_property_realm_id_end_time_591dbec1_idx, added back in b7df84d5a8d9, makes this lookup actually indexed. 195defb0310a rewrote this query in a way which stopped using the index.

<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #30700: ListWidget: Fix sliding of actions column in tables.
Author: kennethnrk
Merged at: 2024-08-01 05:38:42+00:00
URL: https://github.com/zulip/zulip/pull/30700
Description:
Added right padding to the actions heading in the table.

Fixes #29633.

<table>
<tr>
<th></th><th>Before</th><th>After 2em</th><th>After 1em</th><th>After 1em with data</th>
</tr>
<tr>
<td>Users</td>
<td>

![image](https://github.com/zulip/zulip/assets/29176437/902227e9-aea5-4fb6-8e36-3e06dff1f4fa)

</td>
<td>

![image](https://github.com/user-attachments/assets/e280eb0f-c4a8-406e-8148-69d452676814)

</td>
<td>

![image](https://github.com/user-attachments/assets/43996958-55d5-4d35-8d1f-80e0cd5a045e)


</td>
<td>

![image](https://github.com/user-attachments/assets/d4c69b00-2c5a-4487-ade1-38ca2768728d)


</td>
</tr>
<tr>
<td>Bots</td>
<td>

![image](https://github.com/zulip/zulip/assets/29176437/6a85c5fa-175f-4c22-a4b9-983067455b96)

</td><td>

![image](https://github.com/user-attachments/assets/a2df5f79-8216-44ef-b387-5a7545bce583)


</td><td>

![image](https://github.com/user-attachments/assets/97bda9f1-4648-4775-b2a4-ea256dec3085)

</td><td>

![image](https://github.com/user-attachments/assets/4ad98a73-31ab-489b-b2f0-e32c98d4f381)


</td>
</tr>
<tr>
<td>Default Channels</td>


<td>

![image](https://github.com/zulip/zulip/assets/29176437/da51a7a2-99f3-4e93-af58-45cea70108ce)


</td><td>

![image](https://github.com/user-attachments/assets/ed8c5c56-2e60-4796-bde9-12837117f51e)


</td><td>

![image](https://github.com/user-attachments/assets/2045f227-5d5a-49b4-9127-f048051b9abd)


</td><td>

![image](https://github.com/user-attachments/assets/46dc9535-1486-426a-8ab7-433ff9e51a2f)


</td>
</tr>

<tr>
<td>

Custom Emoji

</td>
<td>

![image](https://github.com/user-attachments/assets/643f05a7-5f83-4a31-8142-f5b6af0f44b7)


</td>
<td>

![image](https://github.com/user-attachments/assets/e4802eeb-9a8f-41b1-89a6-3eaf88176c5e)

</td>
<td>

![image](https://github.com/user-attachments/assets/dc82bb10-5689-4e7d-a905-009d6d6ae63b)


</td>
<td>

![image](https://github.com/user-attachments/assets/cba4bd12-fb1a-40d6-8c4f-a1d624b465e4)

</td>

<tr>
</table>

----------------------------------------

PR #30848: integrations: Prevent duplicate PR review messages.
Author: PieterCK
Merged at: 2024-07-31 17:42:41+00:00
URL: https://github.com/zulip/zulip/pull/30848
Description:
This PR removes duplicative messages from payloads related to starting a PR review with code comments. This is done by filtering out an identical payload similar to `pull_request_review.json` but with "edited" as the "action" value and contains an additional empty "changes" dict which is documented in the new `pull_request_review_duplicate_payload.json` fixture. Refer to this diff to see these differences: https://www.diffchecker.com/dlrsAXQc/

The duplicate message from #26145 has been successfully reproduced. The result is in this [discussion](https://chat.zulip.org/#narrow/stream/127-integrations/topic/github.20bot/near/1886176)

Fixes #26145.

**Screenshots and screen captures:**
### GitHub PR review:
![image](https://github.com/user-attachments/assets/55b123d6-3e46-457f-ad8b-b9810a08c089)

### Before:
![image](https://github.com/user-attachments/assets/eb3dbdeb-b488-4b50-9abe-21b8afbd8cd7)

### Fixed:
![image](https://github.com/user-attachments/assets/09261cc2-7f54-4eb4-b0a8-de7ad9981c63)

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31038: integration-docs: Update to the new format (Sentry and Semaphore).
Author: adnan-td
Merged at: 2024-07-31 17:16:54+00:00
URL: https://github.com/zulip/zulip/pull/31038
Description:
Apply integration-docs' new format.

Fixes part of #29592.

Updates the following integration documentation pages:

<details>
<summary>Sentry</summary>

[Doc link](https://zulip.com/integrations/doc/sentry)

![localhost_9991_integrations_doc_sentry](https://github.com/user-attachments/assets/365bf330-341a-4b85-8e33-92b3e6086537)

</details>

<details>
<summary>Semaphore</summary>

[Doc link](https://zulip.com/integrations/doc/semaphore)

![localhost_9991_integrations_doc_semaphore](https://github.com/user-attachments/assets/c6d0b1c1-33a7-4503-8b33-1cf98073fba9)

</details>

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [x] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [x] Visual appearance of the changes.
- [x] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31140: typeahead: Fix typeahead overflowing out of window.
Author: amanagr
Merged at: 2024-07-30 18:25:50+00:00
URL: https://github.com/zulip/zulip/pull/31140
Description:
When the caret in textarea is around the right end of the screen, typeahead can overflow the window. To fix it, we use tippy's mechanism to keep the tooltip inside the visible boundary.


https://github.com/user-attachments/assets/1d8bcea9-278a-40d9-8358-4689f0c36e82



----------------------------------------

PR #31127: upgrade-zulip-stage-2: Be more specific about OS upgrade steps.
Author: alexmv
Merged at: 2024-07-26 18:14:11+00:00
URL: https://github.com/zulip/zulip/pull/31127
Description:
None
----------------------------------------

PR #31187: Upgrade documentation fixes
Author: alexmv
Merged at: 2024-07-31 18:56:06+00:00
URL: https://github.com/zulip/zulip/pull/31187
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #30807: user_groups: Migrate to @typed_endpoint.
Author: abdelrahman725
Merged at: 2024-08-01 16:56:06+00:00
URL: https://github.com/zulip/zulip/pull/30807
Description:
migrate the following endpoints from `@has_request_variables` to `@typed_endpoint`:

- `get_user_group()`
- `delete_user_group()`
- `update_user_group_backend()`
- `update_subgroups_of_user_group()`
- `get_is_user_group_member()`
- `get_user_group_members()`
- `get_subgroups_of_user_group()`

----------------------------------------

PR #31169: Migrate action functions to send event on commit.
Author: prakhar1144
Merged at: 2024-08-01 05:33:52+00:00
URL: https://github.com/zulip/zulip/pull/31169
Description:
Migrates 4 action functions to use `send_event_on_commit`.


<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [x] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [x] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [x] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #30831: test_stream: Setup make_stream function to create streams in node tests.
Author: afeefuddin
Merged at: 2024-08-01 05:26:55+00:00
URL: https://github.com/zulip/zulip/pull/30831
Description:
The PR introduces a new function make_stream to make test streams in node tests with accurate types instead of dummy objects.
I've currently modified `example${i}.test.js` files only.

I've used dummy data in `make_stream` function.


<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [x] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [x] Each commit is a coherent idea.
- [x] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31141: endpoints: Migrate to typed_endpoint.
Author: kennethnrk
Merged at: 2024-08-01 00:10:06+00:00
URL: https://github.com/zulip/zulip/pull/31141
Description:
Migrate `tornado/views.py`, `user_settings.py`,
`events_register.py` and `zilencer/views.py` to typed_endpoint.

Remove unused validators and unused openapi tests.
----------------------------------------

PR #31192: 8.x backport upgrade docs
Author: timabbott
Merged at: 2024-07-31 19:52:13+00:00
URL: https://github.com/zulip/zulip/pull/31192
Description:
Backports the following:
- #31127 
- #31187 
----------------------------------------

PR #31193: Backport documentation fixups to 9.x
Author: timabbott
Merged at: 2024-07-31 19:52:10+00:00
URL: https://github.com/zulip/zulip/pull/31193
Description:
Translations are synced from `main`, since Transifex branches are not working.

- #31127 
- #31187
----------------------------------------

PR #31179: zilencer: Avoid repeated COUNT(*) queries.
Author: alexmv
Merged at: 2024-07-31 16:19:31+00:00
URL: https://github.com/zulip/zulip/pull/31179
Description:
Because Django does not support returning the inserted row-ids with a `bulk_create(..., ignore_conflicts=True)`, we previously counted the total rows before and after insertion.  This is rather inefficient, and can lead to database contention when many servers are reporting statistics at once.

Switch to reaching into the private `_insert` method, which does support what we need.  While relying a private method is poor form, it is mildly preferable to attempting to re-implement all of the complexities of it.

<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31176: api docs: Clarify event structure when moving channels.
Author: timabbott
Merged at: 2024-07-31 16:22:44+00:00
URL: https://github.com/zulip/zulip/pull/31176
Description:
The previous language would most naturally be read as suggesting that moving topics between channels would have these fields.

----------------------------------------

PR #31181: help: Message and compose actions illustrations
Author: alya
Merged at: 2024-07-31 16:20:34+00:00
URL: https://github.com/zulip/zulip/pull/31181
Description:
Notes on the message actions image:
- I was going for neutral and not overly long context in the sample message. It's easy enough to adjust in Figma if we'd like to do something else.
- The topic actions in the message bar have been removed (they're more about the topic than the message).
- The image has a label now. We could drop it, but I'm pretty sure @terpimost made the layout with it in mind, so we'd probably want to tweak other things in that case.

Current: https://zulip.com/help/message-actions (outdated UI)
<details>
<summary>
Updated
</summary>

![Screenshot 2024-07-30 at 22 40 36@2x](https://github.com/user-attachments/assets/ad040e25-0a0a-46c5-b7b5-13e638ebd57e)

</details>

Current: https://zulip.com/help/mastering-the-compose-box (no illustration)
<details>
<summary>
Updated
</summary>

![Screenshot 2024-07-30 at 22 15 15@2x](https://github.com/user-attachments/assets/4fa8018e-17a8-441d-bd81-d9ceb5bb2fb1)


</details>


----------------------------------------

PR #31149: docs: Fix up some paths and references in architecture-overview.md.
Author: alexmv
Merged at: 2024-07-30 16:46:24+00:00
URL: https://github.com/zulip/zulip/pull/31149
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31175: stream_list: Fix handling of unsubscribing from last channel.
Author: timabbott
Merged at: 2024-07-30 20:53:38+00:00
URL: https://github.com/zulip/zulip/pull/31175
Description:
This check been present since
466beef6fedbd800933fecb59f1b492865035b84, but it seems unnecessary in that the main logic handles there being 0 channels just fine, that's a rare case (so not a useful optimization), and importantly, not calling stream_list_sort.sort_groups for that transition resulted in `stream_list_sort` having stale data structures, resulting in exceptions if one tried to open the CHANNELS filter widget in the newly-no-channels state.

----------------------------------------

PR #31160: thumbnail: Fix typo in comment.
Author: mateuszmandera
Merged at: 2024-07-29 22:18:00+00:00
URL: https://github.com/zulip/zulip/pull/31160
Description:
None
----------------------------------------

PR #31128: nagios: Make zephyr mirroring not page.
Author: alexmv
Merged at: 2024-07-26 21:24:50+00:00
URL: https://github.com/zulip/zulip/pull/31128
Description:
It is often flaky for reasons we cannot affect, and this is no longer an important part of the Zulip Cloud service.

<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31105: upgrade-zulip: Factor out a script to run hooks.
Author: alexmv
Merged at: 2024-07-26 21:31:55+00:00
URL: https://github.com/zulip/zulip/pull/31105
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31130: Update Docker images and CI
Author: alexmv
Merged at: 2024-07-26 21:25:49+00:00
URL: https://github.com/zulip/zulip/pull/31130
Description:
<!-- Describe your pull request here.-->

Fixes: <!-- Issue link, or clear description.-->

<!-- If the PR makes UI changes, always include one or more still screenshots to demonstrate your changes. If it seems helpful, add a screen capture of the new functionality as well.

Tooling tips: https://zulip.readthedocs.io/en/latest/tutorials/screenshot-and-gif-software.html
-->

**Screenshots and screen captures:**

<details>
<summary>Self-review checklist</summary>

<!-- Prior to submitting a PR, follow our step-by-step guide to review your own code:
https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code -->

<!-- Once you create the PR, check off all the steps below that you have completed.
If any of these steps are not relevant or you have not completed, leave them unchecked.-->

- [ ] [Self-reviewed](https://zulip.readthedocs.io/en/latest/contributing/code-reviewing.html#how-to-review-code) the changes for clarity and maintainability
      (variable names, code reuse, readability, etc.).

Communicate decisions, questions, and potential concerns.

- [ ] Explains differences from previous plans (e.g., issue description).
- [ ] Highlights technical choices and bugs encountered.
- [ ] Calls out remaining decisions and concerns.
- [ ] Automated tests verify logic where appropriate.

Individual commits are ready for review (see [commit discipline](https://zulip.readthedocs.io/en/latest/contributing/commit-discipline.html)).

- [ ] Each commit is a coherent idea.
- [ ] Commit message(s) explain reasoning and motivation for changes.

Completed manual review and testing of the following:

- [ ] Visual appearance of the changes.
- [ ] Responsiveness and internationalization.
- [ ] Strings and tooltips.
- [ ] End-to-end functionality of buttons, interactions and flows.
- [ ] Corner cases, error conditions, and easily imagined bugs.
</details>

----------------------------------------

PR #31114: [8.x] Upgrade Python requirements
Author: andersk
Merged at: 2024-07-27 16:27:23+00:00
URL: https://github.com/zulip/zulip/pull/31114
Description:
Backport to 8.x:

- #29319
- #30276
- #30607
----------------------------------------

PR #31136: message_reactions: Use the reactions tooltip template.
Author: timabbott
Merged at: 2024-07-27 16:25:51+00:00
URL: https://github.com/zulip/zulip/pull/31136
Description:
Using the existing tooltip template for the other "add emoji reaction" element in message_controls results in the keyboard shortcut being shown and avoids doing work to translate the string for every single message containing emoji reactions.

----------------------------------------

PR #31113: Backport several PRs to 8.5
Author: timabbott
Merged at: 2024-07-26 21:27:46+00:00
URL: https://github.com/zulip/zulip/pull/31113
Description:

- https://github.com/zulip/zulip/pull/29443 (Most important, as it fixes upgrading Debian systems).
- https://github.com/zulip/zulip/pull/30904
- https://github.com/zulip/zulip/pull/30235
- https://github.com/zulip/zulip/pull/30247
----------------------------------------

PR #31116: [8.x] data_import: Remove gitter data import tool.
Author: andersk
Merged at: 2024-07-26 17:41:29+00:00
URL: https://github.com/zulip/zulip/pull/31116
Description:
Backport to 8.x:

- #29923
----------------------------------------

PR #31111: portico: Add Zulip Server 9.0 relese to /history.
Author: alya
Merged at: 2024-07-25 21:47:40+00:00
URL: https://github.com/zulip/zulip/pull/31111
Description:
Current: https:/zulip.com/history/#major-server-releases-and-product-announcements

Updated:
![Screenshot 2024-07-25 at 14 16 00](https://github.com/user-attachments/assets/a79e5bf9-2ada-4018-9e77-f07762881671)

----------------------------------------

PR #31110: version: Update version after 9.0 release.
Author: timabbott
Merged at: 2024-07-25 21:35:16+00:00
URL: https://github.com/zulip/zulip/pull/31110
Description:
None
----------------------------------------

PR #31109: release: Parse version.py using the language it was written in
Author: andersk
Merged at: 2024-07-25 20:17:49+00:00
URL: https://github.com/zulip/zulip/pull/31109
Description:
[Discussion](https://chat.zulip.org/#narrow/stream/438-release-management/topic/release.20checklist/near/1902682).
----------------------------------------

PR #31095: updates: Add update message (level=8).
Author: alya
Merged at: 2024-07-25 20:19:39+00:00
URL: https://github.com/zulip/zulip/pull/31095
Description:
This uses invalid syntax for a cloud vs. self-hosted conditional.

[CZO discussion](https://chat.zulip.org/#narrow/stream/438-release-management/topic/zulip_updates.20items.20of.20note/near/1901817)
----------------------------------------

PR #31106: i18n: Update translation data from Transifex.
Author: timabbott
Merged at: 2024-07-25 19:34:41+00:00
URL: https://github.com/zulip/zulip/pull/31106
Description:
None
----------------------------------------

PR #31107: docs: Tweak 9.0 release highlights to better match blog post wording.
Author: alya
Merged at: 2024-07-25 19:37:26+00:00
URL: https://github.com/zulip/zulip/pull/31107
Description:
None
----------------------------------------


FILE CHANGES
--------------------------------------------------------------------------------

File: analytics/lib/counts.py
Status: modified
Changes: +1 -0
Diff:
@@ -768,6 +768,7 @@ def count_realm_active_humans_query(realm: Realm | None) -> QueryFn:
                     AND end_time = %(time_end)s
     ) active_usercount
     JOIN zerver_userprofile ON active_usercount.user_id = zerver_userprofile.id
+     AND active_usercount.realm_id = zerver_userprofile.realm_id
     JOIN (
             SELECT DISTINCT ON (modified_user_id)
                     modified_user_id, event_type

----------------------------------------

File: confirmation/migrations/0014_confirmation_confirmatio_content_80155a_idx.py
Status: added
Changes: +21 -0
Diff:
@@ -0,0 +1,21 @@
+from django.contrib.postgres.operations import AddIndexConcurrently
+from django.db import migrations, models
+
+
+class Migration(migrations.Migration):
+    atomic = False
+
+    dependencies = [
+        ("confirmation", "0013_alter_realmcreationkey_id"),

----------------------------------------

File: confirmation/migrations/0015_alter_confirmation_object_id.py
Status: added
Changes: +15 -0
Diff:
@@ -0,0 +1,15 @@
+from django.db import migrations, models
+
+
+class Migration(migrations.Migration):
+    dependencies = [
+        ("confirmation", "0014_confirmation_confirmatio_content_80155a_idx"),
+    ]
+
+    operations = [

----------------------------------------

File: confirmation/models.py
Status: modified
Changes: +4 -1
Diff:
@@ -209,7 +209,7 @@ def confirmation_url(
 
 class Confirmation(models.Model):
     content_type = models.ForeignKey(ContentType, on_delete=CASCADE)
-    object_id = models.PositiveIntegerField(db_index=True)
+    object_id = models.PositiveBigIntegerField(db_index=True)
     content_object = GenericForeignKey("content_type", "object_id")
     date_sent = models.DateTimeField(db_index=True)
     confirmation_key = models.CharField(max_length=40, db_index=True)
@@ -231,6 +231,9 @@ class Confirmation(models.Model):

----------------------------------------

File: docs/overview/changelog.md
Status: modified
Changes: +49 -0
Diff:
@@ -7,6 +7,34 @@ up-to-date list of all changes.
 
 ## Zulip Server 9.x series
 
+### Zulip Server 9.1
+
+_Released 2024-08-02_
+
+- Clarified upgrade notes and installer error messages. Improved
+  documentation to smooth the process of upgrading Ubuntu 20.04 to
+  22.04 before upgrading to Zulip 9.x. Installations currently running
+  Ubuntu 20.04 should first upgrade to the latest Zulip 8.x release,
+  and then follow the [Zulip host OS upgrade
+  instructions](../production/upgrade.md#upgrading-the-operating-system)
+  in preparation for upgrading to Zulip 9.x.
+- Improved web and mobile app loading times and bandwidth usage by
+  tuning API response compression and removing some unnecessary
+  entropy in user object payloads.
+- Fixed how Zulip handles a GitHub quirk, to avoid duplicate
+  notifications when pull request reviews are submitted.
+- Fixed a rare race condition that could cause uploaded images to be
+  displayed as a perpetual loading spinner.
+- Fixed video player controls appearing in the lightbox bottom

----------------------------------------

File: docs/overview/release-lifecycle.md
Status: modified
Changes: +7 -6
Diff:
@@ -167,12 +167,13 @@ releases, and do not support them in production.
 The Zulip server project uses GitHub projects and labels to structure
 communication about priorities:
 
-- We use GitHub projects to track goals for major releases (e.g., [Zulip 9.0
-  priorities](https://github.com/orgs/zulip/projects/9/)). The project board
-  should be seen a list of priorities being _considered_ for the release, not a
-  guarantee that features will be included. As the release date approaches,
-  features that will not make it into the release are dropped from the project
-  board on an ongoing basis.

----------------------------------------

File: docs/production/postgresql-support-table.md
Status: modified
Changes: +1 -0
Diff:
@@ -6,3 +6,4 @@
 | 6.x                  | 11, 12, 13, 14                   |
 | 7.x                  | 12, 13, 14, 15                   |
 | 8.x                  | 12, 13, 14, 15, 16               |
+| 9.x                  | 12, 13, 14, 15, 16               |

----------------------------------------

File: docs/production/upgrade.md
Status: modified
Changes: +100 -26
Diff:
@@ -300,10 +300,10 @@ The steps are largely the same for the various OS upgrades aside from
 the versions of PostgreSQL, so you should be able to adapt these
 instructions for other supported platforms.
 
-### Upgrading from Ubuntu 20.04 Focal to 22.04 Jammy
+### Upgrading from Ubuntu 22.04 Jammy to 24.04 Noble
 
-1. Upgrade your server to the latest Zulip `5.x` release (at
-   least 5.3, which adds support for Ubuntu 22.04 and above).
+1. Upgrade your server to the latest Zulip `8.x` release (at
+   least 8.3, which adds support for Ubuntu 24.04).
 
 2. As the Zulip user, stop the Zulip server and run the following
    to back up the system:
@@ -313,10 +313,8 @@ instructions for other supported platforms.
    /home/zulip/deployments/current/manage.py backup --output=/home/zulip/release-upgrade.backup.tar.gz
    ```
 
-3. Switch to the root user and upgrade the operating system using the
-   OS's standard tooling. E.g., for Ubuntu, this means running
-   `do-release-upgrade` and following the prompts until it completes
-   successfully:
+3. Switch to the root user and upgrade the operating system, following
+   the prompts until it completes successfully:
 
    ```bash
    sudo -i # Or otherwise get a root shell
@@ -329,13 +327,71 @@ instructions for other supported platforms.
    currently installed version. But it's not important; the next
    step will re-install Zulip's configuration in any case.
 
-4. As root, upgrade the database to the latest version of PostgreSQL:
+   The `do-release-upgrade` tool will complete by prompting you to
+   restart the system; press `N`, as we will do so later.
+
+4. Next, we need to reinstall the current version of Zulip, which
+   among other things will recompile Zulip's Python module
+   dependencies for your new version of Python and rewrite Zulip's
+   full-text search indexes to work with the upgraded dictionary
+   packages:
+
+   ```bash
+   rm -rf /srv/zulip-venv-cache/*
+   /home/zulip/deployments/current/scripts/lib/upgrade-zulip-stage-2 \
+       /home/zulip/deployments/current/ --ignore-static-assets --audit-fts-indexes
+   ```
+
+   This process may show a dialog about a "pending kernel upgrade",
+   which can safely be ignored. It may also prompt about "daemons
+   using outdated libraries"; you should select "cancel".
+
+5. As root, upgrade the database to the latest version of PostgreSQL:
 
    ```bash
    /home/zulip/deployments/current/scripts/setup/upgrade-postgresql
    ```
 
-5. Next, we need to reinstall the current version of Zulip, which
+6. As root, restart the server:
+
+   ```bash
+   reboot
+   ```

----------------------------------------

File: help/include/global-times-examples.md
Status: modified
Changes: +5 -5
Diff:
@@ -3,20 +3,20 @@
 A date picker will appear once you type `<time`.
 
 ```
-Our next meeting is scheduled for <time:2020-05-28T13:30:00+05:30>
+Our next meeting is scheduled for <time:2024-08-06T17:00:00+01:00>.
 ```
 
 !!! tip ""
 

----------------------------------------

File: locale/ar/LC_MESSAGES/django.po
Status: modified
Changes: +9 -9
Diff:
@@ -1899,11 +1899,11 @@ msgid ""
 "We received a request to add the email address %(new_email)s to your Zulip "
 "demo organization account on %(realm_url)s. To confirm this update and set a"
 " password for this account, please click below:"
-msgstr ""
+msgstr "لقد وصلنا طلبك بإضافة عنوان البريد الإلكتروني %(new_email)s إلى حساب منظمة زوليب التجريبية الخاص بك على %(realm_url)s. لتأكيد هذا و تعيين كلمة مرور لهذا الحساب, من فضلك اضغط أدناه:"
 
 #: templates/zerver/emails/confirm_demo_organization_email.html:11
 msgid "Confirm and set password"
-msgstr ""
+msgstr "تأكيد و تعيين كلمة مرور"
 
 #: templates/zerver/emails/confirm_demo_organization_email.html:13
 #: templates/zerver/emails/confirm_new_email.html:13
@@ -2031,7 +2031,7 @@ msgstr ""
 msgid ""
 "\n"
 "Your Zulip account on %(realm_url)s has been deactivated, and you will no longer be able to log in.\n"
-msgstr ""
+msgstr "\nتم تعطيل حساب زوليب الخاص بك على %(realm_url)s, و لن تستطيع تسجيل الدخول بعد الآن\n"
 
 #: templates/zerver/emails/digest.html:27 templates/zerver/emails/digest.txt:8
 msgid "New channels"
@@ -2053,7 +2053,7 @@ msgstr "ملخص Zulip ل %(realm_name)s"
 #: templates/zerver/emails/digest.txt:12

----------------------------------------

File: locale/ar/translations.json
Status: modified
Changes: +320 -300
Diff:
@@ -13,7 +13,7 @@
   "/dark (Switch to the dark theme)": "/dark (قم بالتبديل إلى الوضع المظلم)",
   "/light (Switch to light theme)": "/light (التبديل إلى المظهر الفاتح)",
   "/me (Action message)": "أنا (رسالة فعل)/",
-  "/poll (Create a poll)": "استبيان (أنشئ استبيان)/",
+  "/poll (Create a poll)": "استطلاع (أنشئ استطلاع)/",
   "/todo (Create a collaborative to-do list)": "عمل المهام (أنشئ قائمة مهام تعاونية )/",
   "1 day": "يوم واحد",
   "1 hour": "ساعة واحدة",
@@ -41,14 +41,15 @@
   "<z-link>Click here</z-link> to learn about exporting private channels and direct messages.": "<z-link>اضغط هنا</z-link>لتعلم إخراج القنوات الخاصة و الرسائل المباشرة",
   "<z-link>Learn more.</z-link>": "<z-link>اعرف المزيد</z-link>",
   "<z-link>Upgrade</z-link> for more space.": "<z-link>ترقية</z-link> لمزيد من المساحة.",
-  "<z-user></z-user> will have the same role, channel subscriptions, user group memberships, and other settings and permissions as they did prior to deactivation.": "<z-user></z-user>سيكون له نفس الدور والاشتراكات في الغرفة وعضويات مجموعة المستخدمين والإعدادات والأذونات الأخرى كما كان قبل التعطيل.",
+  "<z-user></z-user> will have the same properties as it did prior to deactivation, including role, owner and channel subscriptions.": "<z-user></z-user> سيكون له نفس الخصائص قبل التعطيل, بما في ذلك, الدور, المالك و مشتركين القناة",
+  "<z-user></z-user> will have the same role, channel subscriptions, user group memberships, and other settings and permissions as they did prior to deactivation.": "<z-user></z-user> سيكون له نفس  الدور, مشتركين القناة, عضويات المجموعات, و إعدادات أخرى و أذونات, كما الحال قبل التعطيل",
   "@{name} (guest)": "{name}@ (ضيف)",
   "A Topic Move already in progress.": "  نقل موضوع في الوقت الحالي.",
   "A channel with this name already exists.": "قناة بهذا الاسم بالفعل موجودة",
   "A deactivated bot cannot send messages, access data, or take any other action.": "لا يمكن للروبوت المعطل إرسال الرسائل، أو الوصول إلى البيانات، أو القيام بأي إجراء آخر.",
   "A deactivated emoji will remain visible in existing messages and emoji reactions, but cannot be used on new messages.": "سيبقى الرمز التعبيري المُعطل مرئيًا في الرسائل الموجودة مسبقًا وردود فعل الرموز التعبيرية، ولكن لا يمكن استخدامه في الرسائل الجديدة.",
   "A language is marked as 100% translated only if every string in the web, desktop, and mobile apps is translated, including administrative UI and error messages.": "يتم تمييز اللغة على أنها مترجمة بنسبة 100٪ فقط إذا تمت ترجمة كل النصوص في تطبيقات الويب وسطح المكتب والجوال ، بما في ذلك واجهة المستخدم الإدارية ورسائل الخطأ.",
-  "A poll must be an entire message.": "الاستبيان يجيب أن يكون رسالة كاملة",
+  "A poll must be an entire message.": "الاستطلاع يجيب أن يكون رسالة كاملة",
   "A user group with this name already exists.": "مجموعة بهذا الاسم بالفعل موجودة",
   "A wide image (200×25 pixels) for the upper left corner of the app.": "صورة عريضة (200x25) للزاوية اليسرى العليا من التطبيق",
   "API documentation": "وثائق الـ API ",
@@ -86,7 +87,7 @@
   "Add channel": "أضف قناة",
   "Add channels": "أضف قنوات",
   "Add code playground": "إضافة مكان تجربة الشِفرة",
-  "Add default channels": "أضف قنوات أساسية",
+  "Add default channels": "أضف قنوات افتراضية",
   "Add email": "أضف بريد إلكتروني",
   "Add emoji": "أضف رمز تعبيري",
   "Add emoji reaction": "إضافة رد فعل تعبيري",
@@ -98,7 +99,7 @@
   "Add members. Use usergroup or #channelname to bulk add members.": "أضف أعضاء. استخدم مجموعة المستخدمين أو #اسم القناة لإضافة أكثر من مستخدم في نفس الوقت",
   "Add one or more users": "أضف مستخدما واحدا أو أكثر",
   "Add option": "أضف اختيار",
-  "Add poll": "أضف استبيان",
+  "Add poll": "أضف استطلاع",
   "Add question": "إضافة سؤال",
   "Add subscribers": "إضافة المشتركين",
   "Add subscribers to": "أضف مشتركين إلى",
@@ -139,7 +140,7 @@
   "All unmuted topics": "جميع المواضيع الغير صامتة",
   "All unread messages": "جميع الرسائل الغير مقروءة",
   "All users will need to log in again at your new organization URL.": "جميع المستخدمين سيحتاجون إلى تسجيل الدخول مرة أخرى على URL أو رابط منظمتك الجديد",
-  "All your messages except those in muted channels and topics.": "جميع رسائلك باستثناء الرسائل الموجودة في القنوات و المواضيع الصامتة",
+  "All your messages except those in muted channels and topics.": "جميع رسائلك باستثناء رسائل القنوات و المواضيع الصامتة",
   "All your messages.": "جميع رسائلك",
   "Allow creating web-public channels (visible to anyone on the Internet)": "اسمح بإنشاء قنوات مرئية, (أي مرئية لأي شخص علي الانترنت)",
   "Allow message content in message notification emails": "السماح بمحتوى الرسالة في رسائل إشعارات البريد الإلكتروني",
@@ -154,13 +155,13 @@
   "Already subscribed users:": "المستخدمون المشتركون بالفعل:",
   "Already subscribed.": "بالفعل مشترك",
   "Always": "دائما",
-  "An API key can be used to programmatically access a Zulip account. Anyone with access to your API key has the ability to read your messages, send messages on your behalf, and otherwise impersonate you on Zulip, so you should guard your API key as carefully as you guard your password. <br /> We recommend creating bots and using the bots' accounts and API keys to access the Zulip API, unless the task requires access to your account.": "يمكن استخدام مفتاح الـ API للوصول برمجيًا إلى حساب \"زوليب\". يتمتع أي شخص لديه الوصول إلى مفتاح الـ API الخاص بك بالقدرة على قراءة رسائلك وإرسال الرسائل نيابةً عنك وينتحل شخصيتك على \"زوليب\"، لذلك يجب عليك حماية مفتاح الـ API الخاص بك بعناية كما تحمي كلمة مرورك.<br /> نوصي بإنشاء روبوتات واستخدام حسابات الروبوتات ومفاتيح الـ API للوصول إلى الـ API الخاص بـ \"زوليب\"، ما لم تتطلب المهمة الوصول إلى حسابك.",
+  "An API key can be used to programmatically access a Zulip account. Anyone with access to your API key has the ability to read your messages, send messages on your behalf, and otherwise impersonate you on Zulip, so you should guard your API key as carefully as you guard your password. <br /> We recommend creating bots and using the bots' accounts and API keys to access the Zulip API, unless the task requires access to your account.": " واجهة برمجة التطبيقات = API\nيمكن استخدام مفتاح واجهة برمجة التطبيقات للوصول برمجيًا إلى حساب زوليب. يتمتع أي شخص لديه الوصول إلى مفتاح واجهة برمجة التطبيقات الخاص بك بالقدرة على قراءة رسائلك وإرسال الرسائل نيابةً عنك وانتحال شخصيتك على زوليب، لذلك يجب عليك حماية  هذا المفتاح بعناية كما تحمي كلمة مرورك.<br /> نوصي بإنشاء روبوتات واستخدام حسابات الروبوتات وهذه المفاتيح للوصول إلى واجهة برمجة التطبيقات الخاص بـ زوليب، ما لم تتطلب المهمة الوصول إلى حسابك.",
   "An hour ago": "قبل ساعة",
   "An unknown error occurred.": "حدث خطأ غير معروف.",
   "Announce new channel in": "أعلن عن القناة الجديدة في",
   "Any organization administrator can conduct an export.": "يمكن لأي مسؤول في المنظمة إجراء عملية تصدير.",
   "Any time": "في أي وقت",
-  "Anyone can add more options after the poll is posted.": "أي شخص يستطيع إضافة اختيارات أخرى بعد نشر هذا الاستبيان",
+  "Anyone can add more options after the poll is posted.": "أي شخص يستطيع إضافة اختيارات أخرى بعد نشر هذا استطلاع",
   "Anyone on the internet can view messages; members of your organization can join.": "أي شخص علي الانترنت يستطيع رؤية الرسائل; أعضاء منظمتك يمكنهم الانضمام",
   "App theme": "لون التطبيق",
   "April": "نيسان",
@@ -175,13 +176,13 @@
   "Are you sure you want to delete all drafts?  This action cannot be undone.": "هل أنت متأكد أنك تريد حذف كافة المسودات؟ لا يمكن التراجع عن هذا الإجراء بعد القيام به.",
   "Are you sure you want to delete your profile picture?": "هل أنت متأكد أنك تريد حذف صورة ملفك الشخصي؟",
   "Are you sure you want to mark all messages as read? This action cannot be undone.": "هل أنت متأكد أنك تريد الإشارة علي كل الرسالة بأنها قرأت؟ لا يمكن التراجع عن هذا الإجراء",
-  "Are you sure you want to mute <b>{user_name}</b>?  Messages sent by muted users will never trigger notifications, will be marked as read, and will be hidden.": "هل أنت متأكد أنك تريد كتم صوت <b>{user_name}</b>؟ لن تقوم الرسائل المرسلة من قبل المستخدمين الذين تم كتم صوتهم بإصدار الإشعارات مطلقًا، وسيتم وضع علامة عليها كمقروءة وسيتم إخفاؤها.",
+  "Are you sure you want to mute <b>{user_name}</b>?  Messages sent by muted users will never trigger notifications, will be marked as read, and will be hidden.": "هل أنت متأكد أنك تريد جعل<b>{user_name}</b> صامت؟ لن تقوم الرسائل المرسلة من قبل المستخدمين الصامتين بإصدار الإشعارات مطلقًا، وسيتم وضع علامة عليها كمقروءة وسيتم إخفاؤها.",
   "Are you sure you want to permanently delete <b>{topic_name}</b>?": "هل أنت متأكد من أنك تريد حذف <b>{topic_name}</b> نهائيًا؟",
   "Are you sure you want to resend the invitation to <z-email></z-email>?": "هل أنت متأكد أنك تريد إعادة إرسال الدعوة إلى<z-email></z-email>؟",
   "Are you sure you want to revoke the invitation to <strong>{email}</strong>?": "هل أنت متأكد أنك تريد إلغاء الدعوة الموجهة إلى <strong>{email}</strong>؟",
   "Are you sure you want to revoke this invitation link created by <strong>{referred_by}</strong>?": "هل أنت متأكد أنك تريد إلغاء رابط الدعوة الذي أنشأه <strong>{referred_by}</strong>؟",
   "Are you sure you want to revoke this invitation link?": "هل أنت متأكد أنك تريد إبطال رابط الدعوة هذا؟",
-  "Are you sure you want to send @-mention notifications to the <strong>{subscriber_count}</strong> users subscribed to #{channel_name}? If not, please edit your message to remove the <strong>@{wildcard_mention}</strong> mention.": "",
+  "Are you sure you want to send @-mention notifications to the <strong>{subscriber_count}</strong> users subscribed to #{channel_name}? If not, please edit your message to remove the <strong>@{wildcard_mention}</strong> mention.": "هل أنت متأكد من إرسال إشعارات الإشارة-@  إلى <strong>{subscriber_count}</strong> مستخدم مشتركين في {channel_name}#؟ إن لم يكن كذلك من فضلك قم بتعديل رسالتك لإزالة إشارة<strong>{wildcard_mention}@</strong>",
   "Are you sure you want to unstar all messages in <stream-topic></stream-topic>?  This action cannot be undone.": "هل أنت متأكد من أنك تريد إلغاء نجمة جميع الرسائل الموجودة في<stream-topic></stream-topic>؟ لا يمكن التراجع عن هذا الإجراء بعد القيام به.",
   "Are you sure you want to unstar all starred messages?  This action cannot be undone.": "هل أنت متأكد أنك تريد إلغاء النجمة عن جميع الرسائل المميزة بنجمة؟ لا يمكن التراجع عن هذا الإجراء بعد القيام به.",
   "Ask me later": "اسالني لاحقا",
@@ -199,15 +200,17 @@
   "Automatically follow topics where I'm mentioned": "تلقائياً تابع المواضيع التي تم الإشارة فيها إليك",
   "Automatically go to conversation where you sent a message": "تلقائياً اذهب إلي المحادثة التي أرسلت فيها رسالة",
   "Automatically mark messages as read": "تلقائياً أشر إلي الرسائل علي أنها مقروءة",
-  "Automatically unmute topics in muted channels": "تلقائياً إلغاء كتم صوت المواضيع في القنوات التي تم كتم صوتها",
+  "Automatically unmute topics in muted channels": "تلقائياً جعل المواضيع غير صامتة في القنوات الصامتة",
   "Available on Zulip Cloud Standard. <z-link-upgrade>Upgrade</z-link-upgrade> or <z-link-sponsorship>request sponsorship</z-link-sponsorship> to access.": "متوفر على Zulip Cloud Standard. <z-link-upgrade>قم بالترقية</z-link-upgrade> أو <z-link-sponsorship>اطلب رعاية </z-link-sponsorship> للوصول.",
   "Avatar": "الصورة الرمزية",
   "Avatar changes are disabled in this organization": "تم تعطيل إمكانية تغيير الصورة الرمزية في هذه المنظمة",
   "Avatar from Gravatar": "الصورة الرمزية من Gravatar",
   "Back to channels": "عودة إلى القنوات",
   "Back to settings": "عودة إلي الاعدادات",
-  "Because the original owner of this bot <z-bot-owner></z-bot-owner> is deactivated, you will become the owner for this bot.": "",
-  "Because you are the only organization owner, you cannot deactivate your account.": "",
+  "Because the original owner of this bot <z-bot-owner></z-bot-owner> is deactivated, you will become the owner for this bot.": "لأن المالك الأصلي لهذا البوت <z-bot-owner></z-bot-owner> تم تعطيله, ستصبح أنت المالك لهذا البوت",
+  "Because you are removing the last subscriber from a private channel, it will be automatically <z-link>archived</z-link>.": "لأنك تقوم بإزالة المشترك الأخير من قناة خاصة, ستصبح القناة تلقائياً <z-link>مؤرشفة</z-link>",
+  "Because you are the only organization owner, you cannot deactivate your account.": "لأنك مالك المنظمة الوحيد, لا يمكنك تعطيل حسابك",
+  "Because you are the only subscriber, this channel will be automatically <z-link>archived</z-link>.": "لأنك المشترك الوحيد, ستصبح هذه القناة تلقائياً <z-link>مؤرشفة</z-link>",
   "Billing": "الفواتير",
   "Bold": "عريض",
   "Bot": "بوت",
@@ -228,7 +231,7 @@
   "Call provider": "مزود خدمة الكالمة",
   "Cancel": "إلغاء",
   "Cancel compose": "إلغاء التأليف",
-  "Cancel compose and save draft": "إلغاء التأليف وحفظ المسودة",
+  "Cancel compose and save draft": "إلغاء و حفظ كمسودة",
   "Cannot join group {name}": "لا يمكن الإنضمام إلى مجموعة {name}",
   "Cannot leave group {name}": "لا يمكن مغادرة المجموعة {name}",
   "Cannot save invalid Jitsi server URL.": "رابط خادم جيتسي غير صالح, لا يمكن حفظه",
@@ -279,107 +282,109 @@
   "Clear status": "امسح الحالة",
   "Clear topic": "امسح الموضوع",
   "Clear your status": "امسح حالتك",
-  "Click <z-icon-inbox></z-icon-inbox> <b>Inbox</b> in the left sidebar.": "",
-  "Click <z-icon-recent></z-icon-recent> <b>Recent conversations</b> in the left sidebar.": "",
+  "Click <z-icon-inbox></z-icon-inbox> <b>Inbox</b> in the left sidebar.": "اضغط <z-icon-inbox></z-icon-inbox>الصندوق الوارد <b></b> في الشريط اليساري",
+  "Click <z-icon-recent></z-icon-recent> <b>Recent conversations</b> in the left sidebar.": "اضغط <z-icon-recent></z-icon-recent> <b>المحادثات الحديثة</b> في الشريط اليساري",
   "Click here to reveal.": "انقر هنا للكشف.",
-  "Click on <z-stream></z-stream> at the top of your Zulip window.": "",
-  "Click on a conversation to view it. To return here, you can:": "",
-  "Click on the pencil (<z-pencil-icon></z-pencil-icon>) icon to edit and reschedule a message.": "",
+  "Click on <z-stream></z-stream> at the top of your Zulip window.": "اضغط علي <z-stream></z-stream>في الجزء العلوي من نافذة زوليب",
+  "Click on a conversation to view it. To return here, you can:": "اضغط على المحادثة لرؤيتها. للرجوع هنا, يمكنك:",
+  "Click on the pencil (<z-pencil-icon></z-pencil-icon>) icon to edit and reschedule a message.": "اضغط على أيقونة قلم الرصاص (<z-pencil-icon></z-pencil-icon>) لتعديل و جدولة الرسالة",
   "Click to view or download.": "انقر للعرض أو التحميل.",
   "Close": "اغلاق",
   "Close modal": "إغلاق مشروط",
   "Close this dialog window": "أغلق نافذة الحوار هذه",
-  "Code": "",
+  "Code": "كود",
   "Code playgrounds": "مكان تجربة الشِفرة",
-  "Code playgrounds are interactive in-browser development environments, that are designed to make it convenient to edit and debug code. Zulip <z-link-code-blocks>code blocks</z-link-code-blocks> that are tagged with a programming language will have a button visible on hover that allows users to open the code block on the code playground site.": "",
-  "Collapse compose box": "",
+  "Code playgrounds are interactive in-browser development environments, that are designed to make it convenient to edit and debug code. Zulip <z-link-code-blocks>code blocks</z-link-code-blocks> that are tagged with a programming language will have a button visible on hover that allows users to open the code block on the code playground site.": "ملاعب الكود هي عبارة عن بيئات تطوير في المتصفح, صممت لجعل عملية تعديل و تصحيح أخطاء الكود سهلة, <z-link-code-blocks>حواجز الكود</z-link-code-blocks> اللتي عليها علامة بلغة برمجة سيكون لديها زر مرئي عند تمرير المؤشر فوقه, يسمح لك هذ الزر بفتح الكود في موقع ملاعب الكود ",
+  "Collapse compose box": "تقليص المساحة",
   "Collapse direct messages": "تصغير الرسائل المباشرة",
   "Collapse message": "طي الرسالة",
-  "Collapse views": "",
+  "Collapse views": "تقليص المشاهد",
   "Collapse/show selected message": "طي/ إظهار الرسالة المحددة ",
-  "Combined feed": "",
+  "Combined feed": "الموجز المشترك",
   "Community": "مجتمع",
   "Commuting": "التنقل",
   "Compact": "المدمج",
-  "Compact mode": "",
+  "Compact mode": "الوضع المضغوط",
   "Complete": "اكتمل",
-  "Complete your <z-link>organization profile</z-link>, which is displayed on your organization's registration and login pages.": "",
+  "Complete your <z-link>organization profile</z-link>, which is displayed on your organization's registration and login pages.": "أكمل <z-link>عرض حساب منظمتك</z-link>, الذي يتم عرضه في صفحات التسجيل و تسجيل الدخول الخاصة بمنظمتك",
   "Compose message": "اكتب رسالة",
   "Compose your message here": "اكتب رسالتك هنا",
   "Compose your message here...": "ألّف رسالتك هنا...",
   "Composing messages": "تأليف الرسائل",
-  "Configure new channel settings": "",
-  "Configure new group settings": "",
-  "Configure regular expression patterns that will be used to automatically transform any matching text in Zulip messages and topics into links.": "",
+  "Configure how Zulip notifies you about new messages. In muted channels, channel notification settings apply only to unmuted topics.": "اختر كيف يقوم زوليب بإرسال إشعارات الرسائل الجديدة لك. في القنوات الصامتة, إعدادات إشعارات القناة تنطبق فقط علي المواضيع الغير الصامتة",
+  "Configure new channel settings": "اضبط إعدادات القناة الجديدة",
+  "Configure new group settings": "اضبط إعدادات المجموعة الجديدة",
+  "Configure regular expression patterns that will be used to automatically transform any matching text in Zulip messages and topics into links.": "اضبط التعابيير النمطية اللتي ستستخدم لتحويل تلقائياً أي نص مطابق في رسائل زوليب و المواضيع إلى روابط",
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "أنشئ<z-link> إعدادات التفضيلات الشخصية الافتراضية</z-link> للمستخدمين الجدد الذين ينضمون إلى مؤسستك.",
   "Configure the authentication methods for your organization.": "أنشئ طرق المصادقة لمؤسستك.",
-  "Configure the default channels new users are subscribed to when joining your organization.": "أنشئ الغرف الافتراضية التي يشترك فيها المستخدمون الجدد عند الانضمام إلى مؤسستك.",
-  "Configure topic notifications": "",
+  "Configure the default channels new users are subscribed to when joining your organization.": "اختر القنوات اللتي سيشارك فيها المستخدمين الجدد بشكل تلقائي عند الانضمام إلى منظمتك",
+  "Configure topic notifications": "إعداد إشعارات الموضوع",
   "Confirm": "تأكيد",
-  "Confirm changing access permissions": "",
-  "Consider <z-link>searching all public channels that you can view</z-link>.": "",
-  "Consider <z-link>searching all public channels</z-link>.": "اعتبر<z-link> البحث في جميع الغرف العامة</z-link> .",
-  "Contact a moderator to resolve this topic.": "",
-  "Contact a moderator to unresolve this topic.": "",
+  "Confirm changing access permissions": "تأكيد تغيير إذن الوصول",
+  "Consider <z-link>searching all public channels that you can view</z-link>.": "خذ بعين الاعتبار <z-link>البحث في جميع القنوات العامة اللتي يمكنك رؤيتها</z-link>",
+  "Consider <z-link>searching all public channels</z-link>.": "خذ بعين الاعتبار <z-link>البحث في جميع القنوات العامة</z-link>",
+  "Contact a moderator to resolve this topic.": "اتصل بمشرف لإنهاء هذا الموضوع",
+  "Contact a moderator to unresolve this topic.": "اتصل بمشرف لجعل هذا الموضوع غير منتهي",
   "Contact support": "اتصل بالدعم",
   "Continue": "استمر",
-  "Continue to add members": "",
-  "Continue to add subscribers": "",
-  "Convert": "",
+  "Continue to add members": "أكمل لإضافة الأعضاء",
+  "Continue to add subscribers": "أكمل لإضافة المشتركين",
+  "Convert": "تحويل",
   "Convert emoticons before sending (<code>:)</code> becomes 😃)": "تحويل الرموز قبل الإرسال (<code>:)</code> تصبح 😃)",
   "Cookie Bot": "بوت ملفات تعريف الارتباط",
   "Copied!": "نسخ!",
-  "Copy URL": "",
-  "Copy address": "",
+  "Copy URL": "نسخ الرابط",
+  "Copy address": "نسخ العنوان",
   "Copy and close": "نسخ وإغلاق",
   "Copy code": "نسخ الشِفرة",
-  "Copy email": "",
+  "Copy email": "نسخ البريد الإلكتروني",
   "Copy link": "نسخ الرابط",
-  "Copy link to channel": "",
+  "Copy link to channel": "نسخ رابط القناة",
   "Copy link to message": "نسخ الرابط للرسالة",
-  "Copy link to profile": "",
+  "Copy link to profile": "نسخ رابط الملف الشخصي",
   "Copy link to topic": "نسخ رابط الموضوع",
   "Copy mention syntax": "نسخ سياق الإشارة",
   "Copy version": "نسخ الإصدار",
   "Copy zuliprc": "نسخ zuliprc",
-  "Could not resolve topic": "",
-  "Could not unresolve topic": "",
+  "Could not resolve topic": "تعذر إنهاء الموضوع",
+  "Could not unresolve topic": "تعذر جعل الموضوع غير منتهي",
   "Create": "إنشاء",
-  "Create a channel": "إنشاء غرفة",
-  "Create a poll": "",
-  "Create a user group": "",
-  "Create channel": "إنشاء غرفة",
-  "Create link": "",
-  "Create new channel": "إنشاء تيار جديد",
-  "Create new user group": "",
+  "Create a channel": "أنشئ قناة",
+  "Create a poll": "أنشئ استطلاع",
+  "Create a user group": "أنشئ مجموعة",
+  "Create channel": "أنشئ قناة",
+  "Create link": "أنشئ رابط",
+  "Create new channel": "أنشئ قناة جديدة",
+  "Create new user group": "أنشئ مجموعة جديدة",
   "Create user group": "إنشاء مجموعة مستخدمين",
-  "Created by <z-user></z-user> on <z-stream-date-created></z-stream-date-created>.": "",
-  "Created on <z-stream-date-created></z-stream-date-created>.": "",
-  "Creating channel...": "جارٍ إنشاء الغرفة...",
+  "Created by <z-user></z-user> on <z-stream-date-created></z-stream-date-created>.": "أنشئت بواسطة <z-user></z-user> بتاريخ <z-stream-date-created></z-stream-date-created>",
+  "Created on <z-stream-date-created></z-stream-date-created>.": "أنشئت بتاريخ<z-stream-date-created></z-stream-date-created>",
+  "Creating channel...": "إنشاء القناة...",
   "Creating group...": "جارٍ إنشاء المجموعة...",
-  "Creating link…": "",
-  "Currently viewing all direct messages.": "",
-  "Currently viewing the entire channel.": "جارٍ عرض كل الغرفة.",
-  "Currently viewing your combined feed.": "",
+  "Creating link…": "إنشاء الرابط...",
+  "Currently viewing all direct messages.": "حالياً يتم عرض جميع الرسائل المباشرة",
+  "Currently viewing the entire channel.": "حالياً يتم عرض القناة كاملة",
+  "Currently viewing your combined feed.": "حالياً يتم عرض الموجز المشترك",
   "Custom": "مخصص",
-  "Custom URL": "",
+  "Custom URL": "رابط مخصص",
   "Custom emoji": "الرموز التعبيرية المخصصة",
   "Custom language: {query}": "لغة مخصصة: {query}",
   "Custom linkifier added!": "تمت إضافة رابط مخصص!",
   "Custom playground added!": "تمت إضافة مكان تجربة مخصص!",
   "Custom profile fields": "حقول الملف الشخصي المخصصة",
   "Custom time": "وقت مخصص",
+  "Cycle between channel views": "بدل بشكل دائري بين مشاهد القناة",
   "DIRECT MESSAGES": "الرسائل المباشرة",
-  "DM": "",
-  "DMs and mentions": "",
-  "DMs, mentions, and alerts": "",
-  "DMs, mentions, and followed topics": "",
+  "DM": "الرسائل المباشرة",
+  "DMs and mentions": "الرسائل المباشرة و الإشارات",
+  "DMs, mentions, and alerts": "الرسائل المباشرة, الإشارات و التنبيهات",
+  "DMs, mentions, and followed topics": "الرسائل المباشرة, الإشارات و المواضيع المتبوعة",
   "Dark": "المضلم",
   "Dark theme": "الوضع المظلم",
   "Dark theme logo": "شعار الوضع المضلم",
   "Data exports": "تصدير البيانات",
-  "Date muted": "تاريخ الوضع الصامت",
-  "Date updated": "",
+  "Date muted": "تاريخ التحول إلى صامت",
+  "Date updated": "تاريخ التحديث",
   "Date uploaded": "تاريخ الرفع",
   "Day of the week to send digests": "يوم من الأسبوع لإرسال الموجزات",
   "Deactivate": "تعطيل",
@@ -390,33 +395,36 @@
   "Deactivate user": "تعطيل المستخدم",
   "Deactivate your account": "تعطيل حسابك",
   "Deactivate {name}?": "تعطيل {name}؟",
-  "Deactivated": "",
+  "Deactivated": "معطل",
   "Deactivated users": "المستخدمون المعطّلون",
   "December": "كانون الاول",
-  "Default": "",
-  "Default channel for new users": "",
-  "Default channels": "الغرف الافتراضية",
+  "Default": "افتراضي",
+  "Default channel for new users": "القنوات الافتراضية للمستخدمين الجدد",
+  "Default channels": "القنوات الافتراضية",
+  "Default channels for new users cannot be made private.": "القنوات الافتراضية للمستخدمين الجدد لا يمكن جعلها خاصة",
+  "Default channels for this organization": "القنوات الافتراضية لهذه المنظمة",
+  "Default for channel": "الافتراضي للقناة",
   "Default is {language}. Use 'text' to disable highlighting.": "الافتراضي هو {language}. استخدم \"النص\" لإلغاء التمييز.",
-  "Default language for code blocks": "اللغة الافتراضية لقطع الشِفرة البرمجية",
+  "Default language for code blocks": "اللغة الافتراضية لقِطَع الكود البرمجي",
   "Default user settings": "إعدادات المستخدم الافتراضية",
   "Delay before sending message notification emails": "التأخير قبل إرسال إشعارات رسائل البريد الإلكتروني",
   "Delay period (minutes)": "فترة التأخير (بالدقائق)",
   "Delete": "حذف",
   "Delete all drafts": "حذف كل المسودات",
-  "Delete all selected drafts": "",
+  "Delete all selected drafts": "حذف كل المسودات المحددة",
   "Delete code playground?": "حذف مكان تجربة الشِفرة؟",
   "Delete custom profile field?": "حذف حقل الملف الشخصي المخصص؟",
   "Delete data export?": " حذف تصدير البيانات؟",
   "Delete draft": "حذف المسودة",
   "Delete file?": "حذف الملف؟",
-  "Delete group": "",
+  "Delete group": "حذف المجموعة",
   "Delete icon": "حذف الرمز",
   "Delete linkifier?": "حذف الرابط؟",
   "Delete logo": "حذف الشعار",
   "Delete message": "حذف رسالة",
   "Delete message?": "حذف الرسالة؟",
   "Delete profile picture": "حذف صورة الملف الشخصي",
-  "Delete scheduled message": "",
+  "Delete scheduled message": "حذف الرسالة المجدولة",
   "Delete selected draft": "حذف المسودة المحددة",
   "Delete topic": "حذف موضوع",
   "Delete {user_group_name}?": "حذف {user_group_name}؟",
@@ -426,39 +434,39 @@
   "Deleted successfully!": "حذف بنجاح!",
   "Deleting a message permanently removes it for everyone.": "سيؤدي حذف الرسالة إلى إزالتها نهائيًا للجميع.",
   "Deleting a topic will immediately remove it and its messages for everyone. Other users may find this confusing, especially if they had received an email or push notification related to the deleted messages.": "سيؤدي حذف الموضوع إلى إزالته وإزالة رسائله على الفور للجميع. قد يجد المستخدمون الآخرون هذا الأمر محيرًا ، خاصةً إذا كانوا قد تلقوا بريدًا إلكترونيًا أو إشعارًا فوريًا يتعلق بالرسائل المحذوفة.",
-  "Demote inactive channels": "تخفيض الغرف غير النشطة",
+  "Demote inactive channels": "تخفيض القنوات غير النشطة",
   "Depending on the size of your organization, an export can take anywhere from seconds to an hour.": "بناءً على حجم مؤسستك ، يمكن أن يستغرق التصدير من ثانية إلى ساعة.",
   "Deprecation notice": "إشعار الإيقاف",
   "Description": "وصف",
-  "Deselect draft": "",
+  "Deselect draft": "إلغاء تحديد المسودة",
   "Desktop": "سطح المكتب",
   "Desktop & mobile apps": "تطبيقات سطح المكتب والأجهزة المحمولة",
   "Desktop message notifications": "إشعارات رسائل سطح المكتب",
   "Detailed keyboard shortcuts documentation": "توثيق مفصل لاختصارات لوحة المفاتيح",
   "Detailed message formatting documentation": "توثيق مفصل لتنسيق الرسالة",
-  "Detailed search filters documentation": "",
+  "Detailed search filters documentation": "وثيقة فلترة البحث الدقيقة",
   "Direct message": "رسالة مباشرة",
-  "Direct message feed": "",
-  "Direct message permissions": "",
-  "Direct message to me": "",
+  "Direct message feed": "موجز الرسائل المباشرة",
+  "Direct message permissions": "أذونات الرسائل المباشرة",
+  "Direct message to me": "أرسل لي رسالة مباشرة",
   "Direct messages": "الرسائل المباشرة",
-  "Direct messages are disabled in this organization.": "",
-  "Direct messages disabled": "",
-  "Disable": "",
-  "Disable notifications?": "",
+  "Direct messages are disabled in this organization.": "الرسائل المباشرة معطلة في هذه المنظمة",
+  "Direct messages disabled": "الرسائل المباشرة معطلة",
+  "Disable": "تعطيل",
+  "Disable notifications?": "تعطيل الإشعارات؟",
   "Disabled": "معطل",
   "Discard": "تجاهل",
-  "Dismiss": "",
-  "Dismiss failed message": "",
-  "Dismiss for a week": "طرد لمدة أسبوع",
+  "Dismiss": "تجاهل",
+  "Dismiss failed message": "تجاهل الرسالة الفاشلة",
+  "Dismiss for a week": "تجاهل لمدة أسبوع",
   "Display availability to other users": "إظهار التوفر للمستخدمين الآخرين",
   "Display my availability to other users": "إظهار توفري للمستخدمين الآخرين",
   "Display names of reacting users when few users have reacted to a message": "إظهار اسماء المستخدمين المتفاعلين عندما يتفاعل عدد قليل من المستخدمين للرسالة",
-  "Display on user card": "",
-  "Display “(guest)” after names of guest users": "",
-  "Do you still want to move the latest {total_messages_allowed_to_move, plural, one {message} other {# messages}}?": "",
+  "Display on user card": "عرض على كارت المستخدم",
+  "Display “(guest)” after names of guest users": "عرض كلمة “(ضيف)”بعد اسم المستخدم الضيف",
+  "Do you still want to move the latest {total_messages_allowed_to_move, plural, one {message} other {# messages}}?": "هل مازلت تريد نقي آخر {total_messages_allowed_to_move, plural, one {message} other {# messages}} ؟",
   "Do you want to add everyone?": "هل تريد إضافة الجميع؟",
-  "Do you want to mark them all as read?": "",
+  "Do you want to mark them all as read?": "هل تريد تتميزهم كلهم بأنهم مقروئين؟",
   "Domain": "مجال",
   "Don’t allow disposable email addresses": "لا تسمح بعناوين البريد الإلكتروني المؤقتة",
   "Download": "تحميل",
@@ -475,17 +483,18 @@
   "Duration deletion is allowed after posting (minutes)": "يسمح بحذف المدة بعد النشر (بالدقائق)",
   "Duration editing is allowed after posting (minutes)": "يسمح بتعديل المدة بعد النشر (بالدقائق)",
   "EDITED": "تم تعديله",
-  "Each conversation is <b>labeled with a topic</b> by the person started it.": "",

----------------------------------------

File: locale/be/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Zulip\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
 "Last-Translator: Iван М., 2023\n"
 "Language-Team: Belarusian (http://app.transifex.com/zulip/zulip/language/"
@@ -4002,7 +4002,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4194,62 +4194,62 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/da/translations.json
Status: modified
Changes: +1 -1
Diff:
@@ -976,7 +976,7 @@
   "Other permissions": "",
   "Other settings": "Andre indstillinger",
   "Other users in this Zulip organization will be able to see this email address.": "",
-  "Others": "",
+  "Others": "Andre",
   "Out sick": "Syg",
   "Outgoing webhook message format": "",
   "Override default emoji?": "",

----------------------------------------

File: locale/en_GB/LC_MESSAGES/django.po
Status: modified
Changes: +2 -2
Diff:
@@ -13,7 +13,7 @@ msgstr ""
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2024-07-25 18:54+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
-"Last-Translator: David Wood <heavy.spot0252@fuligin.ink>, 2022-2024\n"
+"Last-Translator: Andi Chandler <andi@gowling.com>, 2023-2024\n"
 "Language-Team: English (United Kingdom) (http://app.transifex.com/zulip/zulip/language/en_GB/)\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -4563,7 +4563,7 @@ msgstr "Error sending message to channel {channel_name} via message notification

----------------------------------------

File: locale/en_GB/translations.json
Status: modified
Changes: +8 -8
Diff:
@@ -318,7 +318,7 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "Configure the <z-link>default personal preference settings</z-link> for new users joining your organisation.",
   "Configure the authentication methods for your organization.": "Configure the authentication methods for your organisation.",
   "Configure the default channels new users are subscribed to when joining your organization.": "Configure the default channels new users are subscribed to when joining your organisation.",
-  "Configure topic notifications": "",
+  "Configure topic notifications": "Configure topic notifications",
   "Confirm": "Confirm",
   "Confirm changing access permissions": "Confirm changing access permissions",
   "Consider <z-link>searching all public channels that you can view</z-link>.": "Consider <z-link>searching all public channels that you can view</z-link>.",
@@ -851,7 +851,7 @@
   "Moving messages": "Moving messages",
   "Mute": "Mute",
   "Mute channel": "Mute channel",
-  "Mute this bot": "",
+  "Mute this bot": "Mute this bot",
   "Mute this user": "Mute this user",
   "Mute topic": "Mute topic",
   "Mute user": "Mute user",
@@ -957,8 +957,8 @@
   "Notification sound": "Notification sound",
   "Notification triggers": "Notification triggers",

----------------------------------------

File: locale/eo/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -3947,7 +3947,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4139,62 +4139,62 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/es/translations.json
Status: modified
Changes: +124 -121
Diff:
@@ -5,10 +5,10 @@
   "(hidden)": "(oculto)",
   "(no topic)": "(sin tema)",
   "(or <key-html></key-html>)": "(o <key-html></key-html>)",
-  "(to you and {other_participant_names})": "",
-  "(to you and {participants_count} more)": "",
-  "(to you)": "",
-  "(you)": "(tu)",
+  "(to you and {other_participant_names})": "(para ti y {other_participant_names})",
+  "(to you and {participants_count} more)": "(para ti y {participants_count} más)",
+  "(to you)": "(para ti)",
+  "(you)": "(tú)",
   "({message_retention_days} days)": "({message_retention_days} días)",
   "/dark (Switch to the dark theme)": "/dark (Cambiar al tema oscuro)",
   "/light (Switch to light theme)": "/light (Cambiar al tema claro)",
@@ -31,18 +31,18 @@
   "<b>Total messages</b>: {total_messages}": "<b>Mensajes totales</b>: {total_messages}",
   "<p><strong>{file_name}</strong> will be removed from the messages where it was shared. This action cannot be undone.</p>": "<p><strong>{file_name}</strong> será removido de los mensajes donde ha sido compartido. Esta acción no puede ser revertida.</p>",
   "<p>You are searching for messages that are sent by more than one person, which is not possible.</p>": "<p>Estás buscando mensajes que fueron enviados por más de una persona, lo cual no es posible.</p>",
-  "<p>You are searching for messages that belong to more than one channel, which is not possible.</p>": "<p>Estás buscando mensajes que pertenencen a más de un canal, lo cual no es posible.</p>",
-  "<p>You are searching for messages that belong to more than one topic, which is not possible.</p>": "<p>Estás buscando mensajes que pertenencen a más de un tema, lo cual no es posible.</p>",
-  "<strong>{name}</strong> <i>(guest)</i> is not subscribed to this channel. They will not be notified if you mention them.": "<strong>{name}</strong> <i>(guest)</i> no están suscritos a este canal. No recibirán notificación cuando sean mencionados.",
-  "<strong>{name}</strong> <i>(guest)</i> is not subscribed to this channel. They will not be notified unless you subscribe them.": "<strong>{name}</strong> <i>(guest)</i> no están suscritos a este canal. No serán notificados a no ser que los agregues personalmente.",
-  "<strong>{name}</strong> is not subscribed to this channel. They will not be notified if you mention them.": "<strong>{name}</strong> no está subscrito a este canal. No será notificado  si le mencionas.",
-  "<strong>{name}</strong> is not subscribed to this channel. They will not be notified unless you subscribe them.": "<strong>{name}</strong> no está subscrito a este canal. No será notificado si no le subscribes.",
+  "<p>You are searching for messages that belong to more than one channel, which is not possible.</p>": "<p>Estás buscando mensajes que pertenecen a más de un canal, lo cual no es posible.</p>",
+  "<p>You are searching for messages that belong to more than one topic, which is not possible.</p>": "<p>Estás buscando mensajes que pertenecen a más de un tema, lo cual no es posible.</p>",
+  "<strong>{name}</strong> <i>(guest)</i> is not subscribed to this channel. They will not be notified if you mention them.": "<strong>{name}</strong> <i>(Invitado)</i> no es suscrito a este canal. No serán notificados si los mencionas.",
+  "<strong>{name}</strong> <i>(guest)</i> is not subscribed to this channel. They will not be notified unless you subscribe them.": "<strong>{name}</strong> <i>(Invitado)</i> no es suscrito a este canal. No serán notificados a menos que los suscribas.",
+  "<strong>{name}</strong> is not subscribed to this channel. They will not be notified if you mention them.": " <strong>{name}</strong> no es suscrito a este canal. No serán notificados si los mencionas.",
+  "<strong>{name}</strong> is not subscribed to this channel. They will not be notified unless you subscribe them.": " <strong>{name}</strong>no es suscrito a este canal. No serán notificados a menos que los suscribas.",
   "<strong>{username}</strong> has {number_of_invites_by_user} unexpired invitations.": "<strong>{username}</strong> tiene {number_of_invites_by_user} invitaciones sin expirar.",
-  "<z-link>Click here</z-link> to learn about exporting private channels and direct messages.": "Toque <z-link>aquí</z-link> para averiguar sobre exportación de canales privados y mensajes directos. ",
-  "<z-link>Learn more.</z-link>": "",
+  "<z-link>Click here</z-link> to learn about exporting private channels and direct messages.": "<z-link>haz click aquí</z-link> para saber más sobre exportando los canales privadas y los mensajes directos.",
+  "<z-link>Learn more.</z-link>": "<z-link>sabe más.</z-link>",
   "<z-link>Upgrade</z-link> for more space.": "<z-link>Mejora</z-link> para más espacio.",
-  "<z-user></z-user> will have the same properties as it did prior to deactivation, including role, owner and channel subscriptions.": "<z-user></z-user> tendrá la mismas configuraciones a como los tuvo antes de la desactivación, incluyendo rol, propietario y subscriptores del canal.",
-  "<z-user></z-user> will have the same role, channel subscriptions, user group memberships, and other settings and permissions as they did prior to deactivation.": "<z-user></z-user> tendrá el mismo rol, suscripcion a canales, grupos de usuarios, otras configuraciones y permisos que los que tenía antes de la desactivación.",
+  "<z-user></z-user> will have the same properties as it did prior to deactivation, including role, owner and channel subscriptions.": "<z-user></z-user> va a tener las mismas propiedades que tenía antes de desactivación, incluyendo role, propietario y los suscriptores del canal.",
+  "<z-user></z-user> will have the same role, channel subscriptions, user group memberships, and other settings and permissions as they did prior to deactivation.": "<z-user></z-user> va a tener el mismo rol, los suscriptores del canal, grupos de usuarios, y otrás configuraciónes y permisos que tenía antes de desactivación,",
   "@{name} (guest)": "@{name} (guest)",
   "A Topic Move already in progress.": "Un cambio de tema ya en marcha. ",
   "A channel with this name already exists.": "Ya existe un canal con este nombre.",
@@ -84,28 +84,28 @@
   "Add alert word": "Añadir alerta",
   "Add all users": "Agregar todos los usuarios",
   "Add another user...": "Añadir otro usuario...",
-  "Add channel": "Añadir canal",
-  "Add channels": "Añadir canal",
+  "Add channel": "Añandir un canal",
+  "Add channels": "Añandir canales",
   "Add code playground": "Agregar espacio para código fuente",
-  "Add default channels": "Agregar canales predeterminados",
+  "Add default channels": "Añandir canales predeterminados",
   "Add email": "Agregar correo.",
   "Add emoji": "Añadir emoticono",
   "Add emoji reaction": "Añadir reacción de emoticono",
   "Add extra emoji for members of the {realm_name} organization.": "Agregar un emoji adicional para los miembros de la organización {realm_name}.",
   "Add global time": "Agregar hora global",
   "Add linkifier": "Añadir creador de enlaces",
   "Add members": "Agregar miembros",
-  "Add members to {group_name}": "",
-  "Add members. Use usergroup or #channelname to bulk add members.": "Agregue miembros. Use grupoDeUsuarios o #nombredecanal para agregar varios miembros",
+  "Add members to {group_name}": "Añandir miembros a {group_name}",
+  "Add members. Use usergroup or #channelname to bulk add members.": "Agregue miembros. Use grupoDeUsuarios o #nombredecanal para agregar varios miembros.",
   "Add one or more users": "Añade uno o más usuarios",
   "Add option": "Añadir opción",
   "Add poll": "Agregar encuesta",
   "Add question": "Añadir pregunta",
   "Add subscribers": "Añadir suscriptores",
-  "Add subscribers to": "",
-  "Add subscribers. Use usergroup or #channelname to bulk add subscribers.": "Agregar subscriptores, Use grupousuarios o #nombrecanal para agregar subscriptores en lote",
+  "Add subscribers to": "Añadir suscriptores a ",
+  "Add subscribers. Use usergroup or #channelname to bulk add subscribers.": "Añadir suscriptors. Usa grupoDeUsuarios o #nombredecanal para agregar varios suscriptores.",
   "Add task": "Añadir tarea",
-  "Add todo task list title": "",
+  "Add todo task list title": "Añandir un título para la lista de tareas ",
   "Add video call": "Añadir videollamada",
   "Add voice call": "Agregar llamada",
   "Add your email to <z-link-invite-users-help>invite other users</z-link-invite-users-help> or <z-link-convert-demo-organization-help>convert to a permanent Zulip organization</z-link-convert-demo-organization-help>.": "Agregue su correo para <z-link-invite-users-help>invitar otros usuarios</z-link-invite-users-help> o <z-link-convert-demo-organization-help>convertir en una organización permenente de Zulip</z-link-convert-demo-organization-help>.",
@@ -123,7 +123,7 @@
   "Admins, moderators and members": "Administradores, moderadores y miembros",
   "Admins, moderators and members, but only admins can add generic bots": "Administradores, moderadores y miembros, pero solamente administradores pueden agregar bots genéricos",
   "Admins, moderators, members and guests": "Administradores, moderadores, miembros e invitados",
-  "Advanced configurations": "",
+  "Advanced configurations": "Configuraciónes advanzados",
   "Advertise organization in the Zulip communities directory": "Promocionar organización en el directorio de comunidades de Zulip",
   "Alert word": "Alerta",
   "Alert word \"{alert_word}\" removed successfully!": "Palabra de alerta \"{alert_word}\" removida satisfactoriamente",
@@ -133,16 +133,16 @@
   "Alerted messages": "Mensajes con alertas",
   "All channels": "Todos los canales",
   "All groups": "Todos los grupos",
-  "All messages including muted channels": "Todos los mensajes, incluyendo canales silenciados. ",
-  "All roles": "",
+  "All messages including muted channels": "Todos mensajes incluyendo los canales silenciados",
+  "All roles": "Todos roles",
   "All time": "Todos los tiempos",
   "All topics": "Todos los temas",
   "All unmuted topics": "Todos los temas no silenciados",
   "All unread messages": "Todos los mensajes no leídos",
   "All users will need to log in again at your new organization URL.": "Todos los usuarios tendrán que volver a iniciar sesión con el nuevo URL de tu organización.",
-  "All your messages except those in muted channels and topics.": "",
-  "All your messages.": "",
-  "Allow creating web-public channels (visible to anyone on the Internet)": "",
+  "All your messages except those in muted channels and topics.": "Todos tus mensajes menos los de canales y los temas silenciados.",
+  "All your messages.": "Todos tus mensajes",
+  "Allow creating web-public channels (visible to anyone on the Internet)": "Permite crear web-public canales (visible para cualquier persona en Internet)",
   "Allow message content in message notification emails": "Permitir el contenido del mensaje en los correos electrónicos de notificación de mensajes",
   "Allow message editing": "Permitir la edición de mensajes",
   "Allow other users to view read receipts": "Permitor a otros usuarios ver confirmaciones de lectura",
@@ -151,7 +151,7 @@
   "Allowed domains: {domains}": "Dominios permitidos: {domains}",
   "Already members:": "Miembos ya unidos:",
   "Already not subscribed.": "Aún no suscrito.",
-  "Already subscribed to {channel}": "",
+  "Already subscribed to {channel}": "ya suscrito a {channel}",
   "Already subscribed users:": "Usuarios ya suscritos:",
   "Already subscribed.": "Ya suscrito.",
   "Always": "Siempre",
@@ -162,15 +162,15 @@
   "Any organization administrator can conduct an export.": "Cualquier administrador de organización puede exportar.",
   "Any time": "Cualquier momento",
   "Anyone can add more options after the poll is posted.": "Cualquiera puede agregar más opciones luego de que la encuesta se haya crado.",
-  "Anyone on the internet can view messages; members of your organization can join.": "",
-  "App theme": "",
+  "Anyone on the internet can view messages; members of your organization can join.": "Cualquier person en Internet puede ver mensajes; miembros de tu organización pueden unirse.",
+  "App theme": "Tema del aplicación",
   "April": "Abril",
   "Archive <z-link></z-link>?": "¿Archivar <z-link></z-link>?",
-  "Archive channel": "Archivar canal",
-  "Archiving channel <z-stream></z-stream> will immediately unsubscribe everyone. This action cannot be undone.": "Archivar el canal <z-stream></z-stream> desuscribirá inmediatamente a todos los participantes. Esta acción no se puede deshacer.",
-  "Archiving this channel will also disable settings that were configured to use this channel:": "Archivar este canal también deshabilitará las configuraciones de este canal:",
+  "Archive channel": "Archivar canal ",
+  "Archiving channel <z-stream></z-stream> will immediately unsubscribe everyone. This action cannot be undone.": "Archivando el canal <z-stream></z-stream> desuscribirá inmediatamente a todos. Esta acción no se puede deshacer.",
+  "Archiving this channel will also disable settings that were configured to use this channel:": "Al archivar este canal, también desactivará los configuraciónes que se configuraron para usar este canal:",
   "Are you sure you want to continue?": "¿Estás seguro que deseas continuar?",
-  "Are you sure you want to create channel ''''{channel_name}'''' and subscribe {count} users to it?": "",
+  "Are you sure you want to create channel ''''{channel_name}'''' and subscribe {count} users to it?": "Estás seguro que quieres crear el canal ''''{channel_name}'''' y suscribir {counts} usuarios a él? ",
   "Are you sure you want to deactivate this organization?": "¿Estás seguro que quieres desactivar esta organización?",
   "Are you sure you want to deactivate your account?": "¿Estás seguro que deseas desactivar tu cuenta?",
   "Are you sure you want to delete all drafts?  This action cannot be undone.": "¿Estas seguro que deseas eliminar todos los borradores? Esta acción no se puede deshacer",
@@ -182,7 +182,7 @@
   "Are you sure you want to revoke the invitation to <strong>{email}</strong>?": "¿Estás seguro que deseas revocar la invitación a <strong>{email}</strong>?",
   "Are you sure you want to revoke this invitation link created by <strong>{referred_by}</strong>?": "¿Estás seguro que deseas revocar el vínculo de invitación creado por <strong>{referred_by}</strong>?",
   "Are you sure you want to revoke this invitation link?": "¿Estás seguro de querer quitar este link de invitación?",
-  "Are you sure you want to send @-mention notifications to the <strong>{subscriber_count}</strong> users subscribed to #{channel_name}? If not, please edit your message to remove the <strong>@{wildcard_mention}</strong> mention.": "",
+  "Are you sure you want to send @-mention notifications to the <strong>{subscriber_count}</strong> users subscribed to #{channel_name}? If not, please edit your message to remove the <strong>@{wildcard_mention}</strong> mention.": "Estás seguro que quieres enviar @-mención notificaciónes a <strong>{subscriber_count}</strong> usuarios que son suscriptores en #{channel_name}? Si no, Por favor edita tu mensaje para quitar <strong>@{wildcard_mention}</strong>",
   "Are you sure you want to unstar all messages in <stream-topic></stream-topic>?  This action cannot be undone.": "¿Seguro que quieres quitar la estrella a todos los mensajes en <stream-topic></stream-topic>?  Esta acción no se puede deshacer.",
   "Are you sure you want to unstar all starred messages?  This action cannot be undone.": "¿Estas seguro de querer quitar la estrella a todos los mensajes con estrella? Esta acción no se puede deshacer.",
   "Ask me later": "Pregúntame más tarde",
@@ -195,22 +195,22 @@
   "Automated messages and emails": "Mensajes y correos electrónicos automáticos",
   "Automatic": "Automático",
   "Automatic (follows system settings)": "Automático (coincidir con configuración del sistema)",
-  "Automatic theme": "",
+  "Automatic theme": "Tema automático",
   "Automatically follow topics": "Seguir temas automáticamente",
   "Automatically follow topics where I'm mentioned": "Seguir automáticamente los temas donde me mencionen. ",
-  "Automatically go to conversation where you sent a message": "",
+  "Automatically go to conversation where you sent a message": "Automáticamente ir a la conversación en la que enviaste un mensaje",
   "Automatically mark messages as read": "Marcar los mensajes como leídos automáticamente",
-  "Automatically unmute topics in muted channels": "Desilenciar automáticamente los temas en canales silenciados.",
+  "Automatically unmute topics in muted channels": "Automáticamente no silenciar lose temas en los canales silenciados",
   "Available on Zulip Cloud Standard. <z-link-upgrade>Upgrade</z-link-upgrade> or <z-link-sponsorship>request sponsorship</z-link-sponsorship> to access.": "Disponible en Zulip Cloud Standard. <z-link-upgrade>Actualiza</z-link-upgrade> o <z-link-sponsorship>solicita patrocinio</z-link-sponsorship> para tener acceso.",
   "Avatar": "Avatar",
   "Avatar changes are disabled in this organization": "Los cambios de avatar están deshabilitados en esta organización",
   "Avatar from Gravatar": "Avatar de Gravatar",
-  "Back to channels": "Volver a canales",
-  "Back to settings": "",
+  "Back to channels": "Volver a los canales",
+  "Back to settings": "Volver a la configuración",
   "Because the original owner of this bot <z-bot-owner></z-bot-owner> is deactivated, you will become the owner for this bot.": "Debido a que el creador original de este bot <z-bot-owner></z-bot-owner> fue desactivado, te volverás uno de sus dueños.",
-  "Because you are removing the last subscriber from a private channel, it will be automatically <z-link>archived</z-link>.": "Este canal privado será automaticamente <z-link>archivado</z-link>al remover a su último subscriptor.",
+  "Because you are removing the last subscriber from a private channel, it will be automatically <z-link>archived</z-link>.": "Porque estás eliminando el ultimo suscriptor de un canal privado, será automáticamente <z-link>archivado</z-link>.",
   "Because you are the only organization owner, you cannot deactivate your account.": "Debido a que eres el único propietario de la organización, no puedes desactivar tu cuenta.",
-  "Because you are the only subscriber, this channel will be automatically <z-link>archived</z-link>.": "Ya que el único subscriptor, este canal se <z-link>archivará</z-link> automáticamente.",
+  "Because you are the only subscriber, this channel will be automatically <z-link>archived</z-link>.": "Porque eres el solo suscriptor, este canal será automaticámente <z-link>archivado</z-link>.",
   "Billing": "Facturación",
   "Bold": "Negrilla",
   "Bot": "Bot",
@@ -219,10 +219,10 @@
   "Bot is deactivated": "Bot desactivado",
   "Bot type": "Tipo de bot",
   "Bots": "Bots",
-  "Browse 1 more channel": "Buscar 1 canal más",
+  "Browse 1 more channel": "Explorar 1 canal más",
   "Browse channels": "Explorar canales",
   "Browse recent conversations": "Explorar conversaciones recientes",

----------------------------------------

File: locale/fa/LC_MESSAGES/django.po
Status: modified
Changes: +3 -3
Diff:
@@ -4568,7 +4568,7 @@ msgstr "خطا در ارسال پیام به کانال {channel_name}، از ط
 
 #: zerver/lib/email_mirror.py:422
 msgid "Email with no subject"
-msgstr ""
+msgstr "ایمیل بدون موضوع"
 
 #: zerver/lib/email_notifications.py:130 zerver/lib/email_notifications.py:152
 msgid "Open Zulip to see the spoiler content"
@@ -5540,7 +5540,7 @@ msgstr "نامعتبر {var_name}: {msg}"

----------------------------------------

File: locale/fa/translations.json
Status: modified
Changes: +14 -14
Diff:
@@ -318,10 +318,10 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "<z-link>تنظیمات ولویت‌های شخصی پیش‌فرض</z-link> را برای کاربران جدیدی که به سازمان شما می‌پیوندند پیکربندی کنید.",
   "Configure the authentication methods for your organization.": "روش های احرازهویت برای سازمان خود را پیکربندی کنید.",
   "Configure the default channels new users are subscribed to when joining your organization.": "کانال‌های پیش فرض را برای عضویت کاربران جدیدی که به سازمان شما می پیوندند، پیکربندی کنید.",
-  "Configure topic notifications": "",
+  "Configure topic notifications": "ساختاربندی اطلاع‌رسانی‌های موضوعات",
   "Confirm": "تایید",
   "Confirm changing access permissions": "تایید تغییرات در مجوزهای دسترسی",
-  "Consider <z-link>searching all public channels that you can view</z-link>.": "",
+  "Consider <z-link>searching all public channels that you can view</z-link>.": " <z-link>جستجوی همه کانال‌های عمومی که شما می‌توانید ببینید</z-link> در نظر گرفته شود.",
   "Consider <z-link>searching all public channels</z-link>.": " <z-link>جستجوی همه کانال‌ها</z-link> را در نظر بگیرید.",
   "Contact a moderator to resolve this topic.": "با یک مدیر برای حل کردن این موضوع، تماس بگیرید",
   "Contact a moderator to unresolve this topic.": "با یک مدیر برای علامت‌گذاری این موضوع به عنوان حل نشده، تماس بگیرید.",
@@ -851,7 +851,7 @@
   "Moving messages": "جابجایی پیام‌ها",
   "Mute": "بی‌صدا",
   "Mute channel": "بی‌صدا کردن کانال",
-  "Mute this bot": "",
+  "Mute this bot": "بی‌صدا کردن این ربات",
   "Mute this user": "بی‌صدا کردن این کاربر",
   "Mute topic": "بی‌صدا کردن موضوع",
   "Mute user": "بی‌صدا کردن کاربر",
@@ -957,8 +957,8 @@
   "Notification sound": "صدای اطلاع رسانی",
   "Notification triggers": "ماشه اطلاع رسانی",
   "Notifications": "اطلاع رسانی‌ها",
-  "Notifications are based on your configuration for <z-stream-name></z-stream-name>.": "",
-  "Notifications are based on your configuration for this channel.": "",
+  "Notifications are based on your configuration for <z-stream-name></z-stream-name>.": "اطلاع‌رسانی‌ها بر اساس پیکربندی‌ شما در <z-stream-name></z-stream-name> است.",
+  "Notifications are based on your configuration for this channel.": "اطلاع‌رسانی‌ها بر اساس پیکربندی شما برای این کانال است.‍",
   "Notifications for @all/@everyone mentions": "اطلاع‌رسانی‌ها برای @همه/@کسانی که اشاره شده اند",
   "Notify channel": "اطلاع‌دادن به کانال",
   "Notify recipients": "به گیرندگان اطلاع بده",
@@ -969,14 +969,14 @@
   "Numbered list": "لیست شماره‌دار",

----------------------------------------

File: locale/gl/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -3947,7 +3947,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4139,62 +4139,62 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/it/LC_MESSAGES/django.po
Status: modified
Changes: +2 -2
Diff:
@@ -21,7 +21,7 @@ msgstr ""
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2024-07-25 18:54+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
-"Last-Translator: Andrea, 2020-2024\n"
+"Last-Translator: Davide Quagliotto, 2024\n"
 "Language-Team: Italian (http://app.transifex.com/zulip/zulip/language/it/)\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -4571,7 +4571,7 @@ msgstr "Error sending message to channel {channel_name} via message notification

----------------------------------------

File: locale/it/translations.json
Status: modified
Changes: +8 -8
Diff:
@@ -318,7 +318,7 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "Configura le <z-link>impostazioni personali predefinite</z-link> per i nuovi utenti che entrano nella tua organizzazione.",
   "Configure the authentication methods for your organization.": "Configura i metodi di autenticazione per la tua organizzazione.",
   "Configure the default channels new users are subscribed to when joining your organization.": "Configura i canali predefiniti a cui i nuovi utenti si iscrivono quando entrano a far parte della tua organizzazione.",
-  "Configure topic notifications": "",
+  "Configure topic notifications": "Configura le notifiche degli argomenti",
   "Confirm": "Confermare",
   "Confirm changing access permissions": "Confirm changing access permissions",
   "Consider <z-link>searching all public channels that you can view</z-link>.": "Prendi in considerazione <z-link> di cercare in tutti i canali pubblici che puoi visualizzare</z-link>.",
@@ -851,7 +851,7 @@
   "Moving messages": "Messaggi in spostamento",
   "Mute": "Muta",
   "Mute channel": "Muta canale",
-  "Mute this bot": "",
+  "Mute this bot": "Silenzia questo bot",
   "Mute this user": "Silenzia questo utente",
   "Mute topic": "Silenzia l'argomento",
   "Mute user": "Silenzia utente",
@@ -957,8 +957,8 @@
   "Notification sound": "Suono di notifica",
   "Notification triggers": "Trigger di notifica",

----------------------------------------

File: locale/lv/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -3948,7 +3948,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4140,62 +4140,62 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/ml/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -9,7 +9,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Zulip\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: 2021-05-27 07:08+0000\n"
 "Last-Translator: Akash Nimare <svnitakash@gmail.com>\n"
 "Language-Team: Malayalam (http://www.transifex.com/zulip/zulip/language/"
@@ -4061,7 +4061,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4257,64 +4257,64 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482
+#: zerver/actions/message_send.py:1507
 #, python-brace-format

----------------------------------------

File: locale/mobile_info.json
Status: modified
Changes: +1 -1
Diff:
@@ -1,6 +1,6 @@
 {
   "ar": {
-    "not_translated": 168,
+    "not_translated": 162,
     "total": 455
   },
   "be": {

----------------------------------------

File: locale/no/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -3946,7 +3946,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4138,62 +4138,62 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 msgid "Invalid data type for channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/pl/LC_MESSAGES/django.po
Status: modified
Changes: +3 -2
Diff:
@@ -11,6 +11,7 @@
 # Marcin Mazur <m.mazur@nowaera.pl>, 2018
 # Mateusz Abramek <shirkaen@gmail.com>, 2019
 # Mateusz Galazka <wilchuvevo@pm.me>, 2021
+# Mateusz Mandera <mateusz.mandera@zulip.com>, 2024
 # Paweł Ostrowski, 2024
 # Piotr Nowak <nowak.piotr77@gmail.com>, 2017
 # Robert Obryk <robryk@gmail.com>, 2020
@@ -22,7 +23,7 @@ msgstr ""
 "Report-Msgid-Bugs-To: \n"

----------------------------------------

File: locale/pl/translations.json
Status: modified
Changes: +2 -2
Diff:
@@ -288,7 +288,7 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "",
   "Configure the authentication methods for your organization.": "Skonfiguruj metody uwierzytelnienia dla Twojej organizacji.",
   "Configure topic notifications": "",
-  "Confirm": "Powterdź",
+  "Confirm": "Potwierdź",
   "Confirm changing access permissions": "",
   "Consider <z-link>searching all public channels that you can view</z-link>.": "",
   "Contact a moderator to resolve this topic.": "",
@@ -614,7 +614,7 @@

----------------------------------------

File: locale/pt/LC_MESSAGES/django.po
Status: modified
Changes: +51 -49
Diff:
@@ -6,7 +6,9 @@
 # Alex Schneider Zis <alexszis@gmail.com>, 2018
 # Andrei Bernardo Simoni <andrei_simoni@hotmail.com>, 2021
 # André Lopes Pereira <andrelopespereira@gmail.com>, 2018-2019
+# André Malagutti, 2024
 # André Lopes Pereira <andrelopespereira@gmail.com>, 2018
+# Everton Pereira, 2024
 # Juno Takano <juno@newen.pub>, 2019
 # Leonardo Pimenta, 2024
 # Rafael Patronilo <rafael.patronilo@hotmail.com>, 2020
@@ -18,7 +20,7 @@ msgstr ""
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2024-07-25 18:54+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
-"Last-Translator: Leonardo Pimenta, 2024\n"
+"Last-Translator: André Malagutti, 2024\n"
 "Language-Team: Portuguese (http://app.transifex.com/zulip/zulip/language/pt/)\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -637,7 +639,7 @@ msgstr "Não se preocupe"
 #: templates/corporate/billing/billing.html:512
 #: templates/corporate/billing/billing.html:540
 msgid "Downgrade"
-msgstr ""
+msgstr "Rebaixar"
 
 #: templates/corporate/billing/billing.html:455
 #: templates/corporate/billing/billing.html:484
@@ -733,11 +735,11 @@ msgstr "Você pode tentar de novo em %(retry_after)s segundos."
 
 #: templates/corporate/billing/upgrade.html:5
 msgid "Upgrade"
-msgstr ""
+msgstr "Atualizar"
 
 #: templates/corporate/billing/upgrade.html:284
 msgid "Convert demo organization before upgrading."
-msgstr ""
+msgstr "Converter a organização de demonstração antes de atualizar."
 
 #: templates/corporate/billing/upgrade.html:361
 msgid "Send invoice and start free trial"
@@ -1059,7 +1061,7 @@ msgstr "Ilimitado"
 #: templates/corporate/comparison_table_integrated.html:1593
 #: templates/corporate/comparison_table_integrated.html:1604
 msgid "Supported"
-msgstr ""
+msgstr "Suportado"
 
 #: templates/corporate/comparison_table_integrated.html:230
 #: templates/corporate/comparison_table_integrated.html:244
@@ -1227,7 +1229,7 @@ msgstr "Ingressar como usuário"
 #: templates/corporate/development-community.html:33
 #: templates/corporate/development-community.html:58
 msgid "Join as a self-hoster"
-msgstr ""
+msgstr "Ingressar como um auto-hospedador"
 
 #: templates/corporate/development-community.html:36
 #: templates/corporate/development-community.html:61
@@ -1636,11 +1638,11 @@ msgstr "\n                            Se você é um proprietário dessa organiz
 
 #: templates/zerver/desktop_login.html:5
 msgid "Finish desktop app login"
-msgstr ""
+msgstr "Concluir o login do aplicativo de desktop"
 
 #: templates/zerver/desktop_login.html:11
 msgid "Finish desktop login"
-msgstr ""
+msgstr "Concluir login na área de trabalho"
 
 #: templates/zerver/desktop_login.html:14
 msgid ""
@@ -1666,7 +1668,7 @@ msgstr "Token aceito. Fazendo login…"
 
 #: templates/zerver/desktop_redirect.html:5
 msgid "Log in to desktop app"
-msgstr ""
+msgstr "Faça login no aplicativo de desktop"
 
 #: templates/zerver/desktop_redirect.html:12
 msgid ""
@@ -2033,7 +2035,7 @@ msgstr "Notificação de desativação de conta em %(realm_name)s"
 msgid ""
 "\n"
 "Your Zulip account on %(realm_url)s has been deactivated, and you will no longer be able to log in.\n"
-msgstr ""
+msgstr "\nSua conta do Zulip em %(realm_url)s foi desativada e você não poderá mais fazer login.\n"
 
 #: templates/zerver/emails/digest.html:27 templates/zerver/emails/digest.txt:8
 msgid "New channels"
@@ -2089,20 +2091,20 @@ msgstr "Seu endereço de e-mail %(email)s tem contas com as seguintes organizaç
 msgid ""
 "Your email address %(email)s has accounts with the following Zulip "
 "organizations hosted by %(external_host)s:"
-msgstr ""
+msgstr "Seu endereço de e-mail %(email)s tem contas nas seguintes organizações do Zulip hospedadas por%(external_host)s:"
 
 #: templates/zerver/emails/find_team.html:24
 #, python-format
 msgid ""
 "If you have trouble logging in, you can <a "
 "href=\"%(help_reset_password_link)s\">reset your password</a>."
-msgstr ""
+msgstr "Se tiver problema ao fazer log in, você pode <a href=\"%(help_reset_password_link)s\">redefinir sua senha</a>."
 
 #: templates/zerver/emails/find_team.html:28
 #: templates/zerver/emails/find_team.txt:21
 #: templates/zerver/emails/find_team.txt:28
 msgid "You have requested a list of Zulip accounts for this email address."
-msgstr ""
+msgstr "Você solicitou uma lista de contas do Zulip para este endereço de e-mail."
 
 #: templates/zerver/emails/find_team.html:30
 #: templates/zerver/emails/find_team.txt:21
@@ -2115,22 +2117,22 @@ msgstr "Infelizmente, nenhuma conta Zulip Cloud foi encontrada."
 msgid ""
 "Unfortunately, no accounts were found in Zulip organizations hosted by "
 "%(external_host)s."
-msgstr ""
+msgstr "Infelizmente, nenhuma conta foi encontrada em organizações do Zulip hospedadas por%(external_host)s."
 
 #: templates/zerver/emails/find_team.html:37
 #, python-format
 msgid ""
 "You can <a href = \"%(find_accounts_link)s\" >check for accounts</a> with "
 "another email, or <a href =\"%(help_logging_in_link)s\">try another way</a> "
 "to find your account."
-msgstr ""
+msgstr "Você pode <a href = \"%(find_accounts_link)s\" >verificar contas</a> com outro e-mail ou <a href =\"%(help_logging_in_link)s\">tentar outra maneira</a> de encontrar sua conta."
 
 #: templates/zerver/emails/find_team.html:38
 #: templates/zerver/emails/find_team.txt:26
 #: templates/zerver/emails/find_team.txt:34
 msgid ""

----------------------------------------

File: locale/pt/translations.json
Status: modified
Changes: +85 -81
Diff:
@@ -246,11 +246,11 @@
   "Change color": "Alterar cor",
   "Change email": "Alterar e-mail",
   "Change group info": "Alterar informações do grupo",
-  "Change language": "",
+  "Change language": "Mudar idioma",
   "Change password": "Alterar senha",
   "Change setting": "Alterar configuração",
-  "Change your email": "",
-  "Change your password": "",
+  "Change your email": "Mudar seu e-mail",
+  "Change your password": "Mudar sua senha",
   "Channel": "Canal",
   "Channel <b><z-stream></z-stream></b> created!": "Canal <b><z-stream></z-stream></b> criado!",
   "Channel <z-link>#{stream_name}</z-link> created!": "",
@@ -304,7 +304,7 @@
   "Community": "Comunidade",
   "Commuting": "Em deslocamento",
   "Compact": "Compacto",
-  "Compact mode": "",
+  "Compact mode": "Modo compacto",
   "Complete": "Completo",
   "Complete your <z-link>organization profile</z-link>, which is displayed on your organization's registration and login pages.": "Complete o seu <z-link>perfil da organização</z-link>, que é exibido nas páginas de login e de registro da sua organização.",
   "Compose message": "comporCompôr mensagem",
@@ -318,7 +318,7 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "Configure as <z-link>preferências pessoais padrão</z-link> para novos usuários que ingressarem em sua organização.",
   "Configure the authentication methods for your organization.": "Configure os métodos de autenticação para sua organização.",
   "Configure the default channels new users are subscribed to when joining your organization.": "Defina os canais padrão aos quais novos usuários são inscritos ao ingressar na sua organização.",
-  "Configure topic notifications": "",
+  "Configure topic notifications": "Configurar notificações de tópicos",
   "Confirm": "Confirmar",
   "Confirm changing access permissions": "Confirme a alteração de permissões de acesso",
   "Consider <z-link>searching all public channels that you can view</z-link>.": "",
@@ -337,7 +337,7 @@
   "Copy address": "Copiar endereço",
   "Copy and close": "Copiar e fechar",
   "Copy code": "Copiar código",
-  "Copy email": "",
+  "Copy email": "Copiar e-mail",
   "Copy link": "Copiar link",
   "Copy link to channel": "Copiar link para o canal",
   "Copy link to message": "Copiar link da mensagem",
@@ -353,15 +353,15 @@
   "Create a poll": "Criar uma enquete",
   "Create a user group": "Criar um grupo de usuários",
   "Create channel": "Criar canal",
-  "Create link": "",
+  "Create link": "Criar link",
   "Create new channel": "Criar novo canal",
   "Create new user group": "Criar novo grupo de usuários",
   "Create user group": "Criar grupo de usuários",
   "Created by <z-user></z-user> on <z-stream-date-created></z-stream-date-created>.": "Criado para <z-user></z-user> em <z-stream-date-created></z-stream-date-created>.",
   "Created on <z-stream-date-created></z-stream-date-created>.": "Criado em <z-stream-date-created></z-stream-date-created>.",
   "Creating channel...": "Criando canal...",
   "Creating group...": "Criando grupo...",
-  "Creating link…": "",
+  "Creating link…": "Criando link…",
   "Currently viewing all direct messages.": "Atualmente visualizando todas mensagens diretas.",
   "Currently viewing the entire channel.": "Atualmente visualizando o canal inteiro.",
   "Currently viewing your combined feed.": "Atualmente visualizando seu feed combinado.",
@@ -509,7 +509,7 @@
   "Email": "E-mail",
   "Email address changes are disabled in this organization.": "Alteração de endereço de email está desabilitada neste organização.",
   "Email footers (e.g., signature)": "Rodapés de e-mail (ex: assinatura)",
-  "Email invitation": "",
+  "Email invitation": "Convite de e-mail",
   "Email message notifications": "Notificações de mensagens de e-mail",
   "Email notifications": "Notificações de e-mail",
   "Emails (one on each line or comma-separated)": "Emails (um em cada linha ou separada por vírgulas)",
@@ -687,7 +687,7 @@
   "Include message content in message notification emails": "Incluir o conteúdo das mensagens nos e-mails de notificação",
   "Include organization name in subject of message notification emails": "Incluir o nome da organização no assunto de e-mails de notificação de mensagens",
   "Includes muted channels and topics": "Inclui canais e tópicos silenciados",
-  "Information": "",
+  "Information": "Informação",
   "Information density settings": "Configurações de densidade de informações",
   "Initiate a search": "Inicie uma pesquisa",
   "Insert new line": "Inserir nova linha",
@@ -701,7 +701,7 @@
   "Invalid user": "Usuário inválido",
   "Invalid users": "Usuários inválidos",
   "Invitation expires after": "Convite expira após",
-  "Invitation link": "",
+  "Invitation link": "Link de convite",
   "Invitations": "Convites",
   "Invitations are required for joining this organization": "São necessários convites para aderir a esta organização",
   "Invite": "Convidar",
@@ -712,7 +712,7 @@
   "Invited at": "Convidado em",
   "Invited by": "Convidado por",
   "Invitee": "Convidado",
-  "Inviting…": "",
+  "Inviting…": "Convidando...",
   "Italic": "Itálico",
   "January": "Janeiro",
   "Jitsi server URL": "URL do servidor Jitsi",
@@ -723,8 +723,8 @@
   "Join {realm_name}": "Entrar em {realm_name}",
   "Joined": "Ingressado",
   "Joined {date_joined}": "Ingressou em {date_joined}",
-  "Joining and viewing messages requires being added by a subscriber": "",
-  "Joining and viewing messages requires being added by a subscriber; new subscribers cannot see messages sent before they joined": "",
+  "Joining and viewing messages requires being added by a subscriber": "Para participar e visualizar mensagens, é necessário ser adicionado por um assinante.",
+  "Joining and viewing messages requires being added by a subscriber; new subscribers cannot see messages sent before they joined": "Para participar e visualizar mensagens, é necessário ser adicionado por um assinante; novos assinantes não podem ver mensagens enviadas antes de se juntarem.",
   "Joining the organization": "Ingressar na organização",
   "July": "Julho",
   "June": "Junho",
@@ -789,40 +789,40 @@
   "Mark as unread from selected message": "Marcar como não lida a partir da mensagem selecionada",
   "Mark as unresolved": "Marcar como não resolvido",
   "Marking all messages as read…": "Marcando todas as mensagens como lidas…",
-  "Math (LaTeX)": "",
-  "Maximize compose box": "",
-  "Maximum message length: {max_message_length} characters": "",
+  "Math (LaTeX)": "Matemática (LaTeX)",
+  "Maximize compose box": "Maximizar o campo de redação",
+  "Maximum message length: {max_message_length} characters": "Comprimento máximo da mensagem: {max_message_length} caracteres",
   "May": "Maio",
   "Me": "Eu",
   "Member": "Membro",
   "Members": "Membros",
-  "Members of your organization can view messages and join": "",
+  "Members of your organization can view messages and join": "Os membros da sua organização podem visualizar mensagens e participar.",
   "Mention a time-zone-aware time": "Mencionar como horário com reconhecimento de fuso horário",
   "Mentioned in": "Mencionado em",
   "Mentions": "Menções",
   "Menus": "Menus",
-  "Merge with another topic?": "",
-  "Message #{channel_name}": "",
-  "Message #{channel_name} > {topic_name}": "",
+  "Merge with another topic?": "Mesclar com outro tópico?",
+  "Message #{channel_name}": "Mensagem #{channel_name}",
+  "Message #{channel_name} > {topic_name}": "Mensagem #{channel_name} > {topic_name}",
   "Message actions": "Ações de mensagem",
   "Message deletion": "Exclusão de mensagens",
   "Message edit history": "Histórico de edição de mensagem",
   "Message editing": "Edição de mensagens",
   "Message formatting": "Formatação de mensagem",
   "Message length shouldn't be greater than {max_length} characters.": "O comprimento da mensagem não deve ser superior a {max_length} caracteres.",
-  "Message moved": "",
-  "Message moved to <z-link>{stream_topic}</z-link>.": "",
+  "Message moved": "Mensagem movida",
+  "Message moved to <z-link>{stream_topic}</z-link>.": "Mensagem movida para <z-link>{stream_topic}</z-link>.",
   "Message retention": "Retenção de mensagem",
   "Message retention period": "Período de retenção de mensagem",
   "Message {recipient_label}": "Enviar mensagem para {recipient_label}",
   "Message {recipient_names}": "Enviar mensagens para {recipient_names}",
   "Message {recipient_name} ({recipient_status})": "Enviar mensagem para {recipient_name} ({recipient_status})",
-  "Message-area font size (px)": "",
-  "Message-area line height (%)": "",
+  "Message-area font size (px)": "Tamanho da fonte da área de mensagens (px)",
+  "Message-area line height (%)": "Altura da linha da área de mensagens (%)",
   "Messages": "Mensagens",
   "Messages in all public channels": "Mensagens em todos os canais públicos",
   "Messages in topics you follow.": "Mensagens em tópicos que você segue.",
-  "Messages in your view are faded to remind you that you are viewing a different conversation from the one you are composing to.": "",
+  "Messages in your view are faded to remind you that you are viewing a different conversation from the one you are composing to.": "As mensagens em sua visualização estão desbotadas para lembrar que você está vendo uma conversa diferente daquela à qual está redigindo",
   "Messages sent by you": "Mensagens enviadas por você",
   "Messages sent by {sender}": "Mensagens enviadas por {sender}",
   "Messages where you are mentioned.": "Mensagens em que você é mencionado.",
@@ -842,7 +842,7 @@
   "Move message": "Mover mensagem",
   "Move messages": "Mover mensagens",
   "Move messages or topic": "Mover mensagens ou tópico",
-  "Move messages to:": "",
+  "Move messages to:": "Mover mensagens para:",
   "Move only this message": "Mover apenas essa mensagem",
   "Move some messages?": "Mover algumas mensagens?",
   "Move this and all following messages in this topic": "Mover esta e todas as mensagens seguintes deste tópico",
@@ -851,7 +851,7 @@
   "Moving messages": "Movendo mensagens",
   "Mute": "Silenciar",
   "Mute channel": "Silenciar canal",
-  "Mute this bot": "",
+  "Mute this bot": "Silenciar este bot",
   "Mute this user": "Silenciar este usuário",

----------------------------------------

File: locale/pt_BR/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -9,7 +9,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Zulip\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
 "Last-Translator: Luiz François <dev.luizfrancois@gmail.com>, 2021\n"
 "Language-Team: Portuguese (Brazil) (http://app.transifex.com/zulip/zulip/"
@@ -4061,7 +4061,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4254,66 +4254,66 @@ msgstr ""
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr "Incapaz de processar a mensagem"
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 #, fuzzy
 #| msgid "Invalid characters in name!"
 msgid "Invalid data type for channel"
 msgstr "Caracteres inválidos no nome!"
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482

----------------------------------------

File: locale/ru/LC_MESSAGES/django.po
Status: modified
Changes: +3 -3
Diff:
@@ -4578,7 +4578,7 @@ msgstr "Ошибка отправки сообщения в канал {channel_
 
 #: zerver/lib/email_mirror.py:422
 msgid "Email with no subject"
-msgstr ""
+msgstr "Письмо без темы"
 
 #: zerver/lib/email_notifications.py:130 zerver/lib/email_notifications.py:152
 msgid "Open Zulip to see the spoiler content"
@@ -5550,7 +5550,7 @@ msgstr "Неверное {var_name}: {msg}"

----------------------------------------

File: locale/ru/translations.json
Status: modified
Changes: +14 -14
Diff:
@@ -318,10 +318,10 @@
   "Configure the <z-link>default personal preference settings</z-link> for new users joining your organization.": "Настроить <z-link>персональные параметры по умолчанию</z-link> для новых пользователей, присоединяющихся к вашей организации.",
   "Configure the authentication methods for your organization.": "Укажите методы аутентификации для вашей организации",
   "Configure the default channels new users are subscribed to when joining your organization.": "Укажите каналы по умолчанию, на которые автоматически будут подписаны новые пользователи вашей организации.",
-  "Configure topic notifications": "",
+  "Configure topic notifications": "Настройка оповещений в темах",
   "Confirm": "Подтвердить",
   "Confirm changing access permissions": "Подтвердите изменение прав доступа",
-  "Consider <z-link>searching all public channels that you can view</z-link>.": "",
+  "Consider <z-link>searching all public channels that you can view</z-link>.": "Попробуйте <z-link>искать во всех открытых каналах, которые вам доступны</z-link>.",
   "Consider <z-link>searching all public channels</z-link>.": "Попробуйте <z-link>искать во всех открытых каналах</z-link>.",
   "Contact a moderator to resolve this topic.": "Обратитесь к модератору, чтобы отметить тему как решенную.",
   "Contact a moderator to unresolve this topic.": "Обратитесь к модератору, чтобы отметить тему как нерешенную.",
@@ -851,7 +851,7 @@
   "Moving messages": "Перемещение сообщений",
   "Mute": "Отключить",
   "Mute channel": "Отключить канал",
-  "Mute this bot": "",
+  "Mute this bot": "Заблокировать этого бота",
   "Mute this user": "Отключить этого пользователя",
   "Mute topic": "Отключить тему",
   "Mute user": "Отключить пользователя",
@@ -957,8 +957,8 @@
   "Notification sound": "Звук оповещения",
   "Notification triggers": "Варианты оповещений",
   "Notifications": "Оповещения",
-  "Notifications are based on your configuration for <z-stream-name></z-stream-name>.": "",
-  "Notifications are based on your configuration for this channel.": "",
+  "Notifications are based on your configuration for <z-stream-name></z-stream-name>.": "Оповещения определяются вашими настройкам для <z-stream-name></z-stream-name>.",
+  "Notifications are based on your configuration for this channel.": "Оповещения определяются вашими настройкам для этого канала.",
   "Notifications for @all/@everyone mentions": "Оповещения про упоминание всех через @all/@everyone",
   "Notify channel": "Оповестить канал",
   "Notify recipients": "Оповестить получателей",
@@ -969,14 +969,14 @@
   "Numbered list": "Нумерованный список",

----------------------------------------

File: locale/ta/LC_MESSAGES/django.po
Status: modified
Changes: +34 -34
Diff:
@@ -8,7 +8,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Zulip\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2024-07-25 18:54+0000\n"
+"POT-Creation-Date: 2024-08-02 20:44+0000\n"
 "PO-Revision-Date: 2018-04-11 21:06+0000\n"
 "Last-Translator: Tim Abbott <tabbott@kandralabs.com>\n"
 "Language-Team: Tamil (http://www.transifex.com/zulip/zulip/language/ta/)\n"
@@ -4044,7 +4044,7 @@ msgstr ""
 msgid "Invalid order mapping."
 msgstr ""
 
-#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:420
+#: zerver/actions/custom_profile_fields.py:220 zerver/lib/users.py:419
 #: zerver/views/custom_profile_fields.py:222
 #: zerver/views/custom_profile_fields.py:245
 #, python-brace-format
@@ -4245,66 +4245,66 @@ msgstr "அறிவிப்புகளை இயக்கு"
 msgid "Invalid message(s)"
 msgstr ""
 
-#: zerver/actions/message_send.py:164
+#: zerver/actions/message_send.py:165
 msgid "Unable to render message"
 msgstr ""
 
-#: zerver/actions/message_send.py:1256
+#: zerver/actions/message_send.py:1281
 msgid "Expected exactly one channel"
 msgstr ""
 
-#: zerver/actions/message_send.py:1267
+#: zerver/actions/message_send.py:1292
 #, fuzzy
 #| msgid "Enable notifications"
 msgid "Invalid data type for channel"
 msgstr "அறிவிப்புகளை இயக்கு"
 
-#: zerver/actions/message_send.py:1283 zerver/actions/message_send.py:1293
+#: zerver/actions/message_send.py:1308 zerver/actions/message_send.py:1318
 #: zerver/lib/recipient_parsing.py:23
 msgid "Invalid data type for recipients"
 msgstr ""
 
-#: zerver/actions/message_send.py:1301 zerver/actions/message_send.py:1309
+#: zerver/actions/message_send.py:1326 zerver/actions/message_send.py:1334
 msgid "Recipient lists may contain emails or user IDs, but not both."
 msgstr ""
 
-#: zerver/actions/message_send.py:1459
+#: zerver/actions/message_send.py:1484
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel ID {channel_id}, "
 "but there is no channel with that ID."
 msgstr ""
 
-#: zerver/actions/message_send.py:1470
+#: zerver/actions/message_send.py:1495
 #, python-brace-format
 msgid ""
 "Your bot {bot_identity} tried to send a message to channel {channel_name}, "
 "but that channel does not exist. Click [here]({new_channel_link}) to create "
 "it."
 msgstr ""
 
-#: zerver/actions/message_send.py:1482
+#: zerver/actions/message_send.py:1507

----------------------------------------

File: locale/zh_Hans/LC_MESSAGES/django.po
Status: modified
Changes: +38 -37
Diff:
@@ -11,6 +11,7 @@
 # Hanson Sin <yeehangsin@yahoo.com>, 2020
 # Huiming Tao <taohuiming@gmail.com>, 2017-2018
 # 张建春 <zhang.jianchun1@gmail.com>, 2016
+# Jingchun Chen, 2024
 # LIU Lin <2671362312@qq.com>, 2019
 # longjiang li <cqlilon@live.com>, 2018-2020
 # Mingyuan Zhuang, 2024
@@ -22,7 +23,7 @@ msgstr ""
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2024-07-25 18:54+0000\n"
 "PO-Revision-Date: 2015-12-06 00:18+0000\n"
-"Last-Translator: Tim Abbott <tabbott@kandralabs.com>, 2022,2024\n"
+"Last-Translator: Jingchun Chen, 2024\n"
 "Language-Team: Chinese Simplified (http://app.transifex.com/zulip/zulip/language/zh-Hans/)\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -144,18 +145,18 @@ msgstr "无效的远程服务器。"
 msgid ""
 "You must purchase licenses for all active users in your organization "
 "(minimum {min_licenses})."
-msgstr ""
+msgstr "您必须为组织中的所有活动用户购买许可证（最低{min_licenses}）。"
 
 #: corporate/lib/stripe.py:223
 #, python-brace-format
 msgid ""
 "Invoices with more than {max_licenses} licenses can't be processed from this"
 " page. To complete the upgrade, please contact {email}."
-msgstr ""
+msgstr "此页面无法处理许可证数量超过{max_licenses}的发票。要完成升级，请联系{email}。"
 
 #: corporate/lib/stripe.py:360
 msgid "No payment method on file."
-msgstr ""
+msgstr "档案中没有付款方式。"
 
 #: corporate/lib/stripe.py:368
 #, python-brace-format
@@ -182,11 +183,11 @@ msgstr "出错啦！请过几秒再试."
 
 #: corporate/lib/stripe.py:1794
 msgid "Please add a credit card before starting your free trial."
-msgstr ""
+msgstr "请在开始免费试用之前添加信用卡。"
 
 #: corporate/lib/stripe.py:1816
 msgid "Please add a credit card to schedule upgrade."
-msgstr ""
+msgstr "请添加信用卡以安排升级。"
 
 #: corporate/lib/stripe.py:2792
 msgid ""
@@ -201,7 +202,7 @@ msgstr "无法更新计划。计划已经结束。"
 #: corporate/lib/stripe.py:2855
 msgid ""
 "Cannot update licenses in the current billing period for free trial plan."
-msgstr ""
+msgstr "无法在当前计费期内更新免费试用计划的许可证。"
 
 #: corporate/lib/stripe.py:2860 corporate/lib/stripe.py:2888
 msgid ""
@@ -223,7 +224,7 @@ msgstr "您不能减少当前计费周期内的许可证。"
 msgid ""
 "Cannot change the licenses for next billing cycle for a plan that is being "
 "downgraded."
-msgstr ""
+msgstr "无法更改正在降级的计划的下一个计费周期的许可证。"
 
 #: corporate/lib/stripe.py:2903
 #, python-brace-format
@@ -237,7 +238,7 @@ msgstr "您的计划已安排续订 {licenses_at_next_renewal} 许可证。"
 msgid ""
 "You’ve already purchased {licenses_at_next_renewal} licenses for the next "
 "billing period."
-msgstr ""
+msgstr "您已经为下一计费期购买了{licenses_at_next_renewal}许可证。"
 
 #: corporate/lib/stripe.py:2949
 msgid "Nothing to change."
@@ -261,7 +262,7 @@ msgstr "未找到付款意图"
 
 #: corporate/lib/stripe.py:3228
 msgid "Pass stripe_session_id or stripe_invoice_id"
-msgstr ""
+msgstr "传递 stripe_session_id 或者 stripe_invoice_id"
 
 #: corporate/lib/stripe.py:3961
 #, python-brace-format
@@ -273,43 +274,43 @@ msgstr "您的组织的赞助请求已获通过！您已免费升级至{plan_nam
 
 #: corporate/views/billing_page.py:334
 msgid "Parameter 'confirmed' is required"
-msgstr ""
+msgstr "参数“confirmed”是必需的"
 
 #: corporate/views/remote_billing_page.py:141
 msgid "Billing access token expired."

----------------------------------------

File: locale/zh_Hans/translations.json
Status: modified
Changes: +33 -32
Diff:
@@ -1562,54 +1562,55 @@
   "Your groups": "",
   "Your message has been scheduled for {deliver_at}.": "",
   "Your message was sent to a topic you have muted.": "",
-  "Your password": "",
+  "Your password": "你的密码",
   "Your profile is missing required fields.": "",
-  "Your question": "",
+  "Your question": "你的问题",
   "Your status": "你的状态",
   "Your time zone:": "您的时区：",
   "You’ll see a list of <b>conversations</b> where you have <b>unread messages</b>, organized by channel.": "",
-  "You’ll see a list of <b>ongoing conversations</b>.": "",
-  "Zoom to message in conversation context": "",
+  "You’ll see a list of <b>ongoing conversations</b>.": "您将看到<b>正在进行的对话</b>列表。",
+  "Zoom to message in conversation context": "在对话上下文中缩放到消息",
   "Zulip": "Zulip",
-  "Zulip Server dev environment": "",
-  "Zulip Server {display_version}": "",
-  "Zulip Server {display_version} (modified)": "",
-  "Zulip Server {display_version} (patched)": "",
-  "Zulip lets you follow topics you are interested in, and mute topics you want to ignore. You can also <z-automatically-follow>automatically follow</z-automatically-follow> topics you start or participate in, and topics where you're mentioned.": "",
+  "Zulip Server dev environment": "Zulip服务器开发环境",
+  "Zulip Server {display_version}": "Zulip服务器 {display_version}",
+  "Zulip Server {display_version} (modified)": "Zulip服务器 {display_version} (modified)",
+  "Zulip Server {display_version} (patched)": "Zulip服务器 {display_version} (patched)",
+  "Zulip lets you follow topics you are interested in, and mute topics you want to ignore. You can also <z-automatically-follow>automatically follow</z-automatically-follow> topics you start or participate in, and topics where you're mentioned.": "Zulip允许您关注您感兴趣的主题，并静音您想忽略的主题。您还可以<z-automatically-follow>自动关注</z-automatically-follow>您开始或参与的主题，以及提到您的主题。",
   "Zulip needs to send email to confirm users' addresses and send notifications.": "Zulip需要发送电子邮箱确认用户地址并发送通知",
   "Zulip needs your permission to <z-link>enable desktop notifications.</z-link>": "Zulip 需要您的许可<z-link>启用桌面通知。</z-link>",
-  "Zulip update announcements": "",
+  "Zulip update announcements": "Zulip更新公告",
   "Zulip's translations are contributed by our amazing community of volunteer translators. If you'd like to help, see the <z-link>Zulip translation guidelines</z-link>.": "Zulip 的翻译由我们惊人的志愿者翻译社区贡献。如果您想提供帮助，请参阅<z-link>Zulip 翻译指南</z-link>.",
   "[Configure]": "[配置]",
   "[Quoting…]": "[引用…]",

----------------------------------------

File: puppet/zulip/templates/nginx.conf.template.erb
Status: modified
Changes: +1 -0
Diff:
@@ -34,6 +34,7 @@ http {
 
     gzip on;
     gzip_proxied any;
+    gzip_comp_level 3;
     gzip_types
       application/javascript
       application/json

----------------------------------------

File: scripts/lib/upgrade-zulip-stage-2
Status: modified
Changes: +5 -2
Diff:
@@ -11,8 +11,11 @@ if ! "$ZULIP_PATH/scripts/lib/supported-os"; then
     echo "Unsupported platform!"
     echo
     echo "Sorry! The support for your OS has been discontinued."
-    echo "Please upgrade your OS to a supported release first."
-    echo "See https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-the-operating-system"
+    echo "Please upgrade your OS to a supported release first,"
+    echo "by following these instructions:"
+    echo
+    echo "https://zulip.readthedocs.io/en/latest/production/upgrade.html#upgrading-the-operating-system"

----------------------------------------

File: static/images/help/global-time-example-london.png
Status: added
Changes: +0 -0

----------------------------------------

File: static/images/help/global-time-example-sf.png
Status: added
Changes: +0 -0

----------------------------------------

File: version.py
Status: modified
Changes: +2 -2
Diff:
@@ -1,6 +1,6 @@
 import os
 
-ZULIP_VERSION = "9.0"
+ZULIP_VERSION = "9.1"
 
 # Add information on number of commits and commit hash to version, if available
 zulip_git_version_file = os.path.join(
@@ -14,7 +14,7 @@
 ZULIP_MERGE_BASE = lines.pop(0).strip()

----------------------------------------

File: web/src/bootstrap_typeahead.ts
Status: modified
Changes: +13 -0
Diff:
@@ -455,6 +455,19 @@ export class Typeahead<ItemType extends string | object> {
                     }
                     return [0, gap];
                 },
+                onShow(instance) {
+                    if (input_element.type === "textarea") {
+                        // Since we use an offset which can partially hide typeahead
+                        // at certain caret positions, we need to push it back into
+                        // view once we have rendered the typeahead. The movement
+                        // feels like an animation to the user.

----------------------------------------

File: web/src/click_handlers.js
Status: modified
Changes: +5 -1
Diff:
@@ -285,7 +285,11 @@ export function initialize() {
         e.preventDefault();
         e.stopPropagation();
 
-        navigate.to_end();
+        // Since it take a few milliseconds for this button complete disappear transition,
+        // it is possible for user to click it before it hides when switching narrows.
+        if (narrow_state.is_message_feed_visible()) {
+            navigate.to_end();
+        }

----------------------------------------

File: web/src/inbox_ui.ts
Status: modified
Changes: +8 -0
Diff:
@@ -1327,9 +1327,17 @@ export function update(): void {
     const has_visible_unreads = has_dms_post_filter || has_topics_post_filter;
     show_empty_inbox_text(has_visible_unreads);
 
+    // We want to avoid weird jumps when user is interacting with Inbox
+    // and we are updating the view. So, we only reset current focus if
+    // the update was triggered by user. This can mean `row_focus` can
+    // be out of bounds, so we need to fix that.
     if (update_triggered_by_user) {
         setTimeout(revive_current_focus, 0);

----------------------------------------

File: web/src/lightbox.ts
Status: modified
Changes: +0 -1
Diff:
@@ -251,7 +251,6 @@ export function render_lightbox_media_list(displayed_source: string): void {
 
                 const $video = $("<video>");
                 $video.attr("src", payload.source);
-                $video.attr("controls", "false");
 
                 $node.append($video);
             } else {

----------------------------------------

File: web/styles/app_components.css
Status: modified
Changes: +4 -0
Diff:
@@ -798,6 +798,10 @@ div.overlay {
         white-space: nowrap;
     }
 
+    th.actions {
+        padding-right: 1em;
+    }
+
     & th,
     td {

----------------------------------------

File: web/styles/modal.css
Status: modified
Changes: +6 -0
Diff:
@@ -142,6 +142,12 @@
 .modal__btn:focus,
 .modal__btn:hover {
     transform: scale(1.05);
+    /* The extremely subtle 1.05 scale can cause
+       a gap to appear between the outline and
+       button background color; this negative
+       offset preserves the scale effect, but also
+       covers any tiny gaps owing to subtle scaling. */
+    outline-offset: -1px;

----------------------------------------

File: web/styles/popovers.css
Status: modified
Changes: +9 -2
Diff:
@@ -178,6 +178,8 @@
 
 .custom-user-url-field {
     display: flex;
+    /* Maintain space between URL and copy icon. */
+    gap: 3px;
     overflow: hidden;
 
     .custom-profile-fields-link {
@@ -187,13 +189,18 @@

----------------------------------------

File: zerver/actions/invites.py
Status: modified
Changes: +1 -1
Diff:
@@ -301,7 +301,7 @@ def do_get_invites_controlled_by_user(user_profile: UserProfile) -> list[dict[st
     """
     if user_profile.is_realm_admin:
         prereg_users = filter_to_valid_prereg_users(
-            PreregistrationUser.objects.filter(referred_by__realm=user_profile.realm)
+            PreregistrationUser.objects.filter(realm=user_profile.realm, referred_by__isnull=False)
         )
     else:
         prereg_users = filter_to_valid_prereg_users(

----------------------------------------

File: zerver/actions/message_send.py
Status: modified
Changes: +26 -1
Diff:
@@ -68,6 +68,7 @@
 from zerver.lib.stream_topic import StreamTopicTarget
 from zerver.lib.streams import access_stream_for_send_message, ensure_stream, subscribed_to_stream
 from zerver.lib.string_validation import check_stream_name
+from zerver.lib.thumbnail import get_user_upload_previews, rewrite_thumbnailed_images
 from zerver.lib.timestamp import timestamp_to_datetime
 from zerver.lib.topic import participants_for_topic
 from zerver.lib.url_preview.types import UrlEmbedData
@@ -864,7 +865,31 @@ def do_send_messages(
             send_request.message, send_request.rendering_result.potential_attachment_path_ids
         ):
             send_request.message.has_attachment = True
-            send_request.message.save(update_fields=["has_attachment"])

----------------------------------------

File: zerver/lib/markdown/__init__.py
Status: modified
Changes: +4 -1
Diff:
@@ -118,6 +118,7 @@ class MessageRenderingResult:
     links_for_preview: set[str]
     user_ids_with_alert_words: set[int]
     potential_attachment_path_ids: list[str]
+    thumbnail_spinners: set[str]
 
 
 @dataclass
@@ -2625,6 +2626,7 @@ def do_convert(
         links_for_preview=set(),

----------------------------------------

File: zerver/lib/thumbnail.py
Status: modified
Changes: +20 -8
Diff:
@@ -333,11 +333,22 @@ class MarkdownImageMetadata:
 
 
 def get_user_upload_previews(
-    realm_id: int, content: str
+    realm_id: int,
+    content: str,
+    lock: bool = False,
+    path_ids: list[str] | None = None,
 ) -> dict[str, MarkdownImageMetadata | None]:
-    matches = re.findall(r"/user_uploads/(\d+/[/\w.-]+)", content)
+    if path_ids is None:
+        path_ids = re.findall(r"/user_uploads/(\d+/[/\w.-]+)", content)
+    if not path_ids:
+        return {}
+
     upload_preview_data: dict[str, MarkdownImageMetadata | None] = {}
-    for image_attachment in ImageAttachment.objects.filter(realm_id=realm_id, path_id__in=matches):
+

----------------------------------------

File: zerver/lib/users.py
Status: modified
Changes: +4 -5
Diff:
@@ -7,7 +7,6 @@
 from operator import itemgetter
 from typing import Any, TypedDict
 
-import dateutil.parser as date_parser
 from django.conf import settings
 from django.core.exceptions import ValidationError
 from django.db.models import Q, QuerySet
@@ -510,18 +509,18 @@ def format_user_row(
         full_name=row["full_name"],

----------------------------------------

File: zerver/migrations/0383_revoke_invitations_from_deactivated_users.py
Status: modified
Changes: +1 -0
Diff:
@@ -67,6 +67,7 @@ class Migration(migrations.Migration):
     atomic = False
 
     dependencies = [
+        ("confirmation", "0011_alter_confirmation_expiry_date"),
         ("zerver", "0382_create_role_based_system_groups"),
     ]
 

----------------------------------------

File: zerver/tests/test_markdown_thumbnail.py
Status: modified
Changes: +49 -1
Diff:
@@ -4,13 +4,22 @@
 import pyvips
 
 from zerver.actions.message_delete import do_delete_messages
+from zerver.actions.message_send import check_message, do_send_messages
+from zerver.lib.addressee import Addressee
 from zerver.lib.camo import get_camo_url
 from zerver.lib.markdown import render_message_markdown
 from zerver.lib.test_classes import ZulipTestCase
 from zerver.lib.test_helpers import get_test_image_file, read_test_image_file
 from zerver.lib.thumbnail import ThumbnailFormat
 from zerver.lib.upload import upload_message_attachment
-from zerver.models import ArchivedAttachment, ArchivedMessage, Attachment, ImageAttachment, Message
+from zerver.models import (
+    ArchivedAttachment,
+    ArchivedMessage,
+    Attachment,
+    Client,
+    ImageAttachment,
+    Message,
+)
 from zerver.models.clients import get_client

----------------------------------------

File: zerver/tests/test_users.py
Status: modified
Changes: +1 -1
Diff:
@@ -1450,7 +1450,7 @@ def user_row(email: str) -> dict[str, object]:
             return dict(
                 # bot-specific fields
                 avatar_url=avatar_url,
-                date_joined=user.date_joined.isoformat(),
+                date_joined=user.date_joined.isoformat(timespec="minutes"),
                 delivery_email=email,
                 email=email,
                 full_name=user.full_name,

----------------------------------------

File: zerver/webhooks/github/fixtures/pull_request_review__edited_empty_changes.json
Status: added
Changes: +515 -0
Diff:
@@ -0,0 +1,515 @@
+{
+  "action": "edited",
+  "review": {
+    "id": 1502757629,
+    "node_id": "PRR_kwDOJRp_V85ZkkL9",
+    "user": {
+      "login": "sbansal1999",
+      "id": 35286603,
+      "node_id": "MDQ6VXNlcjM1Mjg2NjAz",
+      "avatar_url": "https://avatars.githubusercontent.com/u/35286603?v=4",
+      "gravatar_id": "",
+      "url": "https://api.github.com/users/sbansal1999",
+      "html_url": "https://github.com/sbansal1999",
+      "followers_url": "https://api.github.com/users/sbansal1999/followers",
+      "following_url": "https://api.github.com/users/sbansal1999/following{/other_user}",
+      "gists_url": "https://api.github.com/users/sbansal1999/gists{/gist_id}",
+      "starred_url": "https://api.github.com/users/sbansal1999/starred{/owner}{/repo}",
+      "subscriptions_url": "https://api.github.com/users/sbansal1999/subscriptions",
+      "organizations_url": "https://api.github.com/users/sbansal1999/orgs",
+      "repos_url": "https://api.github.com/users/sbansal1999/repos",
+      "events_url": "https://api.github.com/users/sbansal1999/events{/privacy}",
+      "received_events_url": "https://api.github.com/users/sbansal1999/received_events",
+      "type": "User",
+      "site_admin": false
+    },
+    "body": "abv",
+    "commit_id": "26b492c9c222ccec6cd828cedc6a5e86a71127fe",
+    "submitted_at": "2023-06-28T10:13:25Z",
+    "state": "commented",
+    "html_url": "https://github.com/sbansal1999/testing-gh/pull/16#pullrequestreview-1502757629",
+    "pull_request_url": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/16",
+    "author_association": "OWNER",
+    "_links": {
+      "html": {
+        "href": "https://github.com/sbansal1999/testing-gh/pull/16#pullrequestreview-1502757629"
+      },
+      "pull_request": {
+        "href": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/16"
+      }
+    }
+  },
+  "pull_request": {
+    "url": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/16",
+    "id": 1411261664,
+    "node_id": "PR_kwDOJRp_V85UHiTg",
+    "html_url": "https://github.com/sbansal1999/testing-gh/pull/16",
+    "diff_url": "https://github.com/sbansal1999/testing-gh/pull/16.diff",
+    "patch_url": "https://github.com/sbansal1999/testing-gh/pull/16.patch",
+    "issue_url": "https://api.github.com/repos/sbansal1999/testing-gh/issues/16",
+    "number": 16,
+    "state": "open",
+    "locked": false,
+    "title": "Update first.txt",
+    "user": {
+      "login": "sbansal1999",
+      "id": 35286603,
+      "node_id": "MDQ6VXNlcjM1Mjg2NjAz",
+      "avatar_url": "https://avatars.githubusercontent.com/u/35286603?v=4",
+      "gravatar_id": "",
+      "url": "https://api.github.com/users/sbansal1999",
+      "html_url": "https://github.com/sbansal1999",
+      "followers_url": "https://api.github.com/users/sbansal1999/followers",
+      "following_url": "https://api.github.com/users/sbansal1999/following{/other_user}",
+      "gists_url": "https://api.github.com/users/sbansal1999/gists{/gist_id}",
+      "starred_url": "https://api.github.com/users/sbansal1999/starred{/owner}{/repo}",
+      "subscriptions_url": "https://api.github.com/users/sbansal1999/subscriptions",
+      "organizations_url": "https://api.github.com/users/sbansal1999/orgs",
+      "repos_url": "https://api.github.com/users/sbansal1999/repos",
+      "events_url": "https://api.github.com/users/sbansal1999/events{/privacy}",
+      "received_events_url": "https://api.github.com/users/sbansal1999/received_events",
+      "type": "User",
+      "site_admin": false
+    },
+    "body": null,
+    "created_at": "2023-06-28T08:52:59Z",
+    "updated_at": "2023-06-28T10:13:26Z",
+    "closed_at": null,
+    "merged_at": null,
+    "merge_commit_sha": "4901b75d77578279eba6b380239c4645e54f9d12",
+    "assignee": null,
+    "assignees": [],
+    "requested_reviewers": [],
+    "requested_teams": [],
+    "labels": [],
+    "milestone": null,
+    "draft": false,
+    "commits_url": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/16/commits",
+    "review_comments_url": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/16/comments",
+    "review_comment_url": "https://api.github.com/repos/sbansal1999/testing-gh/pulls/comments{/number}",
+    "comments_url": "https://api.github.com/repos/sbansal1999/testing-gh/issues/16/comments",
+    "statuses_url": "https://api.github.com/repos/sbansal1999/testing-gh/statuses/26b492c9c222ccec6cd828cedc6a5e86a71127fe",
+    "head": {
+      "label": "sbansal1999:main",
+      "ref": "main",
+      "sha": "26b492c9c222ccec6cd828cedc6a5e86a71127fe",
+      "user": {
+        "login": "sbansal1999",
+        "id": 35286603,
+        "node_id": "MDQ6VXNlcjM1Mjg2NjAz",
+        "avatar_url": "https://avatars.githubusercontent.com/u/35286603?v=4",
+        "gravatar_id": "",
+        "url": "https://api.github.com/users/sbansal1999",
+        "html_url": "https://github.com/sbansal1999",
+        "followers_url": "https://api.github.com/users/sbansal1999/followers",
+        "following_url": "https://api.github.com/users/sbansal1999/following{/other_user}",
+        "gists_url": "https://api.github.com/users/sbansal1999/gists{/gist_id}",
+        "starred_url": "https://api.github.com/users/sbansal1999/starred{/owner}{/repo}",
+        "subscriptions_url": "https://api.github.com/users/sbansal1999/subscriptions",
+        "organizations_url": "https://api.github.com/users/sbansal1999/orgs",
+        "repos_url": "https://api.github.com/users/sbansal1999/repos",
+        "events_url": "https://api.github.com/users/sbansal1999/events{/privacy}",
+        "received_events_url": "https://api.github.com/users/sbansal1999/received_events",
+        "type": "User",
+        "site_admin": false
+      },
+      "repo": {
+        "id": 622493527,
+        "node_id": "R_kgDOJRp_Vw",
+        "name": "testing-gh",
+        "full_name": "sbansal1999/testing-gh",
+        "private": false,
+        "owner": {
+          "login": "sbansal1999",
+          "id": 35286603,
+          "node_id": "MDQ6VXNlcjM1Mjg2NjAz",
+          "avatar_url": "https://avatars.githubusercontent.com/u/35286603?v=4",
+          "gravatar_id": "",
+          "url": "https://api.github.com/users/sbansal1999",
+          "html_url": "https://github.com/sbansal1999",
+          "followers_url": "https://api.github.com/users/sbansal1999/followers",
+          "following_url": "https://api.github.com/users/sbansal1999/following{/other_user}",
+          "gists_url": "https://api.github.com/users/sbansal1999/gists{/gist_id}",
+          "starred_url": "https://api.github.com/users/sbansal1999/starred{/owner}{/repo}",
+          "subscriptions_url": "https://api.github.com/users/sbansal1999/subscriptions",
+          "organizations_url": "https://api.github.com/users/sbansal1999/orgs",
+          "repos_url": "https://api.github.com/users/sbansal1999/repos",
+          "events_url": "https://api.github.com/users/sbansal1999/events{/privacy}",
+          "received_events_url": "https://api.github.com/users/sbansal1999/received_events",
+          "type": "User",
+          "site_admin": false
+        },
+        "html_url": "https://github.com/sbansal1999/testing-gh",
+        "description": null,
+        "fork": false,
+        "url": "https://api.github.com/repos/sbansal1999/testing-gh",
+        "forks_url": "https://api.github.com/repos/sbansal1999/testing-gh/forks",
+        "keys_url": "https://api.github.com/repos/sbansal1999/testing-gh/keys{/key_id}",
+        "collaborators_url": "https://api.github.com/repos/sbansal1999/testing-gh/collaborators{/collaborator}",
+        "teams_url": "https://api.github.com/repos/sbansal1999/testing-gh/teams",
+        "hooks_url": "https://api.github.com/repos/sbansal1999/testing-gh/hooks",
+        "issue_events_url": "https://api.github.com/repos/sbansal1999/testing-gh/issues/events{/number}",
+        "events_url": "https://api.github.com/repos/sbansal1999/testing-gh/events",
+        "assignees_url": "https://api.github.com/repos/sbansal1999/testing-gh/assignees{/user}",
+        "branches_url": "https://api.github.com/repos/sbansal1999/testing-gh/branches{/branch}",
+        "tags_url": "https://api.github.com/repos/sbansal1999/testing-gh/tags",
+        "blobs_url": "https://api.github.com/repos/sbansal1999/testing-gh/git/blobs{/sha}",
+        "git_tags_url": "https://api.github.com/repos/sbansal1999/testing-gh/git/tags{/sha}",
+        "git_refs_url": "https://api.github.com/repos/sbansal1999/testing-gh/git/refs{/sha}",
+        "trees_url": "https://api.github.com/repos/sbansal1999/testing-gh/git/trees{/sha}",
+        "statuses_url": "https://api.github.com/repos/sbansal1999/testing-gh/statuses/{sha}",
+        "languages_url": "https://api.github.com/repos/sbansal1999/testing-gh/languages",
+        "stargazers_url": "https://api.github.com/repos/sbansal1999/testing-gh/stargazers",
+        "contributors_url": "https://api.github.com/repos/sbansal1999/testing-gh/contributors",
+        "subscribers_url": "https://api.github.com/repos/sbansal1999/testing-gh/subscribers",
+        "subscription_url": "https://api.github.com/repos/sbansal1999/testing-gh/subscription",
+        "commits_url": "https://api.github.com/repos/sbansal1999/testing-gh/commits{/sha}",
+        "git_commits_url": "https://api.github.com/repos/sbansal1999/testing-gh/git/commits{/sha}",
+        "comments_url": "https://api.github.com/repos/sbansal1999/testing-gh/comments{/number}",
+        "issue_comment_url": "https://api.github.com/repos/sbansal1999/testing-gh/issues/comments{/number}",
+        "contents_url": "https://api.github.com/repos/sbansal1999/testing-gh/contents/{+path}",
+        "compare_url": "https://api.github.com/repos/sbansal1999/testing-gh/compare/{base}...{head}",

----------------------------------------

File: zerver/webhooks/github/tests.py
Status: modified
Changes: +4 -0
Diff:
@@ -479,6 +479,10 @@ def test_ignored_pull_request_actions(self) -> None:
             payload = orjson.dumps(data).decode()
             self.verify_post_is_ignored(payload, "pull_request")
 
+    def test_pull_request_review_edited_empty_changes_ignore(self) -> None:
+        payload = self.get_body("pull_request_review__edited_empty_changes")
+        self.verify_post_is_ignored(payload, "pull_request_review")
+
     def test_ignored_team_actions(self) -> None:
         ignored_actions = [

----------------------------------------

File: zerver/webhooks/github/view.py
Status: modified
Changes: +14 -0
Diff:
@@ -940,6 +940,12 @@ def api_github_webhook(
     return json_success(request)
 
 
+def is_empty_pull_request_review_event(payload: WildValue) -> bool:
+    action = payload["action"].tame(check_string)
+    changes = payload.get("changes", {})
+    return action == "edited" and len(changes) == 0
+
+

----------------------------------------

File: zerver/webhooks/semaphore/doc.md
Status: modified
Changes: +17 -9
Diff:
@@ -1,22 +1,30 @@
+# Zulip Semaphore integration
+
 Get Zulip notifications for your Semaphore builds!
 
+{start_tabs}
+
 1. {!create-channel.md!}
 
 1. {!create-an-incoming-webhook.md!}
 
-1. {!generate-integration-url.md!}
+1. {!generate-webhook-url-basic.md!}

----------------------------------------

File: zerver/webhooks/sentry/doc.md
Status: modified
Changes: +46 -31
Diff:
@@ -1,48 +1,63 @@
+# Zulip Sentry integration
+
 Get Zulip notifications for the issues in your Sentry projects!
 
-This integration supports Sentry's Node, Python, and Go
-[platforms](https://sentry.io/platforms/).  [Contact
-us](/help/contact-support) if a platform you care about is missing.
+!!! warn ""
+
+    **Note:** This integration supports Sentry's Node, Python, and Go
+    [platforms](https://sentry.io/platforms/). If there's a platform
+    you're interested in seeing support for that's missing, let us
+    know in the [integrations][dev-community] channel of the Zulip
+    development community.
+
+{start_tabs}
 
 1. {!create-channel.md!}
 
 1. {!create-an-incoming-webhook.md!}
 
-1. {!generate-integration-url.md!}
+1. {!generate-webhook-url-basic.md!}
 
-    The default topic, if not set in the URL, will be the title of the
-    issue or event.
+1. In your Sentry organization's **Settings**, go to **Developer
+   Settings**. Click on **Create New Integration**, and select
+   **Internal Integration**.
 

----------------------------------------

File: zerver/worker/thumbnail.py
Status: modified
Changes: +1 -1
Diff:
@@ -170,7 +170,7 @@ def update_message_rendered_content(
                 message.rendered_content,
                 {} if image_data is None else {path_id: image_data},
                 {path_id} if image_data is None else set(),
-            )
+            )[0]
             if rendered_content is None:
                 # There were no updates -- for instance, if we re-run
                 # ensure_thumbnails on an ImageAttachment we already

----------------------------------------

