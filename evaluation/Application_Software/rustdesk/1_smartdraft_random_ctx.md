# 1.3.0
## ‚ú® feat
- Refactored to embed the `mouce` crate directly into the project. Modified `uinput.rs` to integrate `mouce` functionalities, removing the external dependency. [#8836](https://github.com/rustdesk/rustdesk/pull/8836) 
- Enhanced clipboard functionality to support text, RTF, HTML, and various image formats. Introduced `ClipboardFormat` enum and `MultiClipboards` message for multiple entries. Refactored clipboard handling logic for compatibility and improved performance across platforms. [#8733](https://github.com/rustdesk/rustdesk/pull/8733) 
- Refactored the MSI installer to introduce custom client properties. Added a new argument for custom client properties in the preprocess script and updated MSI package components accordingly. Modified custom actions and conditions to ensure specific actions execute based on the custom client configuration. The update also improves the MSI installer with support for 1/0 and Y/N values for options. It fixes issues with silent repair and upgrade processes, ensuring previous options and values are correctly applied. Enhanced handling of shortcut properties and conditions improves the user experience. [#8913](https://github.com/rustdesk/rustdesk/pull/8913) [#8949](https://github.com/rustdesk/rustdesk/pull/8949) 
- Introduced new CLI options, `address_book_name` and `address_book_tag`, for enhanced address book management. [e58e75e](https://github.com/rustdesk/rustdesk/commit/e58e75eea9df83b866726cb3ea0f32d3a1a124a1) 
- Introduced a new script for managing users with functionalities to view, enable, disable, and delete users via API calls. Includes a minor modification to trim trailing slashes from URLs and a change in the visibility of a function in the tray module. [9a194f0](https://github.com/rustdesk/rustdesk/commit/9a194f085060c171009430cfd78d0a784b2dc656) 
- Enhanced error logging and handling in the client code. [2ffc2ad](https://github.com/rustdesk/rustdesk/commit/2ffc2ad85b5f7252ba4abe5bb6b1d7efa704b081) 
- Added built CMake to the PATH for arm-linux, ensuring necessary tools are available during the build. [#8855](https://github.com/rustdesk/rustdesk/pull/8855) 
- Updated documentation assets for clarity and accuracy. [#8868](https://github.com/rustdesk/rustdesk/pull/8868) 

## üêõ fix
- Fixed an issue where clicking the audio permission button before authentication would send audio data. Ensured cursor position code remains unchanged since `show_remote_cursor` is false before authentication, preventing subscription. Clipboard code remains unchanged as keyboard permission is determined in `try_sub_services`, preventing clipboard service subscription if clipboard permission is clicked before authentication and keyboard permission afterward. [#8917](https://github.com/rustdesk/rustdesk/pull/8917) 
- Fixed clipboard IPC data handling by processing raw bytes and removed an unnecessary length check in the clipboard service implementation. [#8930](https://github.com/rustdesk/rustdesk/pull/8930) 
- Fixed autostart configuration issue on Linux by modifying core_main.rs and linux.rs for proper handling and improved startup behavior. [421ddc0](https://github.com/rustdesk/rustdesk/commit/421ddc001603b014a45d8492894989816e4e6f66) 
- Fixed a bug in the CLI where the `address_book_name` parameter was not correctly checked. Now, the CLI ensures `--address_book_name`, `--user_name`, or `--strategy_name` are provided and gives an appropriate error message if none are supplied. [2266fde](https://github.com/rustdesk/rustdesk/commit/2266fde26f609586641f3093a1230c57cade73d8) 
- Fixed incorrect parsing of `last_online` timestamp for devices by splitting the timestamp string to remove milliseconds before parsing. [9f91ead](https://github.com/rustdesk/rustdesk/commit/9f91eada898d28d13bd7707190aeb7936dcf02e1) 
- Fixed an issue where the display name could be empty by adding a fallback mechanism to retrieve it from user information in local configuration. Modified logic for retrieving the display name from user information. Now uses `serde_json::Value` for more robust parsing and extraction, ensuring correct retrieval and setting of the display name. [fd9b5f3](https://github.com/rustdesk/rustdesk/commit/fd9b5f3c57cb8b9928c99532892af32bc78ee8c2) [d9fba50](https://github.com/rustdesk/rustdesk/commit/d9fba50606ef19065b7cff4bdd40dfdb9a3ca706) 
- Improved clipboard functionality by setting formats and enabling options. Updated clipboard and keyboard permissions to ensure correct server states. Introduced a new context for clipboard updates to handle content more efficiently, especially on Linux systems. Improved clipboard functionality to read maximum data. Improved clipboard functionality for Windows: refactored clipboard service to reuse IPC connections and handle raw data more efficiently, and merged content buffer to streamline operations. Refactored `src/ui_cm_interface.rs` to streamline clipboard content length handling and raw content extension logic. Reordered content length extraction and simplified conditional logic for extending raw contents. [#8873](https://github.com/rustdesk/rustdesk/pull/8873) [#8881](https://github.com/rustdesk/rustdesk/pull/8881) [#8885](https://github.com/rustdesk/rustdesk/pull/8885) [#8888](https://github.com/rustdesk/rustdesk/pull/8888) 
- Introduced a maximum audio buffer size of 150ms and functionality to clear the buffer if full. Addresses audio playback issues caused by network jitter, ensuring sufficient buffer during each period to meet audio configuration and prevent slow playback speeds. Changed logging level for audio buffer clearing from info to trace. [#8947](https://github.com/rustdesk/rustdesk/pull/8947) [9b8209b](https://github.com/rustdesk/rustdesk/commit/9b8209b61bb66623edae7eee93175d913b94be6e) 
- Corrected the language code for Ukrainian from "ua" to "uk" in the language constants and translation function. [2333ee2](https://github.com/rustdesk/rustdesk/commit/2333ee2c07c6a67ed6c58ccfbc50a3bee203f90d) 
- Corrected a typo in the Japanese language file, changing "ÂçîÂäõ" to "Âº∑Âäõ" to reflect the intended meaning of "Strong." [#8886](https://github.com/rustdesk/rustdesk/pull/8886) 
- Corrected a typo in the Czech language file. [#9074](https://github.com/rustdesk/rustdesk/pull/9074) 
- Addresses issues with privacy mode, Windows virtual display, and initial resolution settings. Ensures a fallback for unsupported implementations, adds a timeout for privacy mode activation, and sets default resolution for virtual displays. Includes references for setting DPI programmatically, despite the official API not supporting direct DPI adjustments. Addresses issues with virtual displays on Windows, setting a default resolution of 1920x1080 and ensuring proper restoration upon connection and disconnection. Modified the `check_privacy_mode_changed` function to include `display_idx` and a reference to `CapturerInfo` (`ci`) as arguments for more accurate detection and handling of privacy mode changes. Added a call to `try_broadcast_display_changed` when a privacy mode switch is detected, enhancing the system's response. [#8992](https://github.com/rustdesk/rustdesk/pull/8992) [#9023](https://github.com/rustdesk/rustdesk/pull/9023) [#9027](https://github.com/rustdesk/rustdesk/pull/9027) 
- Addressed an issue with maximizing windows on multi-monitor setups in Windows. [#9038](https://github.com/rustdesk/rustdesk/pull/9038) 
- The commit updates wallpaper management on Windows by replacing `get_sid_of_user` with `get_current_process_session_id`, simplifying the process and resolving SID retrieval issues. [#9058](https://github.com/rustdesk/rustdesk/pull/9058) 
- Addresses issue with resizing remote windows on Windows platforms. [#9062](https://github.com/rustdesk/rustdesk/pull/9062) 
- Fixed `get_custom_server_from_string` to handle the `relay=` parameter. Updated code to use `String::default()` for initializing variables and `chars().skip().collect()` for string slicing. Added test cases to ensure correct parsing of the `relay=` parameter. [#9069](https://github.com/rustdesk/rustdesk/pull/9069) 
- Addressed a crash by dropping the tokio RunTime in an asynchronous context. Introduced a conditional check for using uinput or RDP input based on the Wayland environment for better compatibility and stability. [#9091](https://github.com/rustdesk/rustdesk/pull/9091) 
- Enhanced error reporting for privacy mode with detailed error messages for display settings changes failures. [#9111](https://github.com/rustdesk/rustdesk/pull/9111) 
- Modified the `init_ndk_context` function to pass the Java Virtual Machine (JVM) to FFmpeg via `ffmpeg_set_java_vm` when the "hwcodec" feature is enabled. [#8985](https://github.com/rustdesk/rustdesk/pull/8985) 
- Updated Chinese (cn.rs) and Taiwanese (tw.rs) language files with translations for Telegram bot integration, two-factor authentication, and general application messages. Updated Russian translations for user interface strings related to PIN code functionality. Updated the Ukrainian translation to include PIN-related messages for better localization and user experience. Updated Spanish translations in es.rs, correcting 'Version' and adding new translations for various UI elements. Added additional Korean translations for improved clarity and accuracy. Includes corrections and new translations for phrases. [#8877](https://github.com/rustdesk/rustdesk/pull/8877) [#8987](https://github.com/rustdesk/rustdesk/pull/8987) [#8980](https://github.com/rustdesk/rustdesk/pull/8980) [#9113](https://github.com/rustdesk/rustdesk/pull/9113) [#9067](https://github.com/rustdesk/rustdesk/pull/9067) [#9075](https://github.com/rustdesk/rustdesk/pull/9075) 
- Reversed horizontal scroll direction for trackpads to improve user experience. [#8827](https://github.com/rustdesk/rustdesk/pull/8827) 
- Modified the GitHub Actions workflow for the Flutter build: removed the volume mount for "/opt/artifacts" and added a step to create the "/opt/artifacts" directory if it does not exist, detaching the artifacts directory from the Sciter dependency. [#8857](https://github.com/rustdesk/rustdesk/pull/8857) 
- Refactored to update the crate tfc. [#8867](https://github.com/rustdesk/rustdesk/pull/8867) 
- Introduced a mechanism to free disk space before Android builds and guards parameters for universal APKs. Includes steps to free disk space on Ubuntu, download Rustdesk libraries from artifacts, and handle configurations for different Android architectures. Ensures compatibility with Flutter 3.13 and adjusts the build process for debug and release types. [#8943](https://github.com/rustdesk/rustdesk/pull/8943) 

## ‚ôªÔ∏è refactor
- Removed duplicate translations. [#9043](https://github.com/rustdesk/rustdesk/pull/9043)

## üîß chore
- Fixed the build process for arm32 sciter. [#8803](https://github.com/rustdesk/rustdesk/pull/8803) 
- Removed the `/opt/artifacts/vcpkg` directory in the sciter build process to ensure a fresh clone of the vcpkg repository. [#8804](https://github.com/rustdesk/rustdesk/pull/8804) 
- Updated the sciter-armhf build process for compatibility. Bootstrapped CMake to 3.29.7, vcpkg now requires GCC 8, and removed linux.cmake file. [#8850](https://github.com/rustdesk/rustdesk/pull/8850) 
- Updated Slovak and Czech translations, adding missing strings. [#8866](https://github.com/rustdesk/rustdesk/pull/8866) 
- Improved the Dutch language file by adding a new translation for the "network_error_tip" message, offering clearer instructions to check the network connection and retry. Added translations for previously untranslated strings in the Dutch language file. [a103b83](https://github.com/rustdesk/rustdesk/commit/a103b83647f31a4bc2e572fb7d760bf4d0508e1c) [e1329c8](https://github.com/rustdesk/rustdesk/commit/e1329c8157d5c6f308acee985da0af513b0d229b) 
- Fixed a typo in the android-x86 library copy step to ensure the correct version is copied during the build process. Fixed the copy step for the universal APK in the GitHub Actions workflow. [#8914](https://github.com/rustdesk/rustdesk/pull/8914) [#8942](https://github.com/rustdesk/rustdesk/pull/8942) 
- Modifications to .cargo/config.toml adjust rustflags for Linux targets. Updated AppImageBuilder configuration files by removing libc6 dependencies for aarch64 and x86_64 architectures. [d1fe617](https://github.com/rustdesk/rustdesk/commit/d1fe61767076cdf3b044c2dd87351da211bf6742) 

## üì¶ build
- Adjusted the build process to limit the CMake build step to a single thread, addressing potential out-of-memory (OOM) issues. [#8852](https://github.com/rustdesk/rustdesk/pull/8852) 
- Updated Android NDK version in workflow configuration. [#8918](https://github.com/rustdesk/rustdesk/pull/8918) 
- Fixed an issue with the sciter-rs package. [f899b2a](https://github.com/rustdesk/rustdesk/commit/f899b2a962e169a0e58e6b98c84d1fe9035f58de) 
- Updated configuration file to include additional linker arguments for the i686-pc-windows-msvc target. [#9057](https://github.com/rustdesk/rustdesk/pull/9057) 

## üë∑ ci
- Updated the build configuration to allow parameterization of the Android build matrix. Enables filtering of Android-specific jobs, facilitating the building of Android components in a separate Rustdesk mirror. [#8907](https://github.com/rustdesk/rustdesk/pull/8907)
