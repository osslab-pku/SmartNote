# [8.1.0](https://github.com/questdb/questdb/compare/7.3.3-1.2.1...8.1.0) (2024-07-24)


### Bug Fixes

* **build:** cmake/gcc FreeBSD on arm64 compiler error ([#3907](https://github.com/questdb/questdb/issues/3907)) ([0b2083e](https://github.com/questdb/questdb/commit/0b2083ea41aebee294e88d4de240065a14f35891))
* **build:** create dbroot directory inside user home on MacOS ([#3997](https://github.com/questdb/questdb/issues/3997)) ([ebf9164](https://github.com/questdb/questdb/commit/ebf91648b98814618ed0053f52fda333fb93f580))
* **core:** ðŸ’¥ breaking change - enforce fail-fast on NFS ([#4742](https://github.com/questdb/questdb/issues/4742)) ([6f04679](https://github.com/questdb/questdb/commit/6f04679191ade0cdaecbe62549f6479417fee244))
* **core:** add FreeBSD UFS (0x35) to the list of supported file systems ([#3899](https://github.com/questdb/questdb/issues/3899)) ([a276c11](https://github.com/questdb/questdb/commit/a276c11aa9a2868c6dcda1f7c579f17610364526))
* **core:** avoid table suspension when under memory pressure ([#4745](https://github.com/questdb/questdb/issues/4745)) ([4b3bb0f](https://github.com/questdb/questdb/commit/4b3bb0f3b4dc7f7335e1c75d6663beb20d6330e9))
* **core:** communicate posix_fallocate's return value via errno ([#4158](https://github.com/questdb/questdb/issues/4158)) ([d7289cb](https://github.com/questdb/questdb/commit/d7289cbb42167e6b7872abaf9cd36c1892199bfb))
* **core:** disable query cancellation and timeout in WAL apply job ([#4176](https://github.com/questdb/questdb/issues/4176)) ([5ad8570](https://github.com/questdb/questdb/commit/5ad8570f5eabaf088d41748f9b075e1aefe91c94))
* **core:** fix an issue where a table was not being included in the snapshot due to significant DDL changes being applied. ([#4245](https://github.com/questdb/questdb/issues/4245)) ([b8fbf92](https://github.com/questdb/questdb/commit/b8fbf923e58ae727ec5d10bcc3fe7bc4e8873928))
* **core:** fix column type change after table truncate can lead to invalid data in the column ([#4652](https://github.com/questdb/questdb/issues/4652)) ([20882a9](https://github.com/questdb/questdb/commit/20882a93b5b637dca17424b803f4d98b6748df60))
* **core:** fix database stuck on startup after some table drops ([#4152](https://github.com/questdb/questdb/issues/4152)) ([d2ec548](https://github.com/questdb/questdb/commit/d2ec548cd6aebf102323c2db82c94077171fa16b))
* **core:** fix db crash after enabling dedup on varchar column ([#4675](https://github.com/questdb/questdb/issues/4675)) ([ee9e2c9](https://github.com/questdb/questdb/commit/ee9e2c989fd54e794b83830a37e6ea73a5f2fa4d))
* **core:** fix double-free in text loader ([#4278](https://github.com/questdb/questdb/issues/4278)) ([73e7921](https://github.com/questdb/questdb/commit/73e79213cf5d6813af2f178a65d1900a4bec5007))
* **core:** fix edge case error when importing a large CSV file ([#4103](https://github.com/questdb/questdb/issues/4103)) ([a977903](https://github.com/questdb/questdb/commit/a97790351266f14030a9291fc13f3431bb1534b0))
* **core:** fix errors / data inconsistencies after restoring from a snapshot ([#4205](https://github.com/questdb/questdb/issues/4205)) ([ed3cafa](https://github.com/questdb/questdb/commit/ed3cafac48a55f0e0be5844fbb21d223a8122610))
* **core:** fix failed SQL update not suspending WAL table potentially leading to a data loss ([#4015](https://github.com/questdb/questdb/issues/4015)) ([35911f1](https://github.com/questdb/questdb/commit/35911f106cab0d8cb627a083fc4eb2027f4a0194))
* **core:** fix hour parsing and formatting in the 1-12 and 1-24 conventions ([#4506](https://github.com/questdb/questdb/issues/4506)) ([8e0d2d3](https://github.com/questdb/questdb/commit/8e0d2d396e5e1f1917e433dbd72ef53a4afc87ad))
* **core:** fix ignored JVM arguments in AMI ([#4258](https://github.com/questdb/questdb/issues/4258)) ([83b1ff8](https://github.com/questdb/questdb/commit/83b1ff83c42583f3881519e06bb470f97411d07d))
* **core:** fix insert default column order after column type change ([#4699](https://github.com/questdb/questdb/issues/4699)) ([71804de](https://github.com/questdb/questdb/commit/71804de25bd186dc83c2716c7f354dfab2a46e9b))
* **core:** fix intermittent writing failures ([#3844](https://github.com/questdb/questdb/issues/3844)) ([0f1610c](https://github.com/questdb/questdb/commit/0f1610c1360d19b8ab980b254c1b04e61976652b))
* **core:** fix invalid table writer state after ALTER TABLE SQUASH PARTITIONS ([#4153](https://github.com/questdb/questdb/issues/4153)) ([84c08f0](https://github.com/questdb/questdb/commit/84c08f0887b56de2a7f5ea02dde8df736ca5b3af))
* **core:** fix non-existing partition drop can suspend WAL table ([#4064](https://github.com/questdb/questdb/issues/4064)) ([10bfdce](https://github.com/questdb/questdb/commit/10bfdce6ab284d0e7cc6d6ba5f4a73bb1917beb7))
* **core:** fix non-partition table truncate not working correctly alter table add column ([#4109](https://github.com/questdb/questdb/issues/4109)) ([1dbfd94](https://github.com/questdb/questdb/commit/1dbfd944c2e947e113150dff5b24e7b206e2ba70))
* **core:** fix non-partitioned table corruption caused by `truncate`  & table corruption after restore from snapshot ([#4095](https://github.com/questdb/questdb/issues/4095)) ([2df5adc](https://github.com/questdb/questdb/commit/2df5adc0abeb4174524a2a063f32275c2ae039cb))
* **core:** fix possible crash during ingestion (fuzz) ([#4286](https://github.com/questdb/questdb/issues/4286)) ([21ef954](https://github.com/questdb/questdb/commit/21ef9541bbcb6814780f1134b2d5fda24a55947c))
* **core:** fix possible issue with incorrect partition size after update ([#4412](https://github.com/questdb/questdb/issues/4412)) ([0e489b8](https://github.com/questdb/questdb/commit/0e489b8d344539b31b61b37294b0d3f58d1146de))
* **core:** fix potential and unlikely numeric overlflow that could lead to incorrect query results ([#4093](https://github.com/questdb/questdb/issues/4093)) ([26d5d38](https://github.com/questdb/questdb/commit/26d5d3804ddb9e816ab6ee25456b5e582ec29441))
* **core:** fix potential data loss when non-WAL table dropped and created with same name ([#4533](https://github.com/questdb/questdb/issues/4533)) ([983a49b](https://github.com/questdb/questdb/commit/983a49b3935feda636fed0b8f37d015fe3d2383b))
* **core:** fix potential error rebuilding nascent data index ([#4383](https://github.com/questdb/questdb/issues/4383)) ([30776f3](https://github.com/questdb/questdb/commit/30776f3174d3493a8ac8d4fae45b2b6b874320ce))
* **core:** fix potentially corrupt storage of STRING column after data inserting ([#4681](https://github.com/questdb/questdb/issues/4681)) ([9a40eaf](https://github.com/questdb/questdb/commit/9a40eafa0c53212a4acbd598c0b6ccb747c1714c))
* **core:** fix random file descriptor leak on WAL table drop ([#3919](https://github.com/questdb/questdb/issues/3919)) ([b2da925](https://github.com/questdb/questdb/commit/b2da92510829a7340af0c32c3e8f38f8f24fe740))
* **core:** fix snapshot restore to correctly restore tables when snapshot is taken under heavy DDL load ([#4212](https://github.com/questdb/questdb/issues/4212)) ([d5d6448](https://github.com/questdb/questdb/commit/d5d644834fcab98f9376e845d1d475196ee556ab))
* **core:** fix tables() function permanently returning error after some DDLs ([#4081](https://github.com/questdb/questdb/issues/4081)) ([9520548](https://github.com/questdb/questdb/commit/9520548003ab951b03188945c9023463c8e9907b))
* **core:** fix trailing boundary processing of multipart HTTP requests ([#4466](https://github.com/questdb/questdb/issues/4466)) ([b236291](https://github.com/questdb/questdb/commit/b236291273f3aa1052ab990bd42d0b15b55afc8c))
* **core:** fix transient query failure because of missing partition directory ([#4611](https://github.com/questdb/questdb/issues/4611)) ([8b9d985](https://github.com/questdb/questdb/commit/8b9d9852acf2ed2a44ffa7a93ace1ed1c2343d10))
* **core:** fix UPDATE timeout can leave non-WAL table in half updated state ([#3946](https://github.com/questdb/questdb/issues/3946)) ([7225451](https://github.com/questdb/questdb/commit/72254516e4b5a009e680d6163873a59cb113d2f6))
* **core:** fix wal resume exception after table suspended because of an error ([#4162](https://github.com/questdb/questdb/issues/4162)) ([3023f1d](https://github.com/questdb/questdb/commit/3023f1dd1d710d8270f16c6ec784d7496eff68e2))
* **core:** fix wal table is suspended after invalid drop partition SQL ([#4272](https://github.com/questdb/questdb/issues/4272)) ([ff912bd](https://github.com/questdb/questdb/commit/ff912bdb6c6d9e764f2c772a2bed95728b1a4f6a))
* **core:** fix write error appearing after symbol column drop ([#3876](https://github.com/questdb/questdb/issues/3876)) ([a319375](https://github.com/questdb/questdb/commit/a319375247f4c0f10e11dbce23fcdc892e145726))
* **core:** include system tables into database snapshots ([#4026](https://github.com/questdb/questdb/issues/4026)) ([6fb5ceb](https://github.com/questdb/questdb/commit/6fb5ceb611980ea81a9524b3bd0f1d3bdabea814))
* **core:** prevent ugly error message when log directory does not exist ([#4669](https://github.com/questdb/questdb/issues/4669)) ([30cb3e2](https://github.com/questdb/questdb/commit/30cb3e28bfc2bf19b27e91ce6bd5b393463b956b))
* **core:** rare segfault during o3 commit of a non-wal table ([#4354](https://github.com/questdb/questdb/issues/4354)) ([e9c5d50](https://github.com/questdb/questdb/commit/e9c5d5083a02c6c1cce77a53feecbfaf7f3bf8f7))
* **core:** reduce unnecessary error logging when table is dropped ([#4121](https://github.com/questdb/questdb/issues/4121)) ([5921b2f](https://github.com/questdb/questdb/commit/5921b2f0480747236a0b942a002e7feab7a94926))
* **core:** TLS handshake might occasionally get stuck on MacOS ([#4269](https://github.com/questdb/questdb/issues/4269)) ([f6d2fe9](https://github.com/questdb/questdb/commit/f6d2fe9a56e76114cb8cd1575b93fa0da78054f7))
* **http:** client to process data received before TLS close_notification ([#4397](https://github.com/questdb/questdb/issues/4397)) ([adacf39](https://github.com/questdb/questdb/commit/adacf3963af6da296a7c5cfd8d5f2f2560b6b94a))
* **http:** Ensure REST interface consistently returns HTTP 408 on timeouts ([#4711](https://github.com/questdb/questdb/issues/4711)) ([92b89b5](https://github.com/questdb/questdb/commit/92b89b5f53e5b1d786d413f4397bcfcf9aebf542))
* **http:** fix CSV import for files larger than 2GB ([#4132](https://github.com/questdb/questdb/issues/4132)) ([4ec709d](https://github.com/questdb/questdb/commit/4ec709d82bb364621654e947336c346035cc9eaa))
* **http:** fix HTTP protocol errors following non-successful requests ([#4125](https://github.com/questdb/questdb/issues/4125)) ([6119117](https://github.com/questdb/questdb/commit/611911734fbe38a7521f124a100da032273479de))
* **http:** fix rejects of HTTP GET requests when content-length set to 0 ([#4242](https://github.com/questdb/questdb/issues/4242)) ([639865c](https://github.com/questdb/questdb/commit/639865c470d85da8876240d7f8aad35c7b44de5a))
* **http:** large prometheus metrics responses split across multiple chunks ([#3843](https://github.com/questdb/questdb/issues/3843)) ([bd92d9b](https://github.com/questdb/questdb/commit/bd92d9b40b79659ae13dd11809eb6bfd41f6c2ef))
* **http:** missing varchar escaping quotes in CSV export ([#4735](https://github.com/questdb/questdb/issues/4735)) ([05c8dbc](https://github.com/questdb/questdb/commit/05c8dbc31a45318e72dda1b15f9fceb8f85f82ea))
* **http:** remove `ddl:ok` response for insert query ([#4472](https://github.com/questdb/questdb/issues/4472)) ([83dc3ec](https://github.com/questdb/questdb/commit/83dc3ecfbb691af1fe5fb1e5b19137c9cb0ef023))
* **http:** REST interface sends HTTP error replies on runtime errors ([#3908](https://github.com/questdb/questdb/issues/3908)) ([e987302](https://github.com/questdb/questdb/commit/e98730260c26703fb37b3998a3d515f0104bca20))
* **http:** send http timeout response instead of disconnect on long csv export ([#4300](https://github.com/questdb/questdb/issues/4300)) ([882301f](https://github.com/questdb/questdb/commit/882301fdcf56339cbd22c0a9508539fd58c656af))
* **ilp:** client - avoid spuriously sending duplicate data ([#4762](https://github.com/questdb/questdb/issues/4762)) ([cc51c0b](https://github.com/questdb/questdb/commit/cc51c0ba14e34493474acdac6476a65382ef7c79))
* **ilp:** fix 'maximum buffer size exceeded' in ILP client ([#4372](https://github.com/questdb/questdb/issues/4372)) ([4bf90e9](https://github.com/questdb/questdb/commit/4bf90e9f20d89da78bae701606ec7f9ef081b66e))
* **ilp:** ilp@http small fixes ([#4077](https://github.com/questdb/questdb/issues/4077)) ([3f885d0](https://github.com/questdb/questdb/commit/3f885d0961eca389bc04ad7dc0f80e2a4ba5446f))
* **ilp:** make trailing semicolon in client configuration optional ([#4631](https://github.com/questdb/questdb/issues/4631)) ([0817f9b](https://github.com/questdb/questdb/commit/0817f9b01cf9967a9c7c525bbceb365cb831ef91))
* **pgwire:** fix a memory leak when using prepared statement and UUID columns ([#4214](https://github.com/questdb/questdb/issues/4214)) ([321af1d](https://github.com/questdb/questdb/commit/321af1de64f3bc35a3d20802858d2ee1aff53da4))
* **pgwire:** Fix for querying VARCHAR columns via sqlx::postgres in Rust ([#4685](https://github.com/questdb/questdb/issues/4685)) ([bc80e63](https://github.com/questdb/questdb/commit/bc80e63e162c3a170b31a5d8981190834257661a))
* **pgwire:** fix for using vararg functions with bind variables in Go ([#4695](https://github.com/questdb/questdb/issues/4695)) ([1ad72af](https://github.com/questdb/questdb/commit/1ad72af09891ecbb6f2ceb33386a5949aae5a7eb))
* **sql:** breaking changeðŸ’¥ - fix expression parser operator precedence ([#4443](https://github.com/questdb/questdb/issues/4443)) ([8261ae1](https://github.com/questdb/questdb/commit/8261ae136936f7637c3909c63f7681518598c493))
* **sql:** breakingðŸ’¥ fix coalesce function correctness ([#4490](https://github.com/questdb/questdb/issues/4490)) ([f3fb000](https://github.com/questdb/questdb/commit/f3fb0004bb00b25c9abf09cbc651f1c9782fd78b))
* **sql:** bug for negative upper bound (second argument) in BETWEEN operator ([#4375](https://github.com/questdb/questdb/issues/4375)) ([127c000](https://github.com/questdb/questdb/commit/127c000f719102883a33f2a5f7c63c71e03867e1))
* **sql:** constant in explicit group by should not remove parallel optimisation ([#4384](https://github.com/questdb/questdb/issues/4384)) ([6e02f89](https://github.com/questdb/questdb/commit/6e02f89a4b6432825393571a60b3dce12cc6cf6c))
* **sql:** enable parallel group-by on servers with fewer than 4 cores ([#4208](https://github.com/questdb/questdb/issues/4208)) ([0bda97e](https://github.com/questdb/questdb/commit/0bda97e65c885f96d05079f9d54123ee3bdd1d7c))
* **sql:** ensure EXPLAIN (FORMAT JSON) returns valid JSON  ([#3756](https://github.com/questdb/questdb/issues/3756)) ([63ac819](https://github.com/questdb/questdb/commit/63ac8196d405aef94af662381d9d5a175aa2c7c9))
* **sql:** FILL(LINEAR) now supports ALIGN TO CALENDAR ([#4392](https://github.com/questdb/questdb/issues/4392)) ([5cd0c4a](https://github.com/questdb/questdb/commit/5cd0c4a0070131d640a54a4365412532faaf6f3b))
* **sql:** FILL(LINEAR) regression in 7.4.1 ([#4433](https://github.com/questdb/questdb/issues/4433)) ([9ca20dc](https://github.com/questdb/questdb/commit/9ca20dc78fd140f8ac2ca409b2c2df1bcf20ce27))
* **sql:** fix 'Invalid column' error for columns used in non-equality join conditions ([#3912](https://github.com/questdb/questdb/issues/3912)) ([d7e11fe](https://github.com/questdb/questdb/commit/d7e11fed22de0b122428ba7d290238b29afc2c77))
* **sql:** fix a bug in indexed symbol comparison ([#4273](https://github.com/questdb/questdb/issues/4273)) ([c34d903](https://github.com/questdb/questdb/commit/c34d903ff0e12e9419e9f1ee5fdfbd087ae2133d))
* **sql:** fix altering table to add index can remove dedup key ([#4270](https://github.com/questdb/questdb/issues/4270)) ([2f69ca8](https://github.com/questdb/questdb/commit/2f69ca8f8f5e62ea10cee4b7a47e5696b103a3ab))
* **sql:** fix ArrayIndexOutOfBoundsException in select distinct with duplicate columns ([#3834](https://github.com/questdb/questdb/issues/3834)) ([e4b6520](https://github.com/questdb/questdb/commit/e4b6520e7b33187a0d752d53748aa7e981db3f81))
* **sql:** fix column propagation for queries with set operations and distinct ([#4028](https://github.com/questdb/questdb/issues/4028)) ([cf77e96](https://github.com/questdb/questdb/commit/cf77e9650db95af4258af08872c253c6b3b303ea))
* **sql:** fix comparing Date columns with date literals ([#3862](https://github.com/questdb/questdb/issues/3862)) ([9cf62f7](https://github.com/questdb/questdb/commit/9cf62f77752698802dea5c64dea056413d296acb))
* **sql:** fix create table like with dedup ([#3964](https://github.com/questdb/questdb/issues/3964)) ([d37ef6f](https://github.com/questdb/questdb/commit/d37ef6f192c7558765767a78eec5484fbeb675ce))
* **sql:** fix duplicate column error for implicit timestamp ([#3921](https://github.com/questdb/questdb/issues/3921)) ([58d17dc](https://github.com/questdb/questdb/commit/58d17dc6671591ff7d390ad60e01f7b858896e03))
* **sql:** fix edge case internal error in case-switch expression ([#4033](https://github.com/questdb/questdb/issues/4033)) ([d974057](https://github.com/questdb/questdb/commit/d9740570c84de161ee690ad722d2eb4653ed0b23))
* **sql:** fix error in some CASE statements when ELSE branch is missing ([#4367](https://github.com/questdb/questdb/issues/4367)) ([e371b25](https://github.com/questdb/questdb/commit/e371b2542372e998cce7c205d2a68e9fc0b3192a))
* **sql:** fix error on UPDATE statement with WAL tables after ALTER ([#3894](https://github.com/questdb/questdb/issues/3894)) ([3be1838](https://github.com/questdb/questdb/commit/3be1838105f9e1f92e08314725ee230d7e6c080a))
* **sql:** fix exception when running insert as select ([#4157](https://github.com/questdb/questdb/issues/4157)) ([0496ee3](https://github.com/questdb/questdb/commit/0496ee39277f062aabf61434340e69de38322a42))
* **sql:** fix handling of keyed string aggregation of first(), first_not_null(), last(), last_not_null() functions ([#4068](https://github.com/questdb/questdb/issues/4068)) ([b8888c2](https://github.com/questdb/questdb/commit/b8888c220c2445073a72e683346b44d2fcb84e90))
* **sql:** fix ILIKE for upper case non-ASCII patterns ([#4321](https://github.com/questdb/questdb/issues/4321)) ([83c3d3f](https://github.com/questdb/questdb/commit/83c3d3fd83f041cdae2949c9de02cb0919031d2b))
* **sql:** fix inaccurate double comparison ([#4417](https://github.com/questdb/questdb/issues/4417)) ([5040317](https://github.com/questdb/questdb/commit/5040317b68094c5a1c40aa64d102e02805fe1530))
* **sql:** fix incorrect results for parallel group by with symbol like filter ([#4411](https://github.com/questdb/questdb/issues/4411)) ([c8298d6](https://github.com/questdb/questdb/commit/c8298d62d97229389150a3a01914ad08668c91b8))
* **sql:** fix incorrect results returned by GROUP BY queries with int or symbol key ([#4353](https://github.com/questdb/questdb/issues/4353)) ([a077bee](https://github.com/questdb/questdb/commit/a077bee58d1d44a8d6ee33f373422d87bd057155))
* **sql:** fix incorrect results returned when executing lower/upper/substring functions in parallel ([#4337](https://github.com/questdb/questdb/issues/4337)) ([711eac3](https://github.com/questdb/questdb/commit/711eac3aa4527fa92eb9dcee6be1f7f3ea252ad8))
* **sql:** fix incorrect unordered map creation check ([#4255](https://github.com/questdb/questdb/issues/4255)) ([20e8582](https://github.com/questdb/questdb/commit/20e858248d3bbeb56e1e1c971345064b78945766))
* **sql:** fix invalid column error in group by with join ([#4637](https://github.com/questdb/questdb/issues/4637)) ([03ec032](https://github.com/questdb/questdb/commit/03ec03275c3082d02d088b1882eb000d11ccd9da))
* **sql:** fix modulo int operator result with nulls ([#3910](https://github.com/questdb/questdb/issues/3910)) ([9d720d2](https://github.com/questdb/questdb/commit/9d720d2c760b36831b2e51075035968fbb8f3c18))
* **sql:** fix non-existing symbol bind variable initialization in indexed filter queries ([#4228](https://github.com/questdb/questdb/issues/4228)) ([8c5bbde](https://github.com/questdb/questdb/commit/8c5bbde01cbd4ff44ee74bbfde436bb64902fed2))
* **sql:** fix NullPointerException in LATEST ON with nested query ([#4192](https://github.com/questdb/questdb/issues/4192)) ([174b1bd](https://github.com/questdb/questdb/commit/174b1bd1ec1fe7a79b739ca2178c95a958290253))
* **sql:** fix NullPointerException in replace() function with symbol arguments ([#4073](https://github.com/questdb/questdb/issues/4073)) ([39abc30](https://github.com/questdb/questdb/commit/39abc30b97573ad57e645655f7635faceeaebb88))
* **sql:** fix parsing of single character window frame bounds ([#4045](https://github.com/questdb/questdb/issues/4045)) ([26233aa](https://github.com/questdb/questdb/commit/26233aa81d66e05896fd63999ea963684545d169))
* **sql:** fix potential races when regexp_replace function is used in where or group by clause ([#4102](https://github.com/questdb/questdb/issues/4102)) ([0615d8f](https://github.com/questdb/questdb/commit/0615d8f374a2667256894449483453870694a165))
* **sql:** fix potentially incorrect values produced by LPad/RPad functions ([#4327](https://github.com/questdb/questdb/issues/4327)) ([682925c](https://github.com/questdb/questdb/commit/682925c72476397b570e2c97f98c1f614fe226f9))
* **sql:** fix SAMPLE BY and GROUP BY not grouping when used with column aliases ([#4503](https://github.com/questdb/questdb/issues/4503)) ([a1245f8](https://github.com/questdb/questdb/commit/a1245f8203f294d46ddd866e3f8365862ef06f0c))
* **sql:** fix SAMPLE BY queries with functions in SELECT clause ([#4404](https://github.com/questdb/questdb/issues/4404)) ([9626172](https://github.com/questdb/questdb/commit/9626172376e59e2de743753b1bf8d6f0356e9199))
* **sql:** fix sample by query compilation error when using as-of join ([#4452](https://github.com/questdb/questdb/issues/4452)) ([f221e09](https://github.com/questdb/questdb/commit/f221e09060217afac2cecb6ef5183bb5dcc3f347))
* **sql:** fix segfault in aggregate vectorized functions on zero input length ([#3944](https://github.com/questdb/questdb/issues/3944)) ([805872a](https://github.com/questdb/questdb/commit/805872af0fdee515811ff2a80ba05f002888525a))
* **sql:** fix segmentation fault in non-keyed max(int) vectorised implementation ([#3914](https://github.com/questdb/questdb/issues/3914)) ([d8f0aca](https://github.com/questdb/questdb/commit/d8f0aca490d225697503d5be3988bd0688099421))
* **sql:** fix server hang on evaluating large integer addition expression ([#3922](https://github.com/questdb/questdb/issues/3922)) ([0b9901c](https://github.com/questdb/questdb/commit/0b9901c360a9b2655111c71f629eb2c6a66a66cf))
* **sql:** fix several bugs in aggregation (avg/sum/first_value) window functions ([#4429](https://github.com/questdb/questdb/issues/4429)) ([d13c4e1](https://github.com/questdb/questdb/commit/d13c4e1b80c409944ade184f116680689dcad60d))
* **sql:** fix several small sql issues  ([#3970](https://github.com/questdb/questdb/issues/3970)) ([d61201d](https://github.com/questdb/questdb/commit/d61201d411e4d69423381f3b63846e020ffa4df6))
* **sql:** fix spurious "unsupported operation" errors ([#4632](https://github.com/questdb/questdb/issues/4632)) ([9266cba](https://github.com/questdb/questdb/commit/9266cba92f4c7ddd54c70659fd0acdd684d0e062))
* **sql:** fix sql error [col in (1,2)] when col is type short ([#3887](https://github.com/questdb/questdb/issues/3887)) ([26e4186](https://github.com/questdb/questdb/commit/26e4186503d95bea6585b8946977a8eff266e1db))
* **sql:** fix SQL error when bind variables used within the IN() function ([#4657](https://github.com/questdb/questdb/issues/4657)) ([ef6185a](https://github.com/questdb/questdb/commit/ef6185a79b9b32d9de963ce3cc440cdb6f27063f))
* **sql:** fix stuck parallel group by query due to incorrect query timeout handling ([#4420](https://github.com/questdb/questdb/issues/4420)) ([713fa46](https://github.com/questdb/questdb/commit/713fa465b44909c4640711147e2f4f7766374ed6))
* **sql:** fix symbol != value filter not applied ([#4035](https://github.com/questdb/questdb/issues/4035)) ([1b0e10b](https://github.com/questdb/questdb/commit/1b0e10bd6eac29682260e8fbfb439915dfc44509))
* **sql:** fix symbol value comparison with <, <=, >, >= operators ([#3909](https://github.com/questdb/questdb/issues/3909)) ([1e06b7b](https://github.com/questdb/questdb/commit/1e06b7bfccbdb91d748296f0ddb547c023cac0fa))
* **sql:** fix to_date function to accept varchar type ([#4740](https://github.com/questdb/questdb/issues/4740)) ([37c1d91](https://github.com/questdb/questdb/commit/37c1d9166ed23dbe086924183e982230f7c1e8a3))
* **sql:** fix WHERE filters with FLOAT columns null comparison ([#4487](https://github.com/questdb/questdb/issues/4487)) ([0d79aa0](https://github.com/questdb/questdb/commit/0d79aa032e95cae8a0d12eaa6e486e7aca9800a4))
* **sql:** fix wrong results returned from parallel WHERE and GROUP BY for some function keys ([#4796](https://github.com/questdb/questdb/issues/4796)) ([60b3088](https://github.com/questdb/questdb/commit/60b30887f162e6e7e8e9902e432142a6a2f318b1))
* **sql:** implement 'case expression when value' for float and double data types ([#4046](https://github.com/questdb/questdb/issues/4046)) ([f169144](https://github.com/questdb/questdb/commit/f16914476fca05d8d2e26acc30632d6c34fa49a2))
* **sql:** improve compatibility with grafana ([#4039](https://github.com/questdb/questdb/issues/4039)) ([82d45c7](https://github.com/questdb/questdb/commit/82d45c7e1ddc0abe70c51c0df6abc5be67a22bb4))
* **sql:** improve count(*) and limit x,y performance ([#3951](https://github.com/questdb/questdb/issues/3951)) ([8fdb0f6](https://github.com/questdb/questdb/commit/8fdb0f6b9246b40dcf14d3aab2399a9ef6ddfced))
* **sql:** IN with NULLs and STRINGs sometimes may return the wrong result ([#4499](https://github.com/questdb/questdb/issues/4499)) ([6fb88e4](https://github.com/questdb/questdb/commit/6fb88e44be437545816415f7b75eda1340491d4b))
* **sql:** incorrect results returned from parallel GROUP BY with single varchar function key ([#4798](https://github.com/questdb/questdb/issues/4798)) ([fd3fe64](https://github.com/questdb/questdb/commit/fd3fe645190098e1b36fabbef2ba6340e250d8e6))
* **sql:** internal error when inserting null string as a designated timestamp ([#4408](https://github.com/questdb/questdb/issues/4408)) ([703c42d](https://github.com/questdb/questdb/commit/703c42d717af6cd86701355e8f7846bdb6736100))
* **sql:** maintain timestamp metadata in window factories ([#3940](https://github.com/questdb/questdb/issues/3940)) ([ab05c8a](https://github.com/questdb/questdb/commit/ab05c8a36d162d7ea7709b7173237d9cbc5ffd15))
* **sql:** minor bug fixes in ExpressionParser ([#4441](https://github.com/questdb/questdb/issues/4441)) ([cb215a7](https://github.com/questdb/questdb/commit/cb215a762b0bad825b14bd761753e1a263aed453))
* **sql:** occasionally failing queries when under rapid structural changes ([#4000](https://github.com/questdb/questdb/issues/4000)) ([d37d46b](https://github.com/questdb/questdb/commit/d37d46ba08a2915771264b965c03ceccb86dbfac))
* **sql:** potential incorrect results in non-keyed parallel GROUP BY query ([#4234](https://github.com/questdb/questdb/issues/4234)) ([ef33e3f](https://github.com/questdb/questdb/commit/ef33e3f489a3b732cd399fecc26a1d09e25c64a2))
* **sql:** prevent predicate pushdown into subquery with window clause ([#3923](https://github.com/questdb/questdb/issues/3923)) ([e580b75](https://github.com/questdb/questdb/commit/e580b75a6a13339b0caf86324133503b8ea00914))
* **sql:** qualified names in ORDER BY join queries no longer cause AssertionError ([#4274](https://github.com/questdb/questdb/issues/4274)) ([bb7a626](https://github.com/questdb/questdb/commit/bb7a626a09521d65ec54a341ec4e830839fbe9d5))
* **sql:** rename column from `name` to `table_name` in cursor function tables ([#3857](https://github.com/questdb/questdb/issues/3857)) ([7caf436](https://github.com/questdb/questdb/commit/7caf4365b2dfac6d218456556e14514fb19698d9))
* **sql:** SAMPLE BY not to mix multiplication asterisk with wildcard column ([#4351](https://github.com/questdb/questdb/issues/4351)) ([dd5129b](https://github.com/questdb/questdb/commit/dd5129b5962b94c0dbec4ac31c0e79dcc7399cbe))
* **sql:** segfault when running SAMPLE BY query with index-based filter and last/first functions ([#4233](https://github.com/questdb/questdb/issues/4233)) ([9322151](https://github.com/questdb/questdb/commit/93221516f206489bbcb6b7a2515ffeecd5bad9fb))
* **sql:** some window functions might double count rows ([#4804](https://github.com/questdb/questdb/issues/4804)) ([0557331](https://github.com/questdb/questdb/commit/0557331f592e9c0f627dd341cfbba4acd9626711))
* **sql:** split_part returning old data when no match is found ([#4493](https://github.com/questdb/questdb/issues/4493)) ([b302ff8](https://github.com/questdb/questdb/commit/b302ff8ad694dbf3a04d05b336a133fd6ac63ec7))
* **sql:** unregister query on cursor initialization failure ([#4113](https://github.com/questdb/questdb/issues/4113)) ([1bb347e](https://github.com/questdb/questdb/commit/1bb347e1d4dd1a45bd4667eafe70f121f40f9a87))
* **ui:** fix Charts when using together with OAuth ([#4813](https://github.com/questdb/questdb/issues/4813)) ([07ba2e4](https://github.com/questdb/questdb/commit/07ba2e4ad83b32b2fa839398797b9d36c4d5e94d))
* **ui:** web console to load regardless of pgwire disabled ([#4484](https://github.com/questdb/questdb/issues/4484)) ([be1939e](https://github.com/questdb/questdb/commit/be1939e4d416273af92cc3af2cbef9f52eccccc1))


### Features

* **build:** new ami based on amazon linux 2023 ðŸ’¥ - breaking change ([#4519](https://github.com/questdb/questdb/issues/4519)) ([d7c4338](https://github.com/questdb/questdb/commit/d7c4338c986c50f41821c37a94fd5045e7b11179))
* **conf:** add new configuration settings to server.conf (including Enterprise settings) ([#4175](https://github.com/questdb/questdb/issues/4175)) ([b3400c0](https://github.com/questdb/questdb/commit/b3400c02bb14da80460e5762d1b8922b4d85ef40))
* **core:** 5x speed up of WAL Apply for small transaction and add SQL function to read WAL transactions metadata ([#3992](https://github.com/questdb/questdb/issues/3992)) ([8d4e0e6](https://github.com/questdb/questdb/commit/8d4e0e68b5eb14835054e5f28e48d41e8de26c1d))
* **core:** add metrics around worker ([#3872](https://github.com/questdb/questdb/issues/3872)) ([ad5603c](https://github.com/questdb/questdb/commit/ad5603c18711d7d4d7690115721e4e4a725ba24d))
* **core:** add RSS memory limit to prevent OOM kills from the OS ([#4480](https://github.com/questdb/questdb/issues/4480)) ([65f84ec](https://github.com/questdb/questdb/commit/65f84ec2ed4f3daaba0c22863307c1ce514c7732))
* **core:** add support for configurable JVM flags using environment variables ([#4008](https://github.com/questdb/questdb/issues/4008)) ([54c0219](https://github.com/questdb/questdb/commit/54c021926926f82181014dfde4d987303df1a597))
* **core:** add ZFS support ([#4507](https://github.com/questdb/questdb/issues/4507)) ([293d35f](https://github.com/questdb/questdb/commit/293d35f69a4b8e096c9a87ef8506a805cf21b9f3))
* **core:** breaking changeðŸ’¥  - upgrade GLIBC to minimum of 2.28-amd64 and 2.33-aarch64 ([#4449](https://github.com/questdb/questdb/issues/4449)) ([9b19fd5](https://github.com/questdb/questdb/commit/9b19fd5f829cbfc21acb69a89eaf69def85d34b4))
* **core:** config to limit RSS memory used for writing ([#3937](https://github.com/questdb/questdb/issues/3937)) ([f089e15](https://github.com/questdb/questdb/commit/f089e154cdbd66356615f5e8bd7b82ce8d3eef21))
* **core:** enable WAL tables by default ([#4223](https://github.com/questdb/questdb/issues/4223)) ([8c747f5](https://github.com/questdb/questdb/commit/8c747f54887e5b0815794a344505067868a093eb))
* **core:** improve SQL error logging ([#4532](https://github.com/questdb/questdb/issues/4532)) ([8d56a7d](https://github.com/questdb/questdb/commit/8d56a7d70281a090c8c6c899895542189b9a21b5))
* **core:** optimise memory usage to reduce OS kills ([#4368](https://github.com/questdb/questdb/issues/4368)) ([3bf7ce2](https://github.com/questdb/questdb/commit/3bf7ce2a2a55a38afd704f34ddf03e536e3ec88e))
* **core:** print insufficient Linux kernel limits on start-up ([#3980](https://github.com/questdb/questdb/issues/3980)) ([553f8bf](https://github.com/questdb/questdb/commit/553f8bfcadc503faeee1177e79667c816aeb93b8))
* **core:** resume all suspended WAL tables on start up ([#4513](https://github.com/questdb/questdb/issues/4513)) ([55638d0](https://github.com/questdb/questdb/commit/55638d06d8081c6c4c7e0f9674ca882d45a73692))
* **core:** support WAL sequencer transaction file partitioned format ([#4194](https://github.com/questdb/questdb/issues/4194)) ([67d0dab](https://github.com/questdb/questdb/commit/67d0dab08e6a1182294209212fa57e77acc9df84))
* **core:** table suspension reason in wal_tables() and warnings endpoint ([#4607](https://github.com/questdb/questdb/issues/4607)) ([22d99f0](https://github.com/questdb/questdb/commit/22d99f0703d6b8c64e1e1229fc2ec7e2dcdd0cea))
* **core:** trigger file to initiate snapshot recovery ([#4807](https://github.com/questdb/questdb/issues/4807)) ([e384be3](https://github.com/questdb/questdb/commit/e384be3b11b8661ae11074932655647321491174))
* **core:** use jemalloc allocator by default ([#4451](https://github.com/questdb/questdb/issues/4451)) ([389fb8e](https://github.com/questdb/questdb/commit/389fb8ea836efc0fc19cd95c6284f68b20f752c2))
* **http:** add createTable parameter to /imp ([#4108](https://github.com/questdb/questdb/issues/4108)) ([f7159c3](https://github.com/questdb/questdb/commit/f7159c3d6630c27961ffe0e61f1f6bb01de84ac4))
* **http:** add support for `nm=true` query parameter in text export (/exp) to exclude metadata ([#4639](https://github.com/questdb/questdb/issues/4639)) ([7bcecaa](https://github.com/questdb/questdb/commit/7bcecaa4ec540bff11440570c33baf7efbfa6453))
* **http:** implement HTTP basic auth ([#4672](https://github.com/questdb/questdb/issues/4672)) ([0f4474f](https://github.com/questdb/questdb/commit/0f4474f7a9c8154d49179895d0be40f4fbe775fc))
* **ilp:** breaking changeðŸ’¥ - ILP and TextImport create VARCHAR instead of STRING columns ([#4476](https://github.com/questdb/questdb/issues/4476)) ([2ba7b5d](https://github.com/questdb/questdb/commit/2ba7b5d35c43e1cc4f9ebf138f55c92d63612bc5))
* **ilp:** breaking changeðŸ’¥ - ILP Sender requires explicit Transport selection ([#4293](https://github.com/questdb/questdb/issues/4293)) ([4127239](https://github.com/questdb/questdb/commit/4127239e84dc8fdae645b5da4c7562cf2085e712))
* **ilp:** client configuration string supports auto_flush_bytes ([#4391](https://github.com/questdb/questdb/issues/4391)) ([2806389](https://github.com/questdb/questdb/commit/2806389bc98a7a3f0ab9b9c347894ff484570b53))
* **ilp:** ILP client supports HTTP as a transport ([#4111](https://github.com/questdb/questdb/issues/4111)) ([4221412](https://github.com/questdb/questdb/commit/4221412e5982d3182b9b6ed1947c39f756588ca0))
* **ilp:** ILP over HTTP, InfluxDB native clients writing support, ILP feedback ([#4034](https://github.com/questdb/questdb/issues/4034)) ([cd9dcb4](https://github.com/questdb/questdb/commit/cd9dcb468801b7b8b0857ea586b5293c73278361))
* **ilp:** Influx Line Protocol client configuration via strings ([#4166](https://github.com/questdb/questdb/issues/4166)) ([a46922f](https://github.com/questdb/questdb/commit/a46922fe3ae9809e94b3fe2e4257ca4b1fb97bb5))
* **ilp:** make ILP over HTTP transactional for single table ([#4110](https://github.com/questdb/questdb/issues/4110)) ([29b1b01](https://github.com/questdb/questdb/commit/29b1b010f76156555dd54ac8b65dd9930a510756))
* **ilp:** Sender config string can disable individual flush types separately ([#4385](https://github.com/questdb/questdb/issues/4385)) ([da7083b](https://github.com/questdb/questdb/commit/da7083b5d68e337d113e1bb182a2d08a71bff336))
* **sql:** `information_schema.columns()` function to provide list of columns across all tables in the database ([#3975](https://github.com/questdb/questdb/issues/3975)) ([db0f878](https://github.com/questdb/questdb/commit/db0f87865c91d0fb5f2291fbb1215bce08d6b5f3))
* **sql:** add `nullif(double, double)` SQL function ([#4063](https://github.com/questdb/questdb/issues/4063)) ([7fdc15c](https://github.com/questdb/questdb/commit/7fdc15c8adb783eb047e67b446fb78d6d82d6507))
* **sql:** add `show parameters` SQL ([#3972](https://github.com/questdb/questdb/issues/3972)) ([fd12561](https://github.com/questdb/questdb/commit/fd12561a13a24ef5cb449c1b74d625d25d8e9271))
* **sql:** add approx_count_distinct() SQL function ([#4083](https://github.com/questdb/questdb/issues/4083)) ([097679b](https://github.com/questdb/questdb/commit/097679bda5873e6d39922de2bec29c32a6fdea4f))
* **sql:** add bind variable support for long256 and IPv4 operators ([#4282](https://github.com/questdb/questdb/issues/4282)) ([81529a5](https://github.com/questdb/questdb/commit/81529a5258f4c2b054f5c7158edeeca1c2073727))
* **sql:** add covariance and corr built-in functions ([#4012](https://github.com/questdb/questdb/issues/4012)) ([f8320a5](https://github.com/questdb/questdb/commit/f8320a5c61691c88441f24514d4c375622cb4b40))
* **sql:** add cumulative sum and first value window funtions ([#4001](https://github.com/questdb/questdb/issues/4001)) ([938a785](https://github.com/questdb/questdb/commit/938a785a83be363ec18af036b8f219aecf8a8ada))
* **sql:** add first and last boolean aggregation functions ([#3873](https://github.com/questdb/questdb/issues/3873)) ([169722e](https://github.com/questdb/questdb/commit/169722e571a089c938c925548e34ea333986e479))
* **sql:** add first and last string aggregation functions ([#3879](https://github.com/questdb/questdb/issues/3879)) ([6e06bfe](https://github.com/questdb/questdb/commit/6e06bfe2f1bdfd01e755d31cf2bb71dd553350db))
* **sql:** add first_not_null and last_not_null aggregation functions for major data types ([#3883](https://github.com/questdb/questdb/issues/3883)) ([efbc947](https://github.com/questdb/questdb/commit/efbc947b5445822318971c704b9657d98b51929f))
* **sql:** add first_not_null and last_not_null functions for GeoHash and IPv4 data types ([#3929](https://github.com/questdb/questdb/issues/3929)) ([095dc25](https://github.com/questdb/questdb/commit/095dc259c75a4e71f3f11be9703054915c53546f))
* **sql:** add math exp function ([#3903](https://github.com/questdb/questdb/issues/3903)) ([49a4463](https://github.com/questdb/questdb/commit/49a4463b6688453ee183bd1830bcb8eb63fa49d0))
* **sql:** add mid price SQL function ([#4734](https://github.com/questdb/questdb/issues/4734)) ([47ba31d](https://github.com/questdb/questdb/commit/47ba31d9486d07dc88bb197bdb28afe1ada0f095))
* **sql:** add milliseconds and microseconds support to dateadd ([#4396](https://github.com/questdb/questdb/issues/4396)) ([37a98dd](https://github.com/questdb/questdb/commit/37a98dd85491c9bb5c56c4c4255b08820b71376f))
* **sql:** add milliseconds and microseconds support to datediff ([#4398](https://github.com/questdb/questdb/issues/4398)) ([0f0402c](https://github.com/questdb/questdb/commit/0f0402c7b2759c778589da86bb86777c8eb1eb27))
* **sql:** add query registry and query cancellation ([#4066](https://github.com/questdb/questdb/issues/4066)) ([e494de3](https://github.com/questdb/questdb/commit/e494de3616711ce2cd758f0b6d6b7084b98b8f09))
* **sql:** add sign() functions ([#4050](https://github.com/questdb/questdb/issues/4050)) ([a89b834](https://github.com/questdb/questdb/commit/a89b83486c2c2cbd7d9ac817afb1753cf5a18487))
* **sql:** add spread function for finance ([#4744](https://github.com/questdb/questdb/issues/4744)) ([ef2c91a](https://github.com/questdb/questdb/commit/ef2c91ac1a87dd6bad89fedbbcdf2c8fe1b51012))
* **sql:** add variant of timestamp_floor supporting an offset origin ([#4692](https://github.com/questdb/questdb/issues/4692)) ([6097cdd](https://github.com/questdb/questdb/commit/6097cddd660e638a66a68537abf5e818cbf3c9f5))
* **sql:** add vwap aggregation function ([#3885](https://github.com/questdb/questdb/issues/3885)) ([6d29a53](https://github.com/questdb/questdb/commit/6d29a53075764dfdb05591c886d781c452823d75))
* **sql:** breaking changeðŸ’¥ - change default behaviour of CREATE TABLE AS/INSERT INTO SELECT statements to be non-atomic and batched ([#4287](https://github.com/questdb/questdb/issues/4287)) ([71a2633](https://github.com/questdb/questdb/commit/71a2633065fc4127d4a098a122bbcfba7c0f8064))
* **sql:** change default behaviour of SAMPLE BY to ALIGN TO CALENDAR instead of ALIGN TO FIRST OBSERVATION ([#4277](https://github.com/questdb/questdb/issues/4277)) ([3aba76b](https://github.com/questdb/questdb/commit/3aba76b50ced5d4215edb56c53b51953808167f9))
* **sql:** implement approx_percentile function ([#3900](https://github.com/questdb/questdb/issues/3900)) ([1ec7615](https://github.com/questdb/questdb/commit/1ec7615a57068f86e5a6d101f0fba1995d4cba43))
* **sql:** implement level 2 order book price function ([#4462](https://github.com/questdb/questdb/issues/4462)) ([3a71091](https://github.com/questdb/questdb/commit/3a710911d610929d79a9892e5c34e7050f431761))
* **sql:** increase coverage of SQL queries that use vectorized execution plan ([#4690](https://github.com/questdb/questdb/issues/4690)) ([b00c7f4](https://github.com/questdb/questdb/commit/b00c7f426ce778ca517a46497cc40b90c8161e1b))
* **sql:** introduce global select query cache per interface ([#4525](https://github.com/questdb/questdb/issues/4525)) ([3729112](https://github.com/questdb/questdb/commit/3729112805f7ee6ff878b57e366a119674ee765c))
* **sql:** introduce SAMPLE BY FROM-TO syntax for specifying result ranges ([#4733](https://github.com/questdb/questdb/issues/4733)) ([8b4f6cf](https://github.com/questdb/questdb/commit/8b4f6cf727481a6e8dfc5725b3847ee2ed76b931))
* **sql:** moving avg window function ([#3763](https://github.com/questdb/questdb/issues/3763)) ([f355686](https://github.com/questdb/questdb/commit/f3556865bf74eff283130f19c2cdbfa4c3c69271))
* **sql:** new `json_extract` function to extract JSON fields from varchars ([#4633](https://github.com/questdb/questdb/issues/4633)) ([3e8249b](https://github.com/questdb/questdb/commit/3e8249bdc65d71fd82a3afac3647412ebfa94ecb))
* **sql:** parallel `sample by` implementation ([#4259](https://github.com/questdb/questdb/issues/4259)) ([46254dd](https://github.com/questdb/questdb/commit/46254dd162a9dbd89ebb9bf30337577826dd503a))
* **sql:** read_parquet() function ([#4460](https://github.com/questdb/questdb/issues/4460)) ([1f770d0](https://github.com/questdb/questdb/commit/1f770d0cd47be092c860e646f36310cabba78187))
* **sql:** reintroduce flush_query_cache function ([#4641](https://github.com/questdb/questdb/issues/4641)) ([a77fbbe](https://github.com/questdb/questdb/commit/a77fbbe0997b129578148e1161156092480cf79d))
* **sql:** sql functions to support traffic light widget in the Web Console ([#3918](https://github.com/questdb/questdb/issues/3918)) ([0beafe0](https://github.com/questdb/questdb/commit/0beafe0d17323a7030b5d9d254547af6ab32fc9e))
* **sql:** string_agg function support in keyed group by queries ([#3991](https://github.com/questdb/questdb/issues/3991)) ([9192ad3](https://github.com/questdb/questdb/commit/9192ad379fdd6aed9f425d1c5cfbd7df42c0676b))
* **sql:** support usage of ALTER table SQL to convert column types ([#4413](https://github.com/questdb/questdb/issues/4413)) ([22d2984](https://github.com/questdb/questdb/commit/22d298430281c73eaad0008b5c9e77c7f381b6e2))
* **sql:** vectorized aggregation of `short` columns ([#3924](https://github.com/questdb/questdb/issues/3924)) ([72db289](https://github.com/questdb/questdb/commit/72db289cc5d5ca0561e5e3ddd5744dc5a0409c4c))


### Performance Improvements

* **chore:** optimize binary search corner cases ([#4402](https://github.com/questdb/questdb/issues/4402)) ([b22eccc](https://github.com/questdb/questdb/commit/b22eccc4527f597f9983a40f24965b4bac668e09))
* **core:** improve hash table lookup performance for small string keys such as column names and symbols ([#4348](https://github.com/questdb/questdb/issues/4348)) ([0ac8761](https://github.com/questdb/questdb/commit/0ac876105a75f307819930aa012aafeb8e85c2a3))
* **core:** speedup small transaction writing 50-100% ([#4793](https://github.com/questdb/questdb/issues/4793)) ([26b844d](https://github.com/questdb/questdb/commit/26b844d1b1b6925a0e83ef5f7b23d291bbc701bf))
* **ilp:** fix ingress perf issue for small, but frequent transactions ([#4221](https://github.com/questdb/questdb/issues/4221)) ([eaec412](https://github.com/questdb/questdb/commit/eaec41200d01db023e80ddcc08848bb8aa823393))
* **ilp:** optimize ingestion for tables with large number of columns ([#4371](https://github.com/questdb/questdb/issues/4371)) ([dcfd2c5](https://github.com/questdb/questdb/commit/dcfd2c52bbfc6b38814aef78f7d66a30c336ede2))
* **sql:**  JIT-optimise `IN(numeric values)` operator ([#4661](https://github.com/questdb/questdb/issues/4661)) ([753f204](https://github.com/questdb/questdb/commit/753f2045b0a2f6d34b7f35cd38b7ce18a2b0f9bc))
* **sql:** adaptive work stealing for parallel query execution on multicore machines ([#4542](https://github.com/questdb/questdb/issues/4542)) ([f7c8afd](https://github.com/questdb/questdb/commit/f7c8afda6e525fff627526755eddebb87a45e507))
* **sql:** add JIT compilation support for string/binary null check ([#4177](https://github.com/questdb/questdb/issues/4177)) ([6fbb204](https://github.com/questdb/questdb/commit/6fbb204855d090f1843479f957d31ac106fafc2e))
* **sql:** avoid full table scan in ASOF and LT JOIN with no additional columns ([#4199](https://github.com/questdb/questdb/issues/4199)) ([b363dc9](https://github.com/questdb/questdb/commit/b363dc9b02d59c63ddbaf442028e2f22a31eab69))
* **sql:** avoid redundant disk reads in ORDER BY + LIMIT queries with parallel filter ([#4148](https://github.com/questdb/questdb/issues/4148)) ([2b92eba](https://github.com/questdb/questdb/commit/2b92eba34c32c3bf62caed22b0792d92f6cf19f3))
* **sql:** avoid redundant parsing of UUID bind variables ([#4281](https://github.com/questdb/questdb/issues/4281)) ([5e656f6](https://github.com/questdb/questdb/commit/5e656f6a84430057373c59c43173cb129132760c))
* **sql:** execute complex sum aggregates on short column in parallel ([#4024](https://github.com/questdb/questdb/issues/4024)) ([b711a21](https://github.com/questdb/questdb/commit/b711a21e2fda6d212f9f79b92ef681f8d057890f))
* **sql:** get rid of offset packing in FastMap ([#4038](https://github.com/questdb/questdb/issues/4038)) ([4126b59](https://github.com/questdb/questdb/commit/4126b59111a41ea09e96bcbb126a5e7525c7957b))
* **sql:** improve parallel group by detection when aliasing columns ([#4190](https://github.com/questdb/questdb/issues/4190)) ([5f6ac7c](https://github.com/questdb/questdb/commit/5f6ac7cc66ddcaaab6598a55c89e03eed0822a0c))
* **sql:** improve performance of length(VARCHAR) ([#4442](https://github.com/questdb/questdb/issues/4442)) ([dcd021b](https://github.com/questdb/questdb/commit/dcd021bb304f062eef8f462f080b427ea19eed31))
* **sql:** micro optimizations SqlKeywords implementation (short-circuit evaluation, inline variable) ([#3978](https://github.com/questdb/questdb/issues/3978)) ([81cabd2](https://github.com/questdb/questdb/commit/81cabd241054202e1d0f57a1357de46064dd718e))
* **sql:** more efficient pattern lookup for short ASCII patterns ([#4706](https://github.com/questdb/questdb/issues/4706)) ([20ad756](https://github.com/questdb/questdb/commit/20ad756e96d21e22c26104cee9eaa25b4b16747c))
* **sql:** optimise aggregate query with LAST function on designated timestamp ([#4676](https://github.com/questdb/questdb/issues/4676)) ([2246e55](https://github.com/questdb/questdb/commit/2246e559966f5e94e2d9bea2aec0e46c2b91adbf))
* **sql:** optimize approx_percentile() function for long values ([#3985](https://github.com/questdb/questdb/issues/3985)) ([8b778a0](https://github.com/questdb/questdb/commit/8b778a0dff24762e69eac5f443f6bce4ad419920))
* **sql:** optimize count_distinct symbol function ([#3974](https://github.com/questdb/questdb/issues/3974)) ([dad03b6](https://github.com/questdb/questdb/commit/dad03b6cc937e9faf453465fbd12dd68b0360cc6))
* **sql:** optimize l2price with up to 5 argument pairs ([#4728](https://github.com/questdb/questdb/issues/4728)) ([84a4854](https://github.com/questdb/questdb/commit/84a4854357183498e36aabfd68f9d82086520862))
* **sql:** optimize order by designated timestamp and other columns with limit ([#4025](https://github.com/questdb/questdb/issues/4025)) ([1567174](https://github.com/questdb/questdb/commit/1567174eee204b00f93478908583844f9963d4d0))
* **sql:** optimize ORDER BY with LIMIT ([#4529](https://github.com/questdb/questdb/issues/4529)) ([40c1c61](https://github.com/questdb/questdb/commit/40c1c61c36d72a41a554c5a617a0b5d26f38bd6f))
* **sql:** parallel GROUP BY support for first/last functions ([#4267](https://github.com/questdb/questdb/issues/4267)) ([59b263c](https://github.com/questdb/questdb/commit/59b263c5c8fbab88114981482802b8bc00d9fccb))
* **sql:** parallel group by with optional filtering ([#4032](https://github.com/questdb/questdb/issues/4032)) ([fc23804](https://github.com/questdb/questdb/commit/fc23804602485c75bf70f1b247aba8d0d4f0ac65))
* **sql:** reduce query latency when querying tables under heavy writing ([#4500](https://github.com/questdb/questdb/issues/4500)) ([c3cc2e4](https://github.com/questdb/questdb/commit/c3cc2e43451f9f2ca7fdfec1f0fa95d5041dc859))
* **sql:** remove thread-local allocator access overhead in single-threaded GROUP BY/SAMPLE BY queries ([#4271](https://github.com/questdb/questdb/issues/4271)) ([e5ffd8e](https://github.com/questdb/questdb/commit/e5ffd8efcc9ca8175d9e762095d197b126ca40c3))
* **sql:** speed up first/last aggregate functions for string columns ([#4276](https://github.com/questdb/questdb/issues/4276)) ([939bad1](https://github.com/questdb/questdb/commit/939bad1c64e489ae850c0dcf6a9482dfe85d4a64))
* **sql:** speed up GROUP BY and JOIN in case of very small fixed-size keys ([#4134](https://github.com/questdb/questdb/issues/4134)) ([76d34b4](https://github.com/questdb/questdb/commit/76d34b49ec92e95fb42afd9a399a21910c9983c1))
* **sql:** speed up GROUP BY queries with ORDER BY and LIMIT ([#4523](https://github.com/questdb/questdb/issues/4523)) ([b483625](https://github.com/questdb/questdb/commit/b48362585280e5594eed5ff13790225e7a006426))
* **sql:** speed up GROUP BY queries with small fixed-size keys ([#4128](https://github.com/questdb/questdb/issues/4128)) ([95e5cf3](https://github.com/questdb/questdb/commit/95e5cf3a3d2d0be9c1ec2449af94868c5dfc87a6))
* **sql:** speed up like/ilike operator on symbol column ([#4794](https://github.com/questdb/questdb/issues/4794)) ([9ee0380](https://github.com/questdb/questdb/commit/9ee0380e07d91e669093ba6de371be4f3ccdd64f))
* **sql:** speed up regexp_replace(varchar) for simple patterns ([#4668](https://github.com/questdb/questdb/issues/4668)) ([3ec640a](https://github.com/questdb/questdb/commit/3ec640a52dc51f745af8767b084dc6fadeb6deb9))
* **sql:** speed up select distinct symbol queries ([#4030](https://github.com/questdb/questdb/issues/4030)) ([794c366](https://github.com/questdb/questdb/commit/794c3669b3555e1e3abb6f9d85f6c4095777238d))
* **sql:** speed up self-join queries on symbol columns ([#4720](https://github.com/questdb/questdb/issues/4720)) ([7feee4a](https://github.com/questdb/questdb/commit/7feee4a82461d746f002207fe51cebb212ec24dc))
* **sql:** speed up simple LIKE/ILIKE filters ([#3897](https://github.com/questdb/questdb/issues/3897)) ([328ddbb](https://github.com/questdb/questdb/commit/328ddbb98766113a34bbb7c63be9094ca8ebbd1c))
* **sql:** speed up SQL COPY and REST API CSV import ([#4381](https://github.com/questdb/questdb/issues/4381)) ([622c8e5](https://github.com/questdb/questdb/commit/622c8e5586c4c2ff62041671f064d37f673e82a5))
* **sql:** statistics-based map pre-sizing for parallel group by ([#4517](https://github.com/questdb/questdb/issues/4517)) ([67a2b48](https://github.com/questdb/questdb/commit/67a2b481c685f315eb00ce38db660480058ec6f8))
* **sql:** support advanced aggregate functions in parallel GROUP BY ([#4097](https://github.com/questdb/questdb/issues/4097)) ([e810c3c](https://github.com/questdb/questdb/commit/e810c3ca974362ce827e832fffae16da91bdf60a))
* **sql:** support ksum and nsum functions in parallel GROUP BY ([#4682](https://github.com/questdb/questdb/issues/4682)) ([ca2369c](https://github.com/questdb/questdb/commit/ca2369cefa972bd85f6d5916a47d7826c7e3e98d))
* **sql:** support timestamp literals in JIT compiler ([#4658](https://github.com/questdb/questdb/issues/4658)) ([b227c44](https://github.com/questdb/questdb/commit/b227c4446a6e319f9969a44a12f43d17fd7f82d6))
* **sql:** support uuid and long256 in parallel GROUP BY ([#4140](https://github.com/questdb/questdb/issues/4140)) ([cd11bdd](https://github.com/questdb/questdb/commit/cd11bdd6b22f08ae2a5c8343104f3b5cea94daf0))
* **sql:** use JIT compiled filter in parallel GROUP BY ([#4138](https://github.com/questdb/questdb/issues/4138)) ([f14e8bc](https://github.com/questdb/questdb/commit/f14e8bc37b9057f527be7bef9f824444ac67df2f))
* **sql:** use StringBuilder instead of StringBuffer when possible in regexp_replace ([#3969](https://github.com/questdb/questdb/issues/3969)) ([18cca5e](https://github.com/questdb/questdb/commit/18cca5ebdd98ad60929e52bdeef2507f1c68c94f))


### Reverts

* Revert "chore(build): add Xcheck:jni flag (#4343)" ([a54bc79](https://github.com/questdb/questdb/commit/a54bc79f8ccd54d17bd68e427e391771a61b18dc)), closes [#4343](https://github.com/questdb/questdb/issues/4343)
* Revert "chore(core): reuse of security context objects (#3955)" ([5e25a05](https://github.com/questdb/questdb/commit/5e25a0589760f06f8d57671fec61c02e029fc95a)), closes [#3955](https://github.com/questdb/questdb/issues/3955)