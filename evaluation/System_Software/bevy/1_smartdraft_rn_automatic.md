# v0.14.1

## ‚ú® feat
- Disabled the POLYGON_MODE_LINE GPU feature in examples to address WebAssembly (WASM) compatibility issues. Updated examples to conditionally include wireframe functionality only when not targeting WASM. [0886e6a](https://github.com/bevyengine/bevy/commit/0886e6a302e8d74254fd3ec6ede5fd483e0220b7) 
- Added reflection attributes to `BorderRadius`, `AnimationTransitions`, `OnAdd`, `OnInsert`, and `OnRemove` for scene serialization, enabling components to be saved and re-added upon scene load. [6882420](https://github.com/bevyengine/bevy/commit/6882420c7fc674742ac1161d52198a07fdf0e444) 
- The update allows using `bevy_input` types without `bevy_reflect`. The `bevy_reflect` feature in `bevy_input` is now optional and enabled by default. [1bc5ecd](https://github.com/bevyengine/bevy/commit/1bc5ecda9b1a1828b61af30149bcd40a8cde82c7) 
- New methods `insert_before` and `insert_startup_before` added to main and startup schedule lists for enhanced schedule management flexibility. [61c683f](https://github.com/bevyengine/bevy/commit/61c683fb6a10240424f0905598ed94e1547a8492) 

## üêõ fix
- Fixed overflow in `RenderLayers::iter_layers` by using `u64::checked_shr`, preventing panics in debug mode and infinite iterators in release mode. Added test case `render_layer_iter_no_overflow` to ensure the fix. [728c5b9](https://github.com/bevyengine/bevy/commit/728c5b98d4d1530ff86801cfb521af5e4c4dd246) 
- The `EmptyPathStream` struct is now included only for Android and wasm32 targets, addressing Rust nightly warnings. `MorphTargetNames` usage modified for better Rust compatibility. [a6fde10](https://github.com/bevyengine/bevy/commit/a6fde1059c8a413b353d4f39581b09b296cd6b9a) 
- The `StateScoped` struct now includes `Reflect` and `Clone` traits, enabling its use in Clone Bundles and expanding its applicability in contexts requiring cloning. [4275669](https://github.com/bevyengine/bevy/commit/4275669b07492ea66d5cf09fbd0c94c8833dafac) 
- Disabled GPU preprocessing on Android devices with Adreno 730 and earlier GPUs to prevent crashes. Tested on an Android device with an Adreno 730 GPU, which previously experienced crashes. [5d9e44b](https://github.com/bevyengine/bevy/commit/5d9e44b9dce73ef35670212a399955988e28ccec) 
- Fixed a build failure when compiling `bevy_gltf` with the `dds` feature enabled by adding a missing argument in a function call within the `bevy_core_pipeline` crate and enabling the `dds` feature in `bevy_core_pipeline`. [295ed1f](https://github.com/bevyengine/bevy/commit/295ed1fdb4c0779da7c784b41ccc7996801eda0a) 
- The default viewport now returns a 1x1 viewport to prevent crashes from a wgpu validation error. This change addresses an issue reported in the Bevy repository and has been tested by modifying the `3d_viewport_to_world` example, which now renders only the top-left pixel as expected. [420ca6c](https://github.com/bevyengine/bevy/commit/420ca6c43c2d65d822b2f2c7da5e2808af867f4c) 
- Addressed potential NaN values from denormalized quaternions in AABB implementations for round shapes. Added a clamp to eliminate negative values from numerical errors and refined calculations and variable names for consistency. [0e1858b](https://github.com/bevyengine/bevy/commit/0e1858bc4f1a9e7664898c27d41ad19e9c651c31) 
- Fixed build issue in `bevy_gltf` when using `pbr_multi_layer_material_textures` or `pbr_anisotropy_texture` features. Added necessary flags as dependencies to enable corresponding features in `bevy_pbr`. Identified by `flag-frenzy` tool. [2870d89](https://github.com/bevyengine/bevy/commit/2870d89d5ca28a1d3580d67630ee9659969cc11c) 
- Improved logging format for entities by removing redundancy. New format shows entity ID and generation concisely. [7ed1f6a](https://github.com/bevyengine/bevy/commit/7ed1f6a9b6b24224052ae2284d01239b11824c3f) 
- Optimized `Transform::local_{xyz}` methods by replacing `Dir3::new` with `Dir3::new_unchecked`, eliminating unnecessary normalizations. [e941264](https://github.com/bevyengine/bevy/commit/e941264b6f3f44af865e0e1642e93d34e8afee65) 
- Implemented a temporary fix for the app hanging when windows are invisible on Windows OS. Ensures app updates run regardless of the redraw call result if no windows are visible. This fix is specific to Windows OS and does not affect Linux or MacOS. [4bd56b6](https://github.com/bevyengine/bevy/commit/4bd56b6da1362f503203b66941bdbec742ec3cd7) 
- Corrected documentation for `Rot2::rotation_to/from_y` to accurately describe the rotations. [d0583c8](https://github.com/bevyengine/bevy/commit/d0583c8b5444660049a6a397604389f16323be97) 
- Modified the ObserverSystem traits to accept an `Out` parameter, enabling observer systems to have outputs. Added tests to verify that an observer system with a non-empty output can pipe its output into another system. [7f3fea9](https://github.com/bevyengine/bevy/commit/7f3fea9a5bb86a7f6a64dc45723b5c6b25a8f2e0) 
- The initial `StateTransition` now runs before `PreStartup` instead of during `Startup`. [524fb01](https://github.com/bevyengine/bevy/commit/524fb01457378096bf08e6bc90b085816cd24844) 
- Fixed a build issue in the `bevy_window` crate when the `serialize` feature was enabled. The `bevy_ecs/serialize` feature is now correctly added as a dependency. [70a0c21](https://github.com/bevyengine/bevy/commit/70a0c211ffcb6df7afd8ce645c43712c1d20d2e7) 
- Fixed an error in the SMAA shader by using the correct `d_xz` values, aligning with the original SMAA code. Tested on Windows 11 with the latest NVIDIA drivers; application runs as expected with SMAA enabled. [42412f3](https://github.com/bevyengine/bevy/commit/42412f35006607db0036f16829f3e4e4d4067042) 
- Corrected input parameters for `hsv_to_rgb` function calls in render debug code. Tested with 3D scene examples using PBR lighting and shadows. [df3fcbd](https://github.com/bevyengine/bevy/commit/df3fcbd116fb38bdd8ee6cde2740a98290a61c86) 
- Fixed an issue where only the first curve was applied in animations with multiple curves but one keyframe. Now, all curves are considered by continuing the process instead of stopping after the first curve. [2e577bc](https://github.com/bevyengine/bevy/commit/2e577bcdc9c09f18f4d06fe5f580e7ce26ff37dc) 
- Fixed a panic in `prepare_bloom_textures` when viewport height is zero by avoiding division by zero, preventing invalid texture size creation. Applications will still crash with a zero-size viewport, but the error message is now more informative. [9daf16b](https://github.com/bevyengine/bevy/commit/9daf16bb870ff4ae4f50a8dda9cef350bef2a791) 
- The `bevy_winit` crate update fixes a build issue with the `serialize` feature by ensuring the `serialize` flag is passed to `bevy_input` and `bevy_window` dependencies. [c4ea477](https://github.com/bevyengine/bevy/commit/c4ea4776c419a44bfa49ad3e7f13a675d28d8d1a) 
- Addressed a memory leak in `TextureCache` by retaining only entries with textures, preventing unused entries accumulation. Introduced an `is_empty()` method to check if the cache contains any textures. [680c994](https://github.com/bevyengine/bevy/commit/680c994100db29ab77b183ee8f6539d6fe6473d6) 
- Addresses a breaking change in image 0.25.2 by updating deprecated items causing continuous integration failures. [27cafda](https://github.com/bevyengine/bevy/commit/27cafdae9b4dd31b45e234279f9b4d3857721c7f) 
- Updated the minimum version of the `image` dependency for `bevy_render` to ensure compatibility with `image::ImageReader`. [587cffd](https://github.com/bevyengine/bevy/commit/587cffdcde0377a8c0191d41349f6cc26b5de372) 
- The `ui_layout_system` now re-syncs children after node removal to prevent layout glitches from phantom UI node children. This fix has been tested and confirmed. [ebfe545](https://github.com/bevyengine/bevy/commit/ebfe545f796a8d5073ad25d1832a6d983cb0e9e8) 
- The update fixes an issue where repeatedly clicking the window close button could cause a panic. The system now prevents a panic when inserting the `ClosingWindow` component into an entity. Tested on Windows by simulating the issue and confirming the panic no longer occurs. [3a6176b](https://github.com/bevyengine/bevy/commit/3a6176b6cbf0952435cb3fc47f5e21215cfb95e0) 
- Modified slicing checks and algorithm to fully support asymmetrical textures, tested with a custom asymmetrical texture for improved handling. [d888640](https://github.com/bevyengine/bevy/commit/d8886408bf1af50d4eff660e07063a5541f31bb4) 
- Fixed incorrect batching of phase items from other pipelines by ensuring an early exit when `GFBD::get_index_and_compare_data` returns None, skipping items not part of the current pipeline. Tested on various examples. [833ee3f](https://github.com/bevyengine/bevy/commit/833ee3f577e973a9d4c40c23c9c3ff1aee94b4c7) 
- Various code cleanups and improvements. Introduces new Clippy lint rules and allows certain warnings. Refactors code to remove unnecessary references and improve readability. [c217238](https://github.com/bevyengine/bevy/commit/c217238c5e239cb7ac4d82a462c37fd24b084abf) 

## üîß chore
- Includes updates and improvements across multiple project components. [d65eb39](https://github.com/bevyengine/bevy/commit/d65eb39277c4f85749ba27460b8398f815ef3802)